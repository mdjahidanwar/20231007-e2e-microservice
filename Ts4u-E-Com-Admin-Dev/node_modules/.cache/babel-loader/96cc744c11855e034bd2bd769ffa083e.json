{"ast":null,"code":"import _regeneratorRuntime from\"/home/e2e/e2e-microservice/20231007-e2e-microservice/Ts4u-E-Com-Admin-Dev/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/home/e2e/e2e-microservice/20231007-e2e-microservice/Ts4u-E-Com-Admin-Dev/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/home/e2e/e2e-microservice/20231007-e2e-microservice/Ts4u-E-Com-Admin-Dev/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/e2e/e2e-microservice/20231007-e2e-microservice/Ts4u-E-Com-Admin-Dev/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Row,Col,Card,Input,Button,Table,Tag,Space,Image,Switch,Popconfirm}from'antd';import{UploadOutlined,EditOutlined,DeleteOutlined,QuestionCircleOutlined}from'@ant-design/icons';import\"./brand.scss\";import axios from'axios';import MediaLibrary from'../../components/MediaLibrary';import{CSVLink}from\"react-csv\";import{useSelector,useDispatch}from'react-redux';var headers=[{label:\"name *\",key:\"name\"},{label:\"image\",key:\"image\"}];function Brand(){var _useSelector=useSelector(function(state){return state.data;}),brands=_useSelector.brands,isBrandLoading=_useSelector.isBrandLoading;var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoadingUpload=_useState4[0],setIsLoadingUpload=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),display=_useState6[0],setDisplay=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),csv=_useState8[0],setCsv=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),brandName=_useState10[0],setBrandName=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),brandImg=_useState12[0],setBrandImg=_useState12[1];var _useState13=useState(true),_useState14=_slicedToArray(_useState13,2),status=_useState14[0],setStatus=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),editId=_useState16[0],setEditId=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),selectedRowKeys=_useState18[0],setSelectedRowKeys=_useState18[1];var _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),selectedRows=_useState20[0],setSelectedRows=_useState20[1];//console.log(brands);\nvar clearFields=function clearFields(){setBrandName('');setBrandImg('');setStatus(true);setEditId(null);};var createBrand=function createBrand(){var data={name:brandName,image:brandImg,status:status};axios.post('/brand/create',data).then(function(res){dispatch({type:\"ADD_NEW_BRAND\",payload:res.data.brand});clearFields();}).catch(function(err){err&&err.response&&console.log(err.response.data);});};// const getBrands = () => {\n//     setIsLoading(true)\n//     axios.get('/brand/get')\n//         .then(res => {\n//             setIsLoading(false)\n//             setBrands(res.data.brands)\n//         })\n//         .catch(err => {\n//             setIsLoading(false)\n//             err && err.response && console.log(err.response.data)\n//         })\n// }\nvar deleteBrand=function deleteBrand(id){axios.delete(\"/brand/delete/\".concat(id)).then(function(res){if(res.data.success){dispatch({type:\"DELETE_BRAND\",payload:id});}}).catch(function(err){err&&err.response&&console.log(err.response.data);});};var setEditBrand=function setEditBrand(brand){setEditId(brand._id);setBrandName(brand.name);setBrandImg(brand.image);setStatus(brand.status);};var updateBrand=function updateBrand(){var data={name:brandName,image:brandImg,status:status};axios.patch(\"/brand/update/\".concat(editId),data).then(function(res){if(res.data.success){dispatch({type:\"UPDATE_BRAND\",payload:res.data.brand});clearFields();}}).catch(function(err){err&&err.response&&console.log(err.response.data);});};//console.log(brands);\nvar join=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(updated){var array;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:array=_toConsumableArray(brands);updated.map(function(u){var index=array.findIndex(function(arr){return arr._id===u._id;});array[index]=u;});return _context.abrupt(\"return\",array);case 3:case\"end\":return _context.stop();}}},_callee);}));return function join(_x){return _ref.apply(this,arguments);};}();var bulkEdit=function bulkEdit(value){setIsLoading(true);var data={ids:selectedRowKeys,status:value};axios.patch(\"/brand/bulkedit\",data).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(res){var updated,newBrands;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:updated=res.data.brands;_context2.next=3;return join(updated);case 3:newBrands=_context2.sent;dispatch({type:\"SET_BRANDS\",payload:newBrands});setSelectedRowKeys([]);setSelectedRows([]);setIsLoading(false);case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}()).catch(function(err){setIsLoading(false);console.log(err);});};var Filter=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(ids){var array;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:array=_toConsumableArray(brands);ids.map(function(id){array=array.filter(function(arr){return arr._id!==id;});});return _context3.abrupt(\"return\",array);case 3:case\"end\":return _context3.stop();}}},_callee3);}));return function Filter(_x3){return _ref3.apply(this,arguments);};}();var bulkDelete=function bulkDelete(){setIsLoading(true);var data={ids:selectedRowKeys};axios.patch(\"/brand/bulkdelete\",data).then(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(res){var filtered;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return Filter(selectedRowKeys);case 2:filtered=_context4.sent;dispatch({type:\"SET_BRANDS\",payload:filtered});setSelectedRowKeys([]);setSelectedRows([]);setIsLoading(false);case 7:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4){return _ref4.apply(this,arguments);};}()).catch(function(err){setIsLoading(false);console.log(err);});};var handleImageselect=function handleImageselect(item){setBrandImg(item.thumbnailUrl);setDisplay(false);};var columns=[{title:'Name',dataIndex:'name',key:'name'},{title:'Status',key:'status',dataIndex:'status',render:function render(status){return/*#__PURE__*/React.createElement(React.Fragment,null,status==true?/*#__PURE__*/React.createElement(Tag,{color:\"green\"},\"Active\"):/*#__PURE__*/React.createElement(Tag,{color:\"red\"},\"Inactive\"));}},{title:'Image',key:'image',dataIndex:'image',render:function render(image){return/*#__PURE__*/React.createElement(Image,{width:100,src:image,fallback:\"data:image/png;base64,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\"});}},{title:'Action',key:'action',render:function render(text,record){return/*#__PURE__*/React.createElement(Space,{size:\"middle\"},/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return setEditBrand(record);},className:\"d-center\",type:\"primary\",icon:/*#__PURE__*/React.createElement(EditOutlined,null)}),/*#__PURE__*/React.createElement(Popconfirm,{onConfirm:function onConfirm(){return deleteBrand(record._id);},title:\"Are you sure\\uFF1F\",icon:/*#__PURE__*/React.createElement(QuestionCircleOutlined,{style:{color:'red'}})},/*#__PURE__*/React.createElement(Button,{className:\"d-center\",icon:/*#__PURE__*/React.createElement(DeleteOutlined,null),danger:true})));}}];var rowSelection={selectedRowKeys:selectedRowKeys,onChange:function onChange(selectedRowKeys,selectedRows){setSelectedRowKeys(selectedRowKeys);setSelectedRows(selectedRows);}};var handleSaveCsv=function handleSaveCsv(){setIsLoadingUpload(true);var formData=new FormData();formData.append('file',csv);axios.post('/brand/bulkupload',formData).then(function(res){alert(\"\".concat(res.data.brands.length,\" brands added\"));setCsv(null);dispatch({type:\"SET_BRANDS\",payload:[].concat(_toConsumableArray(brands),_toConsumableArray(res.data.brands))});setIsLoadingUpload(false);}).catch(function(err){setIsLoadingUpload(false);err&&err.response&&alert(err.response.data.error);});};return/*#__PURE__*/React.createElement(\"div\",{className:\"brand\"},/*#__PURE__*/React.createElement(MediaLibrary,{display:display,onHide:function onHide(){return setDisplay(false);},selectCallback:function selectCallback(item){return handleImageselect(item);}}),/*#__PURE__*/React.createElement(Row,{gutter:16},/*#__PURE__*/React.createElement(Col,{className:\"gutter-row\",lg:14,md:24,sm:24},/*#__PURE__*/React.createElement(Card,{style:{marginTop:\"15px\"},title:\"Brands\"},/*#__PURE__*/React.createElement(Button,{style:{marginRight:\"10px\"},onClick:function onClick(){return bulkEdit(true);},disabled:selectedRows.length===0,type:\"primary\"},\"Make Active\"),/*#__PURE__*/React.createElement(Button,{style:{marginRight:\"10px\"},onClick:function onClick(){return bulkEdit(false);},disabled:selectedRows.length===0,type:\"primary\"},\"Make Inactive\"),/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return bulkDelete();},disabled:selectedRows.length===0,type:\"danger\"},\"Deletes\"),selectedRows.length>0&&/*#__PURE__*/React.createElement(\"strong\",{style:{marginLeft:\"10px\"}},selectedRows.length,\" Brands seleted\"),/*#__PURE__*/React.createElement(Table,{rowKey:\"_id\",rowSelection:rowSelection,loading:isLoading||isBrandLoading,columns:columns,dataSource:brands,pagination:{defaultPageSize:10,showSizeChanger:true,pageSizeOptions:['10','20','30'],showQuickJumper:true}}))),/*#__PURE__*/React.createElement(Col,{className:\"gutter-row\",lg:10,md:24,sm:24},/*#__PURE__*/React.createElement(Card,{style:{marginTop:\"15px\"},title:editId?\"Update Brand\":\"Create Brand\"},/*#__PURE__*/React.createElement(\"div\",{className:\"brand_wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input_item\"},/*#__PURE__*/React.createElement(\"label\",null,\"Brand name \",/*#__PURE__*/React.createElement(\"span\",{className:\"required\"},\"*\")),/*#__PURE__*/React.createElement(Input,{value:brandName,onChange:function onChange(e){return setBrandName(e.target.value);},type:\"text\",placeholder:\"Enter brand name\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"input_item\"},/*#__PURE__*/React.createElement(\"label\",null,\"Brand image \",/*#__PURE__*/React.createElement(\"span\",{className:\"required\"},\"*\")),/*#__PURE__*/React.createElement(\"div\",{style:{width:\"100%\"}},/*#__PURE__*/React.createElement(Button,{className:\"d-center\",onClick:function onClick(){return setDisplay(true);},type:\"primary\",shape:\"round\",icon:/*#__PURE__*/React.createElement(UploadOutlined,null),size:\"size\"},\"Upload image \"),brandImg&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"image_container\"},/*#__PURE__*/React.createElement(\"span\",{onClick:function onClick(){return setBrandImg('');}},\"X\"),/*#__PURE__*/React.createElement(\"img\",{src:brandImg}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"input_item\"},/*#__PURE__*/React.createElement(\"label\",null,\"Active \",/*#__PURE__*/React.createElement(\"span\",{className:\"required\"},\"*\")),/*#__PURE__*/React.createElement(Switch,{checked:status,onChange:function onChange(checked){return setStatus(checked);}})),editId?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return updateBrand();},className:\"submit_btn\",type:\"primary\"},\"Update\"),/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return clearFields();},className:\"submit_btn\",type:\"primary\",danger:true},\"Cancel\")):/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return createBrand();},className:\"submit_btn\",type:\"primary\"},\"Create\"))),/*#__PURE__*/React.createElement(Card,{style:{marginTop:\"15px\"},title:\"Bulk export\"},/*#__PURE__*/React.createElement(\"div\",{className:\"bulk_info\"},/*#__PURE__*/React.createElement(\"li\",null,\"1. Click the button to download all brands\")),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:\"15px\"}},/*#__PURE__*/React.createElement(CSVLink,{data:brands,headers:headers,asyncOnClick:true,onClick:function onClick(event,done){brands.length>0?done():done(false);}},/*#__PURE__*/React.createElement(Button,{disabled:brands.length===0,type:\"primary\"},\"Download brands CSV\")))),/*#__PURE__*/React.createElement(Card,{title:\"Upload file\",style:{marginTop:\"20px\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"bulk_info\"},/*#__PURE__*/React.createElement(\"strong\",null,\"Step 1:\"),/*#__PURE__*/React.createElement(\"li\",null,\"1. Download the skeleton file and fill it with proper data.\"),/*#__PURE__*/React.createElement(\"li\",null,\"2. You can download the example file to understand how the data must be filled.\"),/*#__PURE__*/React.createElement(\"li\",null,\"3. Once you have downloaded and filled the skeleton file, upload it in the form below and submit.\")),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:\"15px\"}},/*#__PURE__*/React.createElement(CSVLink,{data:[],headers:headers},/*#__PURE__*/React.createElement(Button,{type:\"primary\"},\"Download skeleton CSV\"))),/*#__PURE__*/React.createElement(\"label\",{class:\"file\"},/*#__PURE__*/React.createElement(\"input\",{onChange:function onChange(e){return setCsv(e.target.files[0]);},type:\"file\",id:\"file\",\"aria-label\":\"Browse csv file\",accept:\".csv\"}),/*#__PURE__*/React.createElement(\"span\",{class:\"file-custom\"},csv&&csv.name)),/*#__PURE__*/React.createElement(Button,{disabled:!csv,loading:isLoadingUpload,onClick:function onClick(){return handleSaveCsv();},className:\"d-center\",type:\"primary\",icon:/*#__PURE__*/React.createElement(UploadOutlined,null),size:\"size\"},\"Upload File \")))));}export default Brand;","map":{"version":3,"sources":["/home/e2e/e2e-microservice/20231007-e2e-microservice/Ts4u-E-Com-Admin-Dev/src/pages/brand/index.js"],"names":["React","useState","useEffect","Row","Col","Card","Input","Button","Table","Tag","Space","Image","Switch","Popconfirm","UploadOutlined","EditOutlined","DeleteOutlined","QuestionCircleOutlined","axios","MediaLibrary","CSVLink","useSelector","useDispatch","headers","label","key","Brand","state","data","brands","isBrandLoading","dispatch","isLoading","setIsLoading","isLoadingUpload","setIsLoadingUpload","display","setDisplay","csv","setCsv","brandName","setBrandName","brandImg","setBrandImg","status","setStatus","editId","setEditId","selectedRowKeys","setSelectedRowKeys","selectedRows","setSelectedRows","clearFields","createBrand","name","image","post","then","res","type","payload","brand","catch","err","response","console","log","deleteBrand","id","delete","success","setEditBrand","_id","updateBrand","patch","join","updated","array","map","u","index","findIndex","arr","bulkEdit","value","ids","newBrands","Filter","filter","bulkDelete","filtered","handleImageselect","item","thumbnailUrl","columns","title","dataIndex","render","text","record","color","rowSelection","onChange","handleSaveCsv","formData","FormData","append","alert","length","error","marginTop","marginRight","marginLeft","defaultPageSize","showSizeChanger","pageSizeOptions","showQuickJumper","e","target","width","checked","event","done","files"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Row, Col, Card, Input, Button, Table, Tag, Space, Image, Switch, Popconfirm } from 'antd';\nimport { UploadOutlined, EditOutlined, DeleteOutlined, QuestionCircleOutlined } from '@ant-design/icons'\nimport \"./brand.scss\"\nimport axios from 'axios'\nimport MediaLibrary from '../../components/MediaLibrary';\nimport { CSVLink } from \"react-csv\";\nimport {useSelector,useDispatch} from 'react-redux'\n\n\nconst headers = [\n    { label: \"name *\", key: \"name\" },\n    { label: \"image\", key: \"image\" },\n\n];\n\n\n\nfunction Brand() {\n    const {brands,isBrandLoading} = useSelector(state => state.data)\n    const dispatch = useDispatch()\n\n    const [isLoading, setIsLoading] = useState(false)\n    const [isLoadingUpload, setIsLoadingUpload] = useState(false)\n    const [display, setDisplay] = useState(false)\n    const [csv, setCsv] = useState(null)\n\n    const [brandName, setBrandName] = useState('')\n    const [brandImg, setBrandImg] = useState('')\n    const [status, setStatus] = useState(true)\n\n    const [editId, setEditId] = useState(null)\n\n\n    const [selectedRowKeys, setSelectedRowKeys] = useState([])\n    const [selectedRows, setSelectedRows] = useState([])\n\n    //console.log(brands);\n\n\n    const clearFields = () => {\n        setBrandName('')\n        setBrandImg('')\n        setStatus(true)\n        setEditId(null)\n    }\n\n\n    const createBrand = () => {\n        let data = {\n            name: brandName,\n            image: brandImg,\n            status\n        }\n        axios.post('/brand/create', data)\n            .then(res => {\n                dispatch({\n                    type:\"ADD_NEW_BRAND\",\n                    payload:res.data.brand\n                })\n                clearFields()\n            })\n            .catch(err => {\n                err && err.response && console.log(err.response.data)\n            })\n    }\n\n    // const getBrands = () => {\n    //     setIsLoading(true)\n    //     axios.get('/brand/get')\n    //         .then(res => {\n    //             setIsLoading(false)\n    //             setBrands(res.data.brands)\n    //         })\n    //         .catch(err => {\n    //             setIsLoading(false)\n    //             err && err.response && console.log(err.response.data)\n    //         })\n    // }\n    const deleteBrand = (id) => {\n        axios.delete(`/brand/delete/${id}`)\n            .then(res => {\n                if (res.data.success) {\n                    dispatch({\n                        type:\"DELETE_BRAND\",\n                        payload:id\n                    })\n                }\n            })\n            .catch(err => {\n                err && err.response && console.log(err.response.data)\n            })\n    }\n\n    const setEditBrand = (brand) => {\n\n        setEditId(brand._id)\n        setBrandName(brand.name)\n        setBrandImg(brand.image)\n        setStatus(brand.status)\n    }\n\n    const updateBrand = () => {\n        let data = {\n            name: brandName,\n            image: brandImg,\n            status\n        }\n        axios.patch(`/brand/update/${editId}`, data)\n            .then(res => {\n                if (res.data.success) {\n                    dispatch({\n                        type:\"UPDATE_BRAND\",\n                        payload:res.data.brand\n                    })\n                    clearFields()\n                }\n            })\n            .catch(err => {\n                err && err.response && console.log(err.response.data)\n            })\n    }\n    //console.log(brands);\n\n\n    let join = async (updated) => {\n        let array = [...brands]\n        updated.map(u => {\n            let index = array.findIndex(arr => arr._id === u._id)\n            array[index] = u\n        })\n        return array\n    }\n\n\n    const bulkEdit = (value) => {\n        setIsLoading(true)\n        let data = {\n            ids: selectedRowKeys,\n            status: value\n        }\n        axios.patch(\"/brand/bulkedit\", data)\n            .then(async (res) => {\n\n                let updated = res.data.brands\n                let newBrands = await join(updated)\n                dispatch({\n                    type:\"SET_BRANDS\",\n                    payload:newBrands\n                })\n                setSelectedRowKeys([])\n                setSelectedRows([])\n                setIsLoading(false)\n\n            }).catch(err => {\n                setIsLoading(false)\n                console.log(err);\n            })\n    }\n\n    let Filter = async (ids) => {\n        let array = [...brands]\n        ids.map(id => {\n            array = array.filter(arr => arr._id !== id)\n        })\n        return array\n    }\n\n    const bulkDelete = () => {\n        setIsLoading(true)\n        let data = {\n            ids: selectedRowKeys\n        }\n\n        axios.patch(\"/brand/bulkdelete\", data)\n            .then(async (res) => {\n\n                let filtered = await Filter(selectedRowKeys)\n                dispatch({\n                    type:\"SET_BRANDS\",\n                    payload:filtered\n                })\n                setSelectedRowKeys([])\n                setSelectedRows([])\n                setIsLoading(false)\n\n            }).catch(err => {\n                setIsLoading(false)\n                console.log(err);\n            })\n    }\n\n\n\n    const handleImageselect = (item) => {\n        setBrandImg(item.thumbnailUrl);\n        setDisplay(false)\n    }\n\n\n\n\n    const columns = [\n\n        {\n            title: 'Name',\n            dataIndex: 'name',\n            key: 'name',\n        },\n\n        {\n            title: 'Status',\n            key: 'status',\n            dataIndex: 'status',\n            render: status => (\n                <>\n                    {\n                        status == true ? <Tag color=\"green\">Active</Tag> : <Tag color=\"red\">Inactive</Tag>\n                    }\n                </>\n            ),\n        },\n        {\n            title: 'Image',\n            key: 'image',\n            dataIndex: 'image',\n            render: image => <Image\n                width={100}\n\n                src={image}\n                fallback=\"data:image/png;base64,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\"\n            />\n        },\n        {\n            title: 'Action',\n            key: 'action',\n            render: (text, record) => (\n                <Space size=\"middle\">\n                    <Button onClick={() => setEditBrand(record)} className='d-center' type='primary' icon={<EditOutlined />}></Button>\n                    <Popconfirm onConfirm={() => deleteBrand(record._id)} title=\"Are you sureï¼Ÿ\" icon={<QuestionCircleOutlined style={{ color: 'red' }} />}>\n                        <Button className='d-center' icon={<DeleteOutlined />} danger></Button>\n                    </Popconfirm>\n\n                </Space>\n            ),\n        },\n    ];\n\n\n\n\n    const rowSelection = {\n        selectedRowKeys,\n        onChange: (selectedRowKeys, selectedRows) => {\n\n            setSelectedRowKeys(selectedRowKeys);\n            setSelectedRows(selectedRows)\n        },\n    };\n\n\n\n\n    const handleSaveCsv = () => {\n        setIsLoadingUpload(true)\n        let formData = new FormData()\n        formData.append('file', csv)\n        axios.post('/brand/bulkupload', formData)\n            .then(res => {\n                alert(`${res.data.brands.length} brands added`)\n                setCsv(null)\n                dispatch({\n                    type:\"SET_BRANDS\",\n                    payload:[...brands,...res.data.brands]\n                })\n                setIsLoadingUpload(false)\n            })\n            .catch(err => {\n                setIsLoadingUpload(false)\n                err && err.response && alert(err.response.data.error)\n            })\n    }\n\n\n    return (\n        <div className='brand'>\n\n            <MediaLibrary display={display} onHide={() => setDisplay(false)} selectCallback={(item) => handleImageselect(item)} />\n            <Row gutter={16}>\n                <Col className=\"gutter-row\" lg={14} md={24} sm={24}>\n                    <Card style={{ marginTop: \"15px\" }} title=\"Brands\" >\n\n                        <Button style={{ marginRight: \"10px\" }} onClick={() => bulkEdit(true)} disabled={selectedRows.length === 0} type='primary'>Make Active</Button>\n                        <Button style={{ marginRight: \"10px\" }} onClick={() => bulkEdit(false)} disabled={selectedRows.length === 0} type='primary'>Make Inactive</Button>\n                        <Button onClick={() => bulkDelete()} disabled={selectedRows.length === 0} type='danger'>Deletes</Button>\n                        {selectedRows.length > 0 && <strong style={{ marginLeft: \"10px\" }}>{selectedRows.length} Brands seleted</strong>}\n                        <Table\n                            rowKey=\"_id\"\n                            rowSelection={rowSelection}\n                            loading={isLoading || isBrandLoading}\n                            columns={columns}\n                            dataSource={brands}\n                            pagination={{ defaultPageSize: 10, showSizeChanger: true, pageSizeOptions: ['10', '20', '30'], showQuickJumper: true }}\n                        />\n                    </Card>\n                </Col>\n                <Col className=\"gutter-row\" lg={10} md={24} sm={24}>\n\n                    <Card style={{ marginTop: \"15px\" }} title={editId ? \"Update Brand\" : \"Create Brand\"} >\n                        <div className='brand_wrapper'>\n                            <div className='input_item'>\n                                <label>Brand name <span className='required'>*</span></label>\n                                <Input\n                                    value={brandName}\n                                    onChange={(e) => setBrandName(e.target.value)}\n                                    type=\"text\"\n                                    placeholder='Enter brand name'>\n                                </Input>\n\n                            </div>\n\n                            <div className='input_item'>\n                                <label>Brand image <span className='required'>*</span></label>\n                                <div style={{ width: \"100%\" }}>\n                                    <Button className='d-center' onClick={() => setDisplay(true)} type=\"primary\" shape=\"round\" icon={<UploadOutlined />} size={\"size\"} >Upload image </Button>\n\n\n                                    {\n                                        brandImg && <>\n                                            <div className='image_container'>\n                                                <span onClick={() => setBrandImg('')}>X</span>\n                                                <img src={brandImg}></img>\n                                            </div>\n                                        </>\n                                    }\n\n\n                                </div>\n\n                            </div>\n\n                            <div className='input_item'>\n                                <label>Active <span className='required'>*</span></label>\n                                <Switch checked={status} onChange={(checked) => setStatus(checked)} />\n\n                            </div>\n                            {\n                                editId ? <>\n                                    <Button onClick={() => updateBrand()} className='submit_btn' type=\"primary\">Update</Button>\n                                    <Button onClick={() => clearFields()} className='submit_btn' type=\"primary\" danger>Cancel</Button>\n                                </> :\n                                    <Button onClick={() => createBrand()} className='submit_btn' type=\"primary\">Create</Button>\n                            }\n\n                        </div>\n                    </Card>\n\n\n\n\n                    <Card style={{ marginTop: \"15px\" }} title='Bulk export' >\n                        <div className=\"bulk_info\">\n                            <li>1. Click the button to download all brands</li>\n                        </div>\n                        <div style={{ marginTop: \"15px\" }}>\n                            <CSVLink\n                                data={brands}\n                                headers={headers}\n                                asyncOnClick={true}\n                                onClick={(event, done) => {\n                                    brands.length > 0 ? done()\n                                        : done(false)\n                                }}\n                            >\n                                <Button disabled={brands.length === 0} type=\"primary\">Download brands CSV</Button>\n                            </CSVLink>\n                        </div>\n                    </Card>\n\n\n\n\n                    <Card title=\"Upload file\" style={{ marginTop: \"20px\" }}>\n                        <div className=\"bulk_info\">\n                            <strong>Step 1:</strong>\n                            <li>1. Download the skeleton file and fill it with proper data.</li>\n                            <li>2. You can download the example file to understand how the data must be filled.</li>\n                            <li>3. Once you have downloaded and filled the skeleton file, upload it in the form below and submit.</li>\n                        </div>\n                        <div style={{ marginTop: \"15px\" }}>\n                            <CSVLink\n                                data={[]}\n                                headers={headers}\n                            >\n                                <Button type=\"primary\">Download skeleton CSV</Button>\n                            </CSVLink>\n                        </div>\n                        <label class=\"file\" >\n                            <input onChange={(e) => setCsv(e.target.files[0])} type=\"file\" id=\"file\" aria-label=\"Browse csv file\" accept='.csv' />\n                            <span class=\"file-custom\">{csv && csv.name}</span>\n                        </label>\n                        <Button disabled={!csv} loading={isLoadingUpload} onClick={() => handleSaveCsv()} className='d-center' type=\"primary\" icon={<UploadOutlined />} size={\"size\"} >Upload File </Button>\n                    </Card>\n\n                </Col>\n            </Row>\n        </div>\n    )\n}\n\nexport default Brand\n"]},"metadata":{},"sourceType":"module"}