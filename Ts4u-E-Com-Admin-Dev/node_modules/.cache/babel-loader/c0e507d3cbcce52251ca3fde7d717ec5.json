{"ast":null,"code":"var _jsxFileName = \"/home/e2e/e2e-microservice/20231007-e2e-microservice/Ts4u-E-Com-Admin-Dev/src/pages/product/CreateProduct.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Card, Form, Input, TreeSelect, Select, Switch, Button, Alert } from 'antd';\nimport { UploadOutlined } from '@ant-design/icons';\nimport \"./product.scss\";\nimport 'react-quill/dist/quill.snow.css';\nimport ReactQuill from 'react-quill';\nimport axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport MediaLibrary from '../../components/MediaLibrary';\nconst {\n  TreeNode\n} = TreeSelect;\nconst {\n  Option\n} = Select;\n\nfunction CreateProduct() {\n  const {\n    categories,\n    brands\n  } = useSelector(state => state.data);\n  const [display, setDisplay] = useState(false);\n  const [imageFor, setImageFor] = useState(\"thumbnail\");\n  const [errors, setErrors] = useState([]); //-----product information---------\n\n  const [name, setName] = useState(''); //const [brands, setBrands] = useState([])\n\n  const [brand, setBrand] = useState('');\n  const [unit, setUnit] = useState('');\n  const [tags, setTags] = useState([]);\n  const [tagInput, setTagInput] = useState('');\n  const [productType, setProductType] = useState('simple'); //categories\n  //const [categories, setCategories] = useState([])\n\n  const [subCategories, setSubCategories] = useState([]);\n  const [category, setCategory] = useState('');\n  const [subCategory, setSubCategory] = useState('');\n  const [subSubCategory, setSubSubCategory] = useState(''); //images\n\n  const [thumbnail, setThumbnail] = useState('');\n  const [gallery, setGallery] = useState([]); //attributes\n\n  const [attributes, setAttributes] = useState([]);\n  const [selectedAttr, setSelectedAttr] = useState([]);\n  const [selectedAttrVal, setSelectedAttrVal] = useState([]); //price\n\n  const [price, setPrice] = useState();\n  const [discount, setDiscount] = useState(0);\n  const [discountType, setDiscountType] = useState('flat');\n  const [tax, setTax] = useState(0);\n  const [taxType, setTaxType] = useState('flat'); //stock\n\n  const [stock, setStock] = useState('50');\n  const [sku, setSku] = useState(''); //variations\n\n  const [variations, setVariations] = useState([]); //description\n\n  const [description, setDescription] = useState(''); //shipping\n\n  const [freeShipping, setFreeShipping] = useState(true);\n  const [cost, setCost] = useState(0); //meta\n\n  const [metaTitle, setMetaTitle] = useState('');\n  const [metaDescription, setMetaDescription] = useState('');\n  const [metaImage, setMetaImage] = useState(''); //fetch data\n\n  const fetchAttributes = () => {\n    axios.get('attribute/get').then(res => {\n      setAttributes(res.data.attributes);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  useEffect(() => {\n    fetchAttributes();\n  }, []); //product type\n\n  const handleChangeProductType = value => {\n    if (value === 'simple') {\n      setSelectedAttr([]);\n      setSelectedAttrVal([]);\n      setVariations([]);\n    }\n\n    setProductType(value);\n  }; //category actions\n\n\n  useEffect(() => {\n    if (category) {\n      var _filterd$;\n\n      let filterd = categories.filter(cat => cat._id === category);\n      setSubCategories((_filterd$ = filterd[0]) === null || _filterd$ === void 0 ? void 0 : _filterd$.children);\n      setSubCategory('');\n      setSubSubCategory('');\n    } else {\n      setSubCategories([]);\n      setSubCategory('');\n      setSubSubCategory('');\n    }\n  }, [category]);\n\n  const handleSetSub = value => {\n    //console.log(value);\n    let values = value.split(\"@@@\");\n\n    if (values.length === 1) {\n      //console.log(values[0]);\n      setSubCategory(values[0]);\n    } else if (values.length === 2) {\n      setSubCategory(values[0]);\n      setSubSubCategory(values[1]);\n    }\n  }; //tags action\n\n\n  const handleKeyPressTag = e => {\n    if (e.charCode === 13 || e.charCode === 44) {\n      setTags(prev => [...prev, tagInput.replace(',', \"\")]); //console.log(tagInput);\n\n      setTagInput('');\n    }\n  };\n\n  const handleRemoveTag = tname => {\n    let filtered = tags.filter(t => t !== tname);\n    setTags(filtered);\n  }; //----------------attributes--------------------\n\n\n  const handleChangeAttr = value => {\n    let filtered = attributes.filter(a => a._id === value)[0];\n    setSelectedAttr(prev => [...prev, filtered]);\n  };\n\n  const handleRemoveAttr = value => {\n    let filtered = selectedAttr.filter(a => a._id !== value);\n    let selected = selectedAttr.filter(a => a._id === value)[0];\n    setSelectedAttr(filtered); //console.log(selected.name);\n\n    let attrval = [...selectedAttrVal];\n    let index = attrval.findIndex(v => v.name === selected.name);\n    attrval.splice(index, 1);\n    setSelectedAttrVal(attrval);\n  }; //----------------variation-------------------------\n\n\n  const handleChangeAttrValue = value => {\n    let newArry = [...selectedAttrVal];\n    let index = newArry.findIndex(val => val.name === value.split(\"@@@\")[1]);\n\n    if (index === -1) {\n      setSelectedAttrVal([...selectedAttrVal, {\n        name: value.split(\"@@@\")[1],\n        values: [value.split(\"@@@\")[0]]\n      }]);\n    } else {\n      let newVal = [...newArry[index].values, value.split(\"@@@\")[0]];\n      newArry[index] = {\n        name: value.split(\"@@@\")[1],\n        values: newVal\n      };\n      setSelectedAttrVal(newArry);\n    }\n  };\n\n  const handleRemoveAttrValue = value => {\n    let newArry = [...selectedAttrVal];\n    let index = newArry.findIndex(val => val.name === value.split(\"@@@\")[1]);\n    if (index === -1) return;\n    let selected = newArry[index];\n    let newVal = selected.values.filter(v => v !== value.split(\"@@@\")[0]);\n\n    if (newVal.length === 0) {\n      newArry.splice(index, 1);\n      setSelectedAttrVal(newArry);\n    } else {\n      newArry[index] = {\n        name: value.split(\"@@@\")[1],\n        values: newVal\n      };\n      setSelectedAttrVal(newArry);\n    }\n  };\n\n  useEffect(() => {\n    if (selectedAttrVal.length < 1) {\n      setVariations([]);\n      return;\n    }\n\n    var allArraysObj = {};\n    selectedAttrVal.map(a => {\n      allArraysObj = { ...allArraysObj,\n        [a.name]: a.values\n      };\n    });\n\n    let getProducts = arrays => {\n      if (arrays.length === 0) {\n        return [[]];\n      }\n\n      let results = [];\n      getProducts(arrays.slice(1)).forEach(product => {\n        arrays[0].forEach(value => {\n          results.push([value].concat(product));\n        });\n      });\n      return results;\n    };\n\n    let getAllCombinations = attributes => {\n      let attributeNames = Object.keys(attributes);\n      let attributeValues = attributeNames.map(name => attributes[name]);\n      return getProducts(attributeValues).map((product, index) => {\n        let val = [];\n        let obj = {\n          stock: 0,\n          image: \"\",\n          price: 0,\n          discount: 0,\n          discountType: \"flat\",\n          isDefault: false\n        };\n        attributeNames.forEach((name, i) => {\n          obj[name] = product[i];\n          val.push(product[i]);\n        });\n\n        if (index === 0) {\n          obj['isDefault'] = true;\n        }\n\n        obj[\"varname\"] = val.join(\"--\");\n        return obj;\n      });\n    }; //console.log(getAllCombinations(allArraysObj));\n\n\n    setVariations(getAllCombinations(allArraysObj));\n  }, [selectedAttrVal, selectedAttr]);\n  useEffect(() => {\n    if (!variations) return;\n    var sum = variations.reduce(function (a, b) {\n      return parseInt(a) + parseInt(b.stock);\n    }, 0);\n    setStock(sum);\n  }, [variations]);\n\n  const handleVariantInput = (varname, type, value, isDefault) => {\n    if (isDefault) {\n      if (type === 'price') {\n        setPrice(value);\n      } else if (type === 'discount') {\n        setDiscount(value);\n      } else if (type === 'discountType') {\n        setDiscountType(value);\n      }\n    }\n\n    let filtered = variations.findIndex(v => v.varname === varname);\n    let arr = [...variations];\n    arr[filtered] = { ...arr[filtered],\n      [type]: value\n    };\n    setVariations(arr);\n  };\n\n  const handleVariandDefault = (variant, value) => {\n    if (value) {\n      setPrice(variant.price);\n      setDiscount(variant.discount);\n      setDiscountType(variant.discountType);\n      let arr = [];\n      variations && variations.map((variation, i) => {\n        if (variation.varname === variant.varname) {\n          arr.push({ ...variation,\n            isDefault: true,\n            image: thumbnail\n          });\n        } else {\n          arr.push({ ...variation,\n            isDefault: false\n          });\n        }\n      });\n      setVariations(arr);\n    } else {\n      alert('Select another');\n    }\n  };\n\n  useEffect(() => {\n    if (freeShipping) {\n      setCost(0);\n    }\n  }, [freeShipping]);\n\n  const saveProduct = () => {\n    let data = {\n      name,\n      categories: [],\n      brand,\n      unit,\n      tags,\n      thumbnail,\n      gallery,\n      attributes: selectedAttrVal,\n      variations: variations || [],\n      productType,\n      price,\n      discount: {\n        discountType,\n        value: discount\n      },\n      tax: {\n        taxType,\n        value: discount\n      },\n      sku,\n      stock,\n      description,\n      shipping: {\n        isFree: freeShipping,\n        cost\n      },\n      meta: {\n        title: metaTitle,\n        description: metaDescription,\n        image: metaImage\n      }\n    };\n\n    if (category) {\n      data.categories.push({\n        level: 1,\n        category\n      });\n    }\n\n    if (subCategory) {\n      data.categories.push({\n        level: 2,\n        category: subCategory\n      });\n    }\n\n    if (subSubCategory) {\n      data.categories.push({\n        level: 3,\n        category: subSubCategory\n      });\n    }\n\n    if (!category) {\n      setErrors({\n        category: \"Please select a category\"\n      });\n    } //console.log(data);\n\n\n    axios.post('/product/create', data).then(res => {\n      alert(\"product created successfully\");\n      setErrors([]);\n    }).catch(err => {\n      window.scrollTo({\n        top: 100,\n        behavior: 'smooth'\n      });\n      err && err.response && setErrors(err.response.data);\n    });\n  };\n\n  const handleImageselect = item => {\n    if (imageFor === 'thumbnail') {\n      setThumbnail(item.thumbnailUrl);\n    }\n\n    if (imageFor === 'gallery') {\n      setGallery(prev => [...prev, item.thumbnailUrl]);\n    }\n\n    if (imageFor === 'meta') {\n      setMetaImage(item.thumbnailUrl);\n    }\n\n    if (imageFor.startsWith('variant@@@')) {\n      let varname = imageFor.replace(\"variant@@@\", \"\");\n      handleVariantInput(varname, 'image', item.thumbnailUrl, false);\n    }\n\n    setDisplay(false);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product_create\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MediaLibrary, {\n    display: display,\n    onHide: () => setDisplay(false),\n    selectCallback: item => handleImageselect(item),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Card, {\n    title: \"Product Information\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product_information\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 25\n    }\n  }, \"Product Name \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"required\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 45\n    }\n  }, \"*\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"width_100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    className: errors && errors.name && 'error',\n    value: name,\n    onChange: e => setName(e.target.value),\n    placeholder: \"Product name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 29\n    }\n  }), errors && errors.name && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"error_text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 55\n    }\n  }, errors.name))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 25\n    }\n  }, \"Category \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"required\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 41\n    }\n  }, \"*\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"width_100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    showSearch: true,\n    style: {\n      width: \"100%\"\n    },\n    dropdownStyle: {\n      maxHeight: 400,\n      overflow: 'auto'\n    },\n    placeholder: \"Please select a category\",\n    optionFilterProp: \"children\",\n    onChange: value => setCategory(value),\n    value: category,\n    filterOption: (input, option) => option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 29\n    }\n  }, categories.length > 0 && categories.map((cat, index) => {\n    return /*#__PURE__*/React.createElement(Option, {\n      key: index,\n      value: cat._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 45\n      }\n    }, cat.name);\n  })), errors && errors.category && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"error_text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 59\n    }\n  }, errors.category))), subCategories.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 29\n    }\n  }, \"Sub Category \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"required\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 49\n    }\n  }, \"*\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"width_100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(TreeSelect, {\n    style: {\n      width: '100%'\n    },\n    value: subSubCategory ? subCategory + \"@@@\" + subSubCategory : subCategory,\n    dropdownStyle: {\n      maxHeight: 400,\n      overflow: 'auto'\n    },\n    placeholder: \"Please select a category\",\n    allowClear: true,\n    treeDefaultExpandAll: true,\n    onChange: value => handleSetSub(value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 33\n    }\n  }, subCategories.length > 0 && subCategories.map((cat, index) => {\n    return /*#__PURE__*/React.createElement(TreeNode, {\n      key: cat._id,\n      value: cat._id,\n      title: cat.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 49\n      }\n    }, cat.children.length > 0 && cat.children.map((sub, index2) => {\n      return /*#__PURE__*/React.createElement(TreeNode, {\n        key: cat._id + \"@@@\" + sub._id,\n        value: cat._id + \"@@@\" + sub._id,\n        title: sub.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 65\n        }\n      });\n    }));\n  })), errors && errors.category && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"error_text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 518,\n      columnNumber: 63\n    }\n  }, errors.category))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 526,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 527,\n      columnNumber: 25\n    }\n  }, \"Brand \"), /*#__PURE__*/React.createElement(Select, {\n    showSearch: true,\n    style: {\n      width: \"100%\"\n    },\n    placeholder: \"Select a Brand\",\n    optionFilterProp: \"children\",\n    onChange: value => setBrand(value),\n    filterOption: (input, option) => option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 528,\n      columnNumber: 25\n    }\n  }, brands.length > 0 && brands.map((b, index) => {\n    return /*#__PURE__*/React.createElement(Option, {\n      key: index,\n      value: b._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 542,\n        columnNumber: 41\n      }\n    }, b.name);\n  })), \",\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 552,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 553,\n      columnNumber: 25\n    }\n  }, \"Unit \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"required\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 553,\n      columnNumber: 37\n    }\n  }, \"*\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"width_100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 554,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    className: errors && errors.name && 'error',\n    value: unit,\n    onChange: e => setUnit(e.target.value),\n    placeholder: \"Unit (e.g. KG,Pc etc)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 555,\n      columnNumber: 29\n    }\n  }), errors && errors.unit && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"error_text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 556,\n      columnNumber: 55\n    }\n  }, errors.unit))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 560,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 561,\n      columnNumber: 25\n    }\n  }, \"Tags \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tag_fieled\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 562,\n      columnNumber: 25\n    }\n  }, tags === null || tags === void 0 ? void 0 : tags.map((tname, index) => {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: \"tag_item\",\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 566,\n        columnNumber: 41\n      }\n    }, tname, \" \", /*#__PURE__*/React.createElement(\"span\", {\n      onClick: () => handleRemoveTag(tname),\n      className: \"remove\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 566,\n        columnNumber: 88\n      }\n    }, \"X\"));\n  }), /*#__PURE__*/React.createElement(Input, {\n    onChange: e => setTagInput(e.target.value),\n    onKeyPress: handleKeyPressTag,\n    type: \"text\",\n    value: tagInput,\n    placeholder: \"Enter tag name and press enter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 570,\n      columnNumber: 29\n    }\n  }))))), /*#__PURE__*/React.createElement(Card, {\n    style: {\n      marginTop: \"15px\"\n    },\n    title: \"Product Images\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 577,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product_information\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 578,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 579,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 580,\n      columnNumber: 25\n    }\n  }, \"Thumbnail image \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"required\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 580,\n      columnNumber: 48\n    }\n  }, \"*\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 581,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"d_center\",\n    onClick: () => {\n      setImageFor(\"thumbnail\");\n      setDisplay(true);\n    },\n    type: \"primary\",\n    shape: \"round\",\n    icon: /*#__PURE__*/React.createElement(UploadOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 589,\n        columnNumber: 39\n      }\n    }),\n    size: \"size\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 582,\n      columnNumber: 29\n    }\n  }, \"Upload thumbnail\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 593,\n      columnNumber: 29\n    }\n  }, thumbnail && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"image_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 595,\n      columnNumber: 50\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: thumbnail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 597,\n      columnNumber: 41\n    }\n  }))), errors && errors.thumbnail && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"error_text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 603,\n      columnNumber: 60\n    }\n  }, errors.thumbnail))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 609,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 610,\n      columnNumber: 25\n    }\n  }, \"Gallery images \"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 611,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"d_center\",\n    onClick: () => {\n      setImageFor(\"gallery\");\n      setDisplay(true);\n    },\n    type: \"primary\",\n    shape: \"round\",\n    icon: /*#__PURE__*/React.createElement(UploadOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 620,\n        columnNumber: 39\n      }\n    }),\n    size: \"size\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 612,\n      columnNumber: 29\n    }\n  }, \"Upload Galary\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 624,\n      columnNumber: 29\n    }\n  }, gallery.map((g, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"image_container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 628,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      onClick: () => {\n        let array = [...gallery];\n        array.splice(index, 1);\n        setGallery(array);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 629,\n        columnNumber: 49\n      }\n    }, \"X\"), /*#__PURE__*/React.createElement(\"img\", {\n      src: g,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 634,\n        columnNumber: 49\n      }\n    }));\n  })))))), /*#__PURE__*/React.createElement(Card, {\n    style: {\n      marginTop: \"15px\"\n    },\n    title: \"Product Variation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 650,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product_information\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 651,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 652,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 653,\n      columnNumber: 25\n    }\n  }, \"Product Type \"), /*#__PURE__*/React.createElement(Select, {\n    style: {\n      width: \"100%\"\n    },\n    onChange: value => handleChangeProductType(value),\n    value: productType,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 654,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"simple\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 659,\n      columnNumber: 29\n    }\n  }, \"Simple Product\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"variant\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 660,\n      columnNumber: 29\n    }\n  }, \"Variant Product\"))), productType === 'variant' && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 666,\n      columnNumber: 54\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 667,\n      columnNumber: 29\n    }\n  }, \"Attributes \"), /*#__PURE__*/React.createElement(Select, {\n    mode: \"multiple\",\n    size: \"default\",\n    placeholder: \"Please select\",\n    onSelect: value => handleChangeAttr(value),\n    style: {\n      width: '100%'\n    },\n    onDeselect: value => handleRemoveAttr(value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 668,\n      columnNumber: 29\n    }\n  }, attributes.map((attr, index) => {\n    return /*#__PURE__*/React.createElement(Option, {\n      value: attr._id,\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 679,\n        columnNumber: 45\n      }\n    }, attr.name);\n  }))), selectedAttr.map((attr, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"input_item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 691,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 692,\n        columnNumber: 37\n      }\n    }, attr.name, \" \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"required\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 692,\n        columnNumber: 56\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(Select, {\n      mode: \"multiple\",\n      size: \"default\",\n      placeholder: \"Please select\",\n      onSelect: value => handleChangeAttrValue(value),\n      onDeselect: value => handleRemoveAttrValue(value),\n      style: {\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 693,\n        columnNumber: 37\n      }\n    }, attr.values.map((val, index2) => {\n      return /*#__PURE__*/React.createElement(Option, {\n        value: val + \"@@@\" + attr.name,\n        key: index2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 705,\n          columnNumber: 53\n        }\n      }, val);\n    })));\n  }))), /*#__PURE__*/React.createElement(Card, {\n    style: {\n      marginTop: \"15px\"\n    },\n    title: \"Product price + stock\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 719,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product_information\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 720,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 721,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 722,\n      columnNumber: 25\n    }\n  }, \"Unit Price \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"required\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 722,\n      columnNumber: 43\n    }\n  }, \"*\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"width_100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 723,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    disabled: productType === 'variant',\n    className: errors && errors.price && 'error',\n    value: price,\n    onChange: e => setPrice(e.target.value),\n    placeholder: \"Product price\",\n    type: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 724,\n      columnNumber: 29\n    }\n  }), errors && errors.price && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"error_text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 725,\n      columnNumber: 56\n    }\n  }, errors.price))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 729,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 730,\n      columnNumber: 25\n    }\n  }, \"Discount \"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 731,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    disabled: productType === 'variant',\n    value: discount,\n    onChange: e => setDiscount(e.target.value),\n    style: {\n      width: \"60%\"\n    },\n    placeholder: \"Discount price\",\n    type: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 732,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Select, {\n    style: {\n      width: \"35%\"\n    },\n    placeholder: \"Select discount type\",\n    optionFilterProp: \"children\",\n    onChange: value => setDiscountType(value),\n    value: discountType,\n    disabled: productType === 'variant',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 733,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"flat\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 742,\n      columnNumber: 33\n    }\n  }, \"Flat\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"percent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 743,\n      columnNumber: 33\n    }\n  }, \"Percent\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 748,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 749,\n      columnNumber: 25\n    }\n  }, \"Tax \"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 750,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    onChange: e => setTax(e.target.value),\n    value: tax,\n    style: {\n      width: \"60%\"\n    },\n    placeholder: \"Tax value\",\n    type: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 751,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Select, {\n    style: {\n      width: \"35%\"\n    },\n    placeholder: \"Select value type\",\n    optionFilterProp: \"children\",\n    onChange: value => setTaxType(value),\n    value: taxType,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 752,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"flat\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 761,\n      columnNumber: 33\n    }\n  }, \"Flat\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"percent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 762,\n      columnNumber: 33\n    }\n  }, \"Percent\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 767,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 768,\n      columnNumber: 25\n    }\n  }, \"SKU \"), /*#__PURE__*/React.createElement(Input, {\n    value: sku,\n    onChange: e => setSku(e.target.value),\n    placeholder: \"Product SKU\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 769,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 771,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 772,\n      columnNumber: 25\n    }\n  }, \"Stock \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"required\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 772,\n      columnNumber: 38\n    }\n  }, \"*\")), /*#__PURE__*/React.createElement(Input, {\n    disabled: productType === 'variant',\n    value: stock,\n    onChange: e => setStock(e.target.value),\n    placeholder: \"Product stock\",\n    type: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 773,\n      columnNumber: 25\n    }\n  })), variations && variations.length > 0 && /*#__PURE__*/React.createElement(\"table\", {\n    className: \"variation_table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 778,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 779,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 780,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 781,\n      columnNumber: 33\n    }\n  }, \"Variant\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 782,\n      columnNumber: 33\n    }\n  }, \"Variant Price\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 783,\n      columnNumber: 33\n    }\n  }, \"Discount\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 784,\n      columnNumber: 33\n    }\n  }, \"Discount Type\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 785,\n      columnNumber: 33\n    }\n  }, \"Stock\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 786,\n      columnNumber: 33\n    }\n  }, \"Set Default\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 787,\n      columnNumber: 33\n    }\n  }, \"Photo\")), variations && variations.map((variant, index) => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 792,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 793,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(React.Fragment, null, Object.keys(variant).map((keyName, i) => keyName === 'varname' || keyName === 'image' || keyName === 'price' || keyName === 'stock' || keyName === 'discount' || keyName === 'discountType' || keyName === \"isDefault\" ? \"\" : /*#__PURE__*/React.createElement(\"span\", {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 798,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 800,\n        columnNumber: 69\n      }\n    }, keyName, \" :\"), /*#__PURE__*/React.createElement(\"strong\", {\n      style: {\n        margin: \"0 5px\",\n        color: \"#494A4A\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 801,\n        columnNumber: 69\n      }\n    }, variant[keyName]), \",\")))), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 809,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      value: variant.price,\n      onChange: e => handleVariantInput(variant.varname, 'price', e.target.value, variant.isDefault),\n      placeholder: \"Variant Price\",\n      type: \"number\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 810,\n        columnNumber: 49\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 812,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      value: variant.discount,\n      onChange: e => handleVariantInput(variant.varname, 'discount', e.target.value, variant.isDefault),\n      placeholder: \"Discount\",\n      type: \"number\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 813,\n        columnNumber: 49\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 815,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Select, {\n      style: {\n        width: \"90%\"\n      },\n      placeholder: \"Select discount type\",\n      optionFilterProp: \"children\",\n      onChange: value => handleVariantInput(variant.varname, 'discountType', value, variant.isDefault),\n      value: variant.discountType,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 816,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(Option, {\n      value: \"flat\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 824,\n        columnNumber: 53\n      }\n    }, \"Flat\"), /*#__PURE__*/React.createElement(Option, {\n      value: \"percent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 825,\n        columnNumber: 53\n      }\n    }, \"Percent\"))), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 828,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      onBlur: e => {\n        e.target.value === '' && handleVariantInput(variant.varname, 'stock', 0);\n      },\n      value: variant.stock,\n      onChange: e => handleVariantInput(variant.varname, 'stock', e.target.value),\n      placeholder: \"Variant Stock\",\n      type: \"number\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 829,\n        columnNumber: 49\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 831,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Switch, {\n      style: {\n        width: \"10px\"\n      },\n      checked: variant.isDefault,\n      onChange: c => handleVariandDefault(variant, c),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 832,\n        columnNumber: 49\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 834,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"d_center\",\n      onClick: () => {\n        setImageFor(\"variant@@@\" + variant.varname);\n        setDisplay(true);\n      },\n      type: \"primary\",\n      shape: \"round\",\n      icon: /*#__PURE__*/React.createElement(UploadOutlined, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 845,\n          columnNumber: 59\n        }\n      }),\n      size: \"size\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 837,\n        columnNumber: 49\n      }\n    }, \"Upload Image\"), variant.image && /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 850,\n        columnNumber: 70\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"image_container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 851,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      onClick: () => handleVariantInput(variant.varname, 'image', \"\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 852,\n        columnNumber: 61\n      }\n    }, \"X\"), /*#__PURE__*/React.createElement(\"img\", {\n      src: variant.image,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 853,\n        columnNumber: 61\n      }\n    })))));\n  }))))), /*#__PURE__*/React.createElement(Card, {\n    style: {\n      marginTop: \"15px\"\n    },\n    title: \"Product Description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 878,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product_information\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 879,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 880,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 881,\n      columnNumber: 25\n    }\n  }, \"Description \"), /*#__PURE__*/React.createElement(ReactQuill, {\n    value: description,\n    onChange: value => setDescription(value),\n    style: {\n      width: \"100%\",\n      marginBottom: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 882,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(Card, {\n    style: {\n      marginTop: \"15px\"\n    },\n    title: \"Product shipping cost\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 895,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product_information\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 896,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 897,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 898,\n      columnNumber: 25\n    }\n  }, \"Free shipping \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"required\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 898,\n      columnNumber: 46\n    }\n  }, \"*\")), /*#__PURE__*/React.createElement(Switch, {\n    style: {\n      width: \"10px\"\n    },\n    checked: freeShipping,\n    onChange: c => setFreeShipping(c),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 899,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 901,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 902,\n      columnNumber: 25\n    }\n  }, \"Shipping cost \"), /*#__PURE__*/React.createElement(Input, {\n    value: cost,\n    onChange: e => setCost(e.target.value),\n    disabled: freeShipping,\n    placeholder: \"shipping cost\",\n    type: \"number\",\n    style: {\n      width: \"20%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 903,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(Card, {\n    style: {\n      marginTop: \"15px\"\n    },\n    title: \"SEO Meta Tags\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 912,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product_information\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 913,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 914,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 915,\n      columnNumber: 25\n    }\n  }, \"Meta title \"), /*#__PURE__*/React.createElement(Input, {\n    value: metaTitle,\n    onChange: e => setMetaTitle(e.target.value),\n    type: \"text\",\n    placeholder: \"product meta title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 916,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 918,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 919,\n      columnNumber: 25\n    }\n  }, \"Meta description \"), /*#__PURE__*/React.createElement(Input.TextArea, {\n    value: metaDescription,\n    onChange: e => setMetaDescription(e.target.value),\n    type: \"text\",\n    placeholder: \"product meta description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 920,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 922,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 923,\n      columnNumber: 25\n    }\n  }, \"Meta Image \"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 924,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"d_center\",\n    onClick: () => {\n      setImageFor(\"meta\");\n      setDisplay(true);\n    },\n    type: \"primary\",\n    shape: \"round\",\n    icon: /*#__PURE__*/React.createElement(UploadOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 933,\n        columnNumber: 39\n      }\n    }),\n    size: \"size\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 925,\n      columnNumber: 29\n    }\n  }, \"Upload meta image\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 937,\n      columnNumber: 29\n    }\n  }, metaImage && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"image_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 939,\n      columnNumber: 50\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    onClick: () => setMetaImage(''),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 940,\n      columnNumber: 41\n    }\n  }, \"X\"), /*#__PURE__*/React.createElement(\"img\", {\n    src: metaImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 941,\n      columnNumber: 41\n    }\n  }))))))), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => saveProduct(),\n    size: \"large\",\n    style: {\n      float: \"right\",\n      margin: \"15px 0\"\n    },\n    type: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 955,\n      columnNumber: 13\n    }\n  }, \"Save Product\"));\n}\n\nexport default CreateProduct;","map":{"version":3,"sources":["/home/e2e/e2e-microservice/20231007-e2e-microservice/Ts4u-E-Com-Admin-Dev/src/pages/product/CreateProduct.js"],"names":["React","useState","useEffect","Card","Form","Input","TreeSelect","Select","Switch","Button","Alert","UploadOutlined","ReactQuill","axios","useSelector","MediaLibrary","TreeNode","Option","CreateProduct","categories","brands","state","data","display","setDisplay","imageFor","setImageFor","errors","setErrors","name","setName","brand","setBrand","unit","setUnit","tags","setTags","tagInput","setTagInput","productType","setProductType","subCategories","setSubCategories","category","setCategory","subCategory","setSubCategory","subSubCategory","setSubSubCategory","thumbnail","setThumbnail","gallery","setGallery","attributes","setAttributes","selectedAttr","setSelectedAttr","selectedAttrVal","setSelectedAttrVal","price","setPrice","discount","setDiscount","discountType","setDiscountType","tax","setTax","taxType","setTaxType","stock","setStock","sku","setSku","variations","setVariations","description","setDescription","freeShipping","setFreeShipping","cost","setCost","metaTitle","setMetaTitle","metaDescription","setMetaDescription","metaImage","setMetaImage","fetchAttributes","get","then","res","catch","err","console","log","handleChangeProductType","value","filterd","filter","cat","_id","children","handleSetSub","values","split","length","handleKeyPressTag","e","charCode","prev","replace","handleRemoveTag","tname","filtered","t","handleChangeAttr","a","handleRemoveAttr","selected","attrval","index","findIndex","v","splice","handleChangeAttrValue","newArry","val","newVal","handleRemoveAttrValue","allArraysObj","map","getProducts","arrays","results","slice","forEach","product","push","concat","getAllCombinations","attributeNames","Object","keys","attributeValues","obj","image","isDefault","i","join","sum","reduce","b","parseInt","handleVariantInput","varname","type","arr","handleVariandDefault","variant","variation","alert","saveProduct","shipping","isFree","meta","title","level","post","window","scrollTo","top","behavior","response","handleImageselect","item","thumbnailUrl","startsWith","target","width","maxHeight","overflow","input","option","toLowerCase","indexOf","sub","index2","marginTop","g","array","attr","justifyContent","keyName","margin","color","c","marginBottom","float"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Card, Form, Input, TreeSelect, Select, Switch, Button, Alert } from 'antd';\nimport { UploadOutlined } from '@ant-design/icons'\nimport \"./product.scss\"\nimport 'react-quill/dist/quill.snow.css';\nimport ReactQuill from 'react-quill'\nimport axios from 'axios'\nimport {useSelector} from 'react-redux'\nimport MediaLibrary from '../../components/MediaLibrary';\n\nconst { TreeNode } = TreeSelect;\nconst { Option } = Select;\n\n\n\n\n\n\n\n\n\n\n\nfunction CreateProduct() {\n    const {categories,brands} = useSelector(state => state.data)\n    const [display, setDisplay] = useState(false)\n    const [imageFor, setImageFor] = useState(\"thumbnail\")\n\n    const [errors, setErrors] = useState([])\n\n    //-----product information---------\n    const [name, setName] = useState('')\n    //const [brands, setBrands] = useState([])\n    const [brand, setBrand] = useState('')\n    const [unit, setUnit] = useState('')\n    const [tags, setTags] = useState([])\n    const [tagInput, setTagInput] = useState('')\n\n    const [productType, setProductType] = useState('simple')\n\n    //categories\n    //const [categories, setCategories] = useState([])\n    const [subCategories, setSubCategories] = useState([])\n    const [category, setCategory] = useState('')\n    const [subCategory, setSubCategory] = useState('')\n    const [subSubCategory, setSubSubCategory] = useState('')\n\n    //images\n    const [thumbnail, setThumbnail] = useState('')\n    const [gallery, setGallery] = useState([])\n\n    //attributes\n    const [attributes, setAttributes] = useState([])\n    const [selectedAttr, setSelectedAttr] = useState([])\n    const [selectedAttrVal, setSelectedAttrVal] = useState([])\n\n\n\n    //price\n    const [price, setPrice] = useState()\n    const [discount, setDiscount] = useState(0)\n    const [discountType, setDiscountType] = useState('flat')\n    const [tax, setTax] = useState(0)\n    const [taxType, setTaxType] = useState('flat')\n\n    //stock\n    const [stock, setStock] = useState('50')\n    const [sku, setSku] = useState('')\n\n\n    //variations\n\n    const [variations, setVariations] = useState([])\n\n\n    //description\n    const [description, setDescription] = useState('')\n\n    //shipping\n    const [freeShipping, setFreeShipping] = useState(true)\n    const [cost, setCost] = useState(0)\n\n    //meta\n    const [metaTitle, setMetaTitle] = useState('')\n    const [metaDescription, setMetaDescription] = useState('')\n    const [metaImage, setMetaImage] = useState('')\n\n\n\n    //fetch data\n \n\n    const fetchAttributes = () => {\n        axios.get('attribute/get')\n            .then(res => {\n                setAttributes(res.data.attributes)\n            })\n            .catch(err => {\n                console.log(err);\n            })\n    }\n\n\n    useEffect(() => {\n        fetchAttributes()\n    }, [])\n\n\n    //product type\n\n    const handleChangeProductType = (value) => {\n        if (value === 'simple') {\n            setSelectedAttr([])\n            setSelectedAttrVal([])\n            setVariations([])\n        }\n        setProductType(value)\n    }\n\n    //category actions\n    useEffect(() => {\n        if (category) {\n            let filterd = categories.filter(cat => cat._id === category)\n            setSubCategories(filterd[0]?.children)\n            setSubCategory('')\n            setSubSubCategory('')\n        } else {\n            setSubCategories([])\n            setSubCategory('')\n            setSubSubCategory('')\n\n        }\n    }, [category])\n\n\n    const handleSetSub = (value) => {\n        //console.log(value);\n        let values = value.split(\"@@@\")\n        if (values.length === 1) {\n            //console.log(values[0]);\n            setSubCategory(values[0])\n        } else if (values.length === 2) {\n            setSubCategory(values[0])\n            setSubSubCategory(values[1])\n        }\n    }\n\n\n\n\n\n    //tags action\n    const handleKeyPressTag = (e) => {\n\n        if (e.charCode === 13 || e.charCode === 44) {\n            setTags(prev => [...prev, tagInput.replace(',', \"\")])\n            //console.log(tagInput);\n            setTagInput('')\n        }\n    }\n\n    const handleRemoveTag = (tname) => {\n        let filtered = tags.filter(t => t !== tname)\n        setTags(filtered)\n    }\n\n\n    //----------------attributes--------------------\n    const handleChangeAttr = (value) => {\n        let filtered = attributes.filter(a => a._id === value)[0]\n        setSelectedAttr(prev => [...prev, filtered])\n    }\n    const handleRemoveAttr = (value) => {\n\n        let filtered = selectedAttr.filter(a => a._id !== value)\n        let selected = selectedAttr.filter(a => a._id === value)[0]\n        setSelectedAttr(filtered)\n        //console.log(selected.name);\n\n        let attrval = [...selectedAttrVal]\n        let index = attrval.findIndex(v => v.name === selected.name)\n        attrval.splice(index, 1)\n        setSelectedAttrVal(attrval)\n\n    }\n\n\n    //----------------variation-------------------------\n    const handleChangeAttrValue = (value) => {\n\n        let newArry = [...selectedAttrVal]\n        let index = newArry.findIndex(val => val.name === value.split(\"@@@\")[1])\n\n\n        if (index === -1) {\n            setSelectedAttrVal([...selectedAttrVal, { name: value.split(\"@@@\")[1], values: [value.split(\"@@@\")[0]] }])\n        } else {\n            let newVal = [...newArry[index].values, value.split(\"@@@\")[0]]\n            newArry[index] = { name: value.split(\"@@@\")[1], values: newVal }\n            setSelectedAttrVal(newArry)\n        }\n    }\n\n    const handleRemoveAttrValue = (value) => {\n\n        let newArry = [...selectedAttrVal]\n        let index = newArry.findIndex(val => val.name === value.split(\"@@@\")[1])\n\n        if (index === -1) return\n        let selected = newArry[index]\n\n        let newVal = selected.values.filter(v => v !== value.split(\"@@@\")[0])\n\n\n        if (newVal.length === 0) {\n\n            newArry.splice(index, 1)\n            setSelectedAttrVal(newArry)\n        } else {\n            newArry[index] = { name: value.split(\"@@@\")[1], values: newVal }\n            setSelectedAttrVal(newArry)\n        }\n\n\n    }\n\n\n\n\n    useEffect(() => {\n        if (selectedAttrVal.length < 1) {\n            setVariations([])\n            return\n        }\n\n        var allArraysObj = {}\n        selectedAttrVal.map(a => {\n            allArraysObj = { ...allArraysObj, [a.name]: a.values }\n        })\n\n\n        let getProducts = (arrays) => {\n            if (arrays.length === 0) {\n                return [[]];\n            }\n\n            let results = [];\n\n            getProducts(arrays.slice(1)).forEach((product) => {\n                arrays[0].forEach((value) => {\n                    results.push([value].concat(product));\n                });\n            });\n\n            return results;\n        };\n\n        let getAllCombinations = (attributes) => {\n\n            let attributeNames = Object.keys(attributes);\n\n            let attributeValues = attributeNames.map((name) => attributes[name]);\n\n            return getProducts(attributeValues).map((product, index) => {\n                let val = []\n                let obj = { stock: 0, image: \"\", price: 0, discount: 0, discountType: \"flat\", isDefault: false };\n                attributeNames.forEach((name, i) => {\n                    obj[name] = product[i];\n                    val.push(product[i]);\n\n\n                });\n                if (index === 0) {\n                    obj['isDefault'] = true\n                }\n                obj[\"varname\"] = (val.join(\"--\"));\n                return obj;\n            });\n        };\n        //console.log(getAllCombinations(allArraysObj));\n        setVariations(getAllCombinations(allArraysObj));\n    }, [selectedAttrVal, selectedAttr])\n\n    useEffect(() => {\n        if (!variations) return\n\n        var sum = variations.reduce(function (a, b) {\n            return parseInt(a) + parseInt(b.stock);\n        }, 0);\n        setStock(sum);\n    }, [variations])\n\n    const handleVariantInput = (varname, type, value, isDefault) => {\n        if (isDefault) {\n            if (type === 'price') {\n                setPrice(value)\n            } else if (type === 'discount') {\n                setDiscount(value)\n            } else if (type === 'discountType') {\n                setDiscountType(value)\n            }\n        }\n        let filtered = variations.findIndex(v => v.varname === varname)\n        let arr = [...variations]\n        arr[filtered] = { ...arr[filtered], [type]: value }\n        setVariations(arr)\n    }\n\n    const handleVariandDefault = (variant, value) => {\n        if (value) {\n            setPrice(variant.price)\n            setDiscount(variant.discount)\n            setDiscountType(variant.discountType)\n            let arr = []\n            variations && variations.map((variation, i) => {\n                if (variation.varname === variant.varname) {\n                    arr.push({ ...variation, isDefault: true, image: thumbnail })\n                } else {\n                    arr.push({ ...variation, isDefault: false })\n                }\n            });\n\n            setVariations(arr)\n        } else {\n            alert('Select another')\n        }\n\n    }\n\n\nuseEffect(() => {\n    if(freeShipping){\n        setCost(0)\n    }\n}, [freeShipping])\n\n\n\n    const saveProduct = () => {\n        let data = {\n            name,\n            categories: [],\n            brand,\n            unit,\n            tags,\n            thumbnail,\n            gallery,\n            attributes: selectedAttrVal,\n            variations: variations || [],\n            productType,\n            price,\n            discount: {\n                discountType,\n                value: discount\n            },\n            tax: {\n                taxType,\n                value: discount\n            },\n            sku,\n            stock,\n            description,\n            shipping: {\n                isFree: freeShipping,\n                cost\n            },\n            meta: {\n                title: metaTitle,\n                description: metaDescription,\n                image: metaImage\n            }\n        }\n\n        if (category) {\n            data.categories.push({ level: 1, category })\n        }\n        if (subCategory) {\n            data.categories.push({ level: 2, category: subCategory })\n        }\n        if (subSubCategory) {\n            data.categories.push({ level: 3, category: subSubCategory })\n        }\n\n        if (!category) {\n            setErrors({ category: \"Please select a category\" })\n        }\n\n        //console.log(data);\n\n        axios.post('/product/create', data)\n            .then(res => {\n                alert(\"product created successfully\");\n                setErrors([])\n            })\n            .catch(err => {\n                window.scrollTo({\n                    top: 100,\n\n                    behavior: 'smooth'\n                });\n                err && err.response && setErrors(err.response.data)\n            })\n    }\n\n    const handleImageselect = (item) => {\n        if (imageFor === 'thumbnail') {\n            setThumbnail(item.thumbnailUrl);\n           \n        }\n        if (imageFor === 'gallery') {\n            setGallery(prev => [...prev, item.thumbnailUrl]);\n        }\n        if (imageFor === 'meta') {\n            setMetaImage(item.thumbnailUrl);\n        }\n        if (imageFor.startsWith('variant@@@')) {\n            let varname = imageFor.replace(\"variant@@@\", \"\")\n            handleVariantInput(varname, 'image', item.thumbnailUrl, false)\n        }\n\n        setDisplay(false)\n    }\n\n\n\n\n\n\n\n    return (\n        <div className=\"product_create\">\n            <MediaLibrary display={display} onHide={() => setDisplay(false)} selectCallback={(item) => handleImageselect(item)} />\n            <Card title=\"Product Information\" >\n                <div className='product_information'>\n                    <div className='input_item'>\n                        <label>Product Name <span className='required'>*</span></label>\n                        <div className='width_100'>\n                            <Input className={errors && errors.name && 'error'} value={name} onChange={(e) => setName(e.target.value)} placeholder='Product name'></Input>\n                            {errors && errors.name && <span className='error_text'>{errors.name}</span>}\n\n\n                        </div>\n\n                    </div>\n\n                    {/* -------------------categories-------------- */}\n                    <div className='input_item'>\n                        <label>Category <span className='required'>*</span></label>\n                        <div className='width_100'>\n                            <Select\n                                showSearch\n                                style={{ width: \"100%\" }}\n                                dropdownStyle={{ maxHeight: 400, overflow: 'auto' }}\n                                placeholder=\"Please select a category\"\n                                optionFilterProp=\"children\"\n                                onChange={(value) => setCategory(value)}\n                                value={category}\n                                filterOption={(input, option) =>\n                                    option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                                }\n                            >\n                                {\n                                    categories.length > 0 && categories.map((cat, index) => {\n                                        return (\n                                            <Option key={index} value={cat._id}>{cat.name}</Option>\n                                        )\n\n                                    })\n                                }\n\n\n                            </Select>\n                            {errors && errors.category && <span className='error_text'>{errors.category}</span>}\n\n\n\n\n                        </div>\n                    </div>\n\n\n                    {/*---------------- sub categories---------- */}\n                    {\n                        subCategories.length > 0 &&\n                        <div className='input_item'>\n                            <label>Sub Category <span className='required'>*</span></label>\n                            <div className='width_100'>\n                                <TreeSelect\n\n                                    style={{ width: '100%' }}\n                                    value={subSubCategory ? subCategory + \"@@@\" + subSubCategory : subCategory}\n                                    dropdownStyle={{ maxHeight: 400, overflow: 'auto' }}\n                                    placeholder=\"Please select a category\"\n                                    allowClear\n                                    treeDefaultExpandAll\n                                    onChange={(value) => handleSetSub(value)}\n                                >\n\n                                    {\n                                        subCategories.length > 0 && subCategories.map((cat, index) => {\n                                            return (\n                                                <TreeNode key={cat._id} value={cat._id} title={cat.name}>\n                                                    {\n                                                        cat.children.length > 0 && cat.children.map((sub, index2) => {\n                                                            return (\n                                                                <TreeNode key={cat._id + \"@@@\" + sub._id} value={cat._id + \"@@@\" + sub._id} title={sub.name}>\n\n                                                                </TreeNode>\n                                                            )\n                                                        })\n                                                    }\n                                                </TreeNode>\n                                            )\n                                        })\n                                    }\n\n                                </TreeSelect>\n                                {errors && errors.category && <span className='error_text'>{errors.category}</span>}\n                            </div>\n                        </div>\n                    }\n\n\n\n\n                    <div className='input_item'>\n                        <label>Brand </label>\n                        <Select\n                            showSearch\n                            style={{ width: \"100%\" }}\n                            placeholder=\"Select a Brand\"\n                            optionFilterProp=\"children\"\n                            onChange={(value) => setBrand(value)}\n\n                            filterOption={(input, option) =>\n                                option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                            }\n                        >\n                            {\n                                brands.length > 0 && brands.map((b, index) => {\n                                    return (\n                                        <Option key={index} value={b._id}>{b.name}</Option>\n                                    )\n\n                                })\n                            }\n\n\n                        </Select>,\n                    </div>\n\n                    <div className='input_item'>\n                        <label>Unit <span className='required'>*</span></label>\n                        <div className='width_100'>\n                            <Input className={errors && errors.name && 'error'} value={unit} onChange={(e) => setUnit(e.target.value)} placeholder='Unit (e.g. KG,Pc etc)'></Input>\n                            {errors && errors.unit && <span className='error_text'>{errors.unit}</span>}\n                        </div>\n\n                    </div>\n                    <div className='input_item'>\n                        <label>Tags </label>\n                        <div className='tag_fieled'>\n                            {\n                                tags?.map((tname, index) => {\n                                    return (\n                                        <span className='tag_item' key={index}>{tname} <span onClick={() => handleRemoveTag(tname)} className='remove'>X</span></span>\n                                    )\n                                })\n                            }\n                            <Input onChange={(e) => setTagInput(e.target.value)} onKeyPress={handleKeyPressTag} type='text' value={tagInput} placeholder='Enter tag name and press enter'></Input>\n                        </div>\n                    </div>\n                </div>\n            </Card>\n\n            {/* --------product images-------------- */}\n            <Card style={{ marginTop: \"15px\" }} title=\"Product Images\" >\n                <div className='product_information'>\n                    <div className='input_item'>\n                        <label>Thumbnail image <span className='required'>*</span></label>\n                        <div style={{ width: \"100%\" }}>\n                            <Button className='d_center'\n                                onClick={() => {\n                                    setImageFor(\"thumbnail\")\n                                    setDisplay(true)\n                                }}\n                                type=\"primary\"\n                                shape=\"round\"\n                                icon={<UploadOutlined />}\n                                size={\"size\"} >\n                                Upload thumbnail\n                            </Button>\n                            <div >\n                                {\n                                    thumbnail && <div className='image_container'>\n\n                                        <img src={thumbnail}></img>\n                                    </div>\n                                }\n\n\n                            </div>\n                            {errors && errors.thumbnail && <span className='error_text'>{errors.thumbnail}</span>}\n                        </div>\n\n\n                    </div>\n\n                    <div className='input_item'>\n                        <label>Gallery images </label>\n                        <div style={{ width: \"100%\" }}>\n                            <Button\n                                className='d_center'\n                                onClick={() => {\n                                    setImageFor(\"gallery\")\n                                    setDisplay(true)\n                                }}\n                                type=\"primary\"\n                                shape=\"round\"\n                                icon={<UploadOutlined />}\n                                size={\"size\"} >\n                                Upload Galary\n                            </Button>\n                            <div style={{ display: \"flex\" }}>\n                                {\n                                    gallery.map((g, index) => {\n                                        return (\n                                            <div key={index} className='image_container'>\n                                                <span onClick={() => {\n                                                    let array = [...gallery]\n                                                    array.splice(index, 1)\n                                                    setGallery(array)\n                                                }}>X</span>\n                                                <img src={g}></img>\n                                            </div>\n                                        )\n                                    })\n                                }\n\n                            </div>\n                        </div>\n\n                    </div>\n                </div>\n\n            </Card>\n\n\n            {/* -------------product attributes----------------------- */}\n            <Card style={{ marginTop: \"15px\" }} title=\"Product Variation\" >\n                <div className='product_information'>\n                    <div className='input_item'>\n                        <label>Product Type </label>\n                        <Select\n                            style={{ width: \"100%\" }}\n                            onChange={(value) => handleChangeProductType(value)}\n                            value={productType}\n                        >\n                            <Option value='simple'>Simple Product</Option>\n                            <Option value='variant'>Variant Product</Option>\n\n                        </Select>\n                    </div>\n\n                    {\n                        productType === 'variant' && <div className='input_item'>\n                            <label>Attributes </label>\n                            <Select\n                                mode=\"multiple\"\n                                size=\"default\"\n                                placeholder=\"Please select\"\n                                onSelect={(value) => handleChangeAttr(value)}\n                                style={{ width: '100%' }}\n                                onDeselect={(value) => handleRemoveAttr(value)}\n                            >\n                                {\n                                    attributes.map((attr, index) => {\n                                        return (\n                                            <Option value={attr._id} key={index}>{attr.name}</Option>\n                                        )\n                                    })\n                                }\n                            </Select>\n                        </div>\n                    }\n\n\n                    {\n                        selectedAttr.map((attr, index) => {\n                            return (\n                                <div key={index} className='input_item'>\n                                    <label>{attr.name} <span className='required'>*</span></label>\n                                    <Select\n                                        mode=\"multiple\"\n                                        size=\"default\"\n                                        placeholder=\"Please select\"\n                                        onSelect={(value) => handleChangeAttrValue(value)}\n                                        onDeselect={(value) => handleRemoveAttrValue(value)}\n                                        style={{ width: '100%' }}\n\n                                    >\n                                        {\n                                            attr.values.map((val, index2) => {\n                                                return (\n                                                    <Option value={val + \"@@@\" + attr.name} key={index2}>{val}</Option>\n                                                )\n                                            })\n                                        }\n                                    </Select>\n                                </div>\n                            )\n                        })\n                    }\n                </div>\n            </Card>\n\n\n            {/* --------product price-------------- */}\n            <Card style={{ marginTop: \"15px\" }} title=\"Product price + stock\" >\n                <div className='product_information'>\n                    <div className='input_item'>\n                        <label>Unit Price <span className='required'>*</span></label>\n                        <div className='width_100'>\n                            <Input disabled={productType === 'variant'} className={errors && errors.price && 'error'} value={price} onChange={(e) => setPrice(e.target.value)} placeholder='Product price' type='number'></Input>\n                            {errors && errors.price && <span className='error_text'>{errors.price}</span>}\n                        </div>\n\n                    </div>\n                    <div className='input_item'>\n                        <label>Discount </label>\n                        <div style={{ display: \"flex\", justifyContent: \"space-between\", width: \"100%\" }}>\n                            <Input disabled={productType === 'variant'} value={discount} onChange={(e) => setDiscount(e.target.value)} style={{ width: \"60%\" }} placeholder='Discount price' type='number'></Input>\n                            <Select\n                                style={{ width: \"35%\" }}\n                                placeholder=\"Select discount type\"\n                                optionFilterProp=\"children\"\n                                onChange={(value) => setDiscountType(value)}\n                                value={discountType}\n                                disabled={productType === 'variant'}\n\n                            >\n                                <Option value=\"flat\">Flat</Option>\n                                <Option value=\"percent\">Percent</Option>\n                            </Select>\n                        </div>\n\n                    </div>\n                    <div className='input_item'>\n                        <label>Tax </label>\n                        <div style={{ display: \"flex\", justifyContent: \"space-between\", width: \"100%\" }}>\n                            <Input onChange={(e) => setTax(e.target.value)} value={tax} style={{ width: \"60%\" }} placeholder='Tax value' type='number'></Input>\n                            <Select\n                                style={{ width: \"35%\" }}\n                                placeholder=\"Select value type\"\n                                optionFilterProp=\"children\"\n                                onChange={(value) => setTaxType(value)}\n                                value={taxType}\n\n\n                            >\n                                <Option value=\"flat\">Flat</Option>\n                                <Option value=\"percent\">Percent</Option>\n                            </Select>\n                        </div>\n\n                    </div>\n                    <div className='input_item'>\n                        <label>SKU </label>\n                        <Input value={sku} onChange={(e) => setSku(e.target.value)} placeholder='Product SKU' type='text'></Input>\n                    </div>\n                    <div className='input_item'>\n                        <label>Stock <span className='required'>*</span></label>\n                        <Input disabled={productType === 'variant'} value={stock} onChange={(e) => setStock(e.target.value)} placeholder='Product stock' type='number'></Input>\n                    </div>\n\n                    {\n                        variations && variations.length > 0 &&\n                        <table className='variation_table'>\n                            <tbody>\n                            <tr>\n                                <th>Variant</th>\n                                <th>Variant Price</th>\n                                <th>Discount</th>\n                                <th>Discount Type</th>\n                                <th>Stock</th>\n                                <th>Set Default</th>\n                                <th>Photo</th>\n                            </tr>\n                            {\n                                variations && variations.map((variant, index) => {\n                                    return (\n                                        <tr key={index}>\n                                            <td>\n                                                <>\n                                                    {\n                                                        Object.keys(variant).map((keyName, i) => (\n                                                            keyName === 'varname' || keyName === 'image' || keyName === 'price' || keyName === 'stock' || keyName === 'discount' || keyName === 'discountType' || keyName === \"isDefault\" ? \"\" :\n                                                                <span key={i} >\n\n                                                                    <span >{keyName} :</span>\n                                                                    <strong style={{ margin: \"0 5px\", color: \"#494A4A\" }}>{variant[keyName]}</strong>,\n\n                                                        </span>\n                                                        ))\n                                                    }\n\n                                                </>\n                                            </td>\n                                            <td>\n                                                <Input value={variant.price} onChange={(e) => handleVariantInput(variant.varname, 'price', e.target.value, variant.isDefault)} placeholder='Variant Price' type='number'></Input>\n                                            </td>\n                                            <td>\n                                                <Input value={variant.discount} onChange={(e) => handleVariantInput(variant.varname, 'discount', e.target.value, variant.isDefault)} placeholder='Discount' type='number'></Input>\n                                            </td>\n                                            <td>\n                                                <Select\n                                                    style={{ width: \"90%\" }}\n                                                    placeholder=\"Select discount type\"\n                                                    optionFilterProp=\"children\"\n                                                    onChange={(value) => handleVariantInput(variant.varname, 'discountType', value, variant.isDefault)}\n                                                    value={variant.discountType}\n\n                                                >\n                                                    <Option value=\"flat\">Flat</Option>\n                                                    <Option value=\"percent\">Percent</Option>\n                                                </Select>\n                                            </td>\n                                            <td>\n                                                <Input onBlur={(e) => { e.target.value === '' && handleVariantInput(variant.varname, 'stock', 0) }} value={variant.stock} onChange={(e) => handleVariantInput(variant.varname, 'stock', e.target.value)} placeholder='Variant Stock' type='number'></Input>\n                                            </td>\n                                            <td>\n                                                <Switch style={{ width: \"10px\" }} checked={variant.isDefault} onChange={(c) => handleVariandDefault(variant, c)} />\n                                            </td>\n                                            <td>\n\n\n                                                <Button\n                                                    className='d_center'\n                                                    onClick={() => {\n                                                        setImageFor(\"variant@@@\" + variant.varname)\n                                                        setDisplay(true)\n                                                    }}\n                                                    type=\"primary\"\n                                                    shape=\"round\"\n                                                    icon={<UploadOutlined />}\n                                                    size={\"size\"} >\n                                                    Upload Image\n                                                </Button>\n                                                {\n                                                    variant.image && <div style={{ display: \"flex\" }}>\n                                                        <div key={index} className='image_container'>\n                                                            <span onClick={() => handleVariantInput(variant.varname, 'image', \"\")}>X</span>\n                                                            <img src={variant.image}></img>\n                                                        </div>\n\n                                                    </div>\n                                                }\n\n\n                                            </td>\n\n\n                                        </tr>\n                                    )\n                                })\n                            }\n                            </tbody>\n                        </table>\n                    }\n\n                </div>\n\n            </Card>\n\n\n\n            {/* --------product Description-------------- */}\n            <Card style={{ marginTop: \"15px\" }} title=\"Product Description\" >\n                <div className='product_information'>\n                    <div className='input_item'>\n                        <label>Description </label>\n                        <ReactQuill\n                            value={description}\n                            onChange={(value) => setDescription(value)}\n                            style={{ width: \"100%\", marginBottom: \"20px\" }}\n                        />\n                    </div>\n\n                </div>\n\n            </Card>\n\n\n            {/* --------product shipping-------------- */}\n            <Card style={{ marginTop: \"15px\" }} title=\"Product shipping cost\" >\n                <div className='product_information'>\n                    <div className='input_item'>\n                        <label>Free shipping <span className='required'>*</span></label>\n                        <Switch style={{ width: \"10px\" }} checked={freeShipping} onChange={(c) => setFreeShipping(c)} />\n                    </div>\n                    <div className='input_item'>\n                        <label>Shipping cost </label>\n                        <Input value={cost} onChange={(e)=>setCost(e.target.value)} disabled={freeShipping} placeholder='shipping cost' type='number' style={{ width: \"20%\" }}></Input>\n                    </div>\n\n                </div>\n\n            </Card>\n\n\n            {/* --------product meta-------------- */}\n            <Card style={{ marginTop: \"15px\" }} title=\"SEO Meta Tags\" >\n                <div className='product_information'>\n                    <div className='input_item'>\n                        <label>Meta title </label>\n                        <Input value={metaTitle} onChange={(e) => setMetaTitle(e.target.value)} type='text' placeholder=\"product meta title\"></Input>\n                    </div>\n                    <div className='input_item'>\n                        <label>Meta description </label>\n                        <Input.TextArea value={metaDescription} onChange={(e) => setMetaDescription(e.target.value)} type='text' placeholder=\"product meta description\"></Input.TextArea>\n                    </div>\n                    <div className='input_item'>\n                        <label>Meta Image </label>\n                        <div style={{ width: \"100%\" }}>\n                            <Button\n                                className='d_center'\n                                onClick={() => {\n                                    setImageFor(\"meta\")\n                                    setDisplay(true)\n                                }}\n                                type=\"primary\"\n                                shape=\"round\"\n                                icon={<UploadOutlined />}\n                                size={\"size\"} >\n                                Upload meta image\n                            </Button>\n                            <div >\n                                {\n                                    metaImage && <div className='image_container'>\n                                        <span onClick={() => setMetaImage('')}>X</span>\n                                        <img src={metaImage}></img>\n                                    </div>\n                                }\n\n\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n\n            </Card>\n\n\n            <Button onClick={() => saveProduct()} size='large' style={{ float: \"right\", margin: \"15px 0\" }} type=\"primary\">Save Product</Button>\n        </div>\n    )\n}\n\nexport default CreateProduct\n"]},"metadata":{},"sourceType":"module"}