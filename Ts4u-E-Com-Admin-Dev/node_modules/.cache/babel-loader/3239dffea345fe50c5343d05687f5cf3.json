{"ast":null,"code":"import _slicedToArray from\"/home/e2e/e2e-microservice/20231007-e2e-microservice/Ts4u-E-Com-Admin-Dev/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import{Card,Input,Button,Switch}from'antd';import'./settings.scss';function LiveChat(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),isEnable=_useState2[0],setIsEnable=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),websiteId=_useState4[0],setWebsiteId=_useState4[1];var saveLiveChat=function saveLiveChat(){if(!websiteId){return alert(\"Website ID is required\");}var data={isEnable:isEnable,websiteId:websiteId};axios.post('/settings/livechat',{crisp:data}).then(function(res){res.data.success&&alert(\"updated\");}).catch(function(err){console.log(err);});};useEffect(function(){axios.get('/settings/livechat').then(function(res){//console.log(res.data.otp);\nvar crisp=res.data.liveChat.crisp;setIsEnable(crisp===null||crisp===void 0?void 0:crisp.isEnable);setWebsiteId(crisp===null||crisp===void 0?void 0:crisp.websiteId);}).catch(function(err){console.log(err);});},[]);return/*#__PURE__*/React.createElement(\"div\",{className:\"otp_settings\"},/*#__PURE__*/React.createElement(Card,{title:\"Crisp(crisp.chat) Credentials\"},/*#__PURE__*/React.createElement(\"div\",{className:\"otp_container\"},/*#__PURE__*/React.createElement(\"table\",null,/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Enable:\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Switch,{checked:isEnable,onChange:function onChange(e){return setIsEnable(e);}}))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Website ID\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Input,{disabled:true,value:websiteId,onChange:function onChange(e){return setWebsiteId(e.target.value);},placeholder:\"Crisp website ID\"}))))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return saveLiveChat();},className:\"save\",type:\"primary\"},\"Save\")))));}export default LiveChat;","map":{"version":3,"sources":["/home/e2e/e2e-microservice/20231007-e2e-microservice/Ts4u-E-Com-Admin-Dev/src/pages/settings/LiveChat.js"],"names":["React","useState","useEffect","axios","Card","Input","Button","Switch","LiveChat","isEnable","setIsEnable","websiteId","setWebsiteId","saveLiveChat","alert","data","post","crisp","then","res","success","catch","err","console","log","get","liveChat","e","target","value"],"mappings":"gMAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,KAAf,CAAsBC,MAAtB,CAA8BC,MAA9B,KAA4C,MAA5C,CACA,MAAO,iBAAP,CAGA,QAASC,CAAAA,QAAT,EAAoB,CAChB,cAAgCP,QAAQ,CAAC,EAAD,CAAxC,wCAAOQ,QAAP,eAAiBC,WAAjB,eACA,eAAkCT,QAAQ,CAAC,EAAD,CAA1C,yCAAOU,SAAP,eAAkBC,YAAlB,eAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvB,GAAI,CAACF,SAAL,CAAgB,CACZ,MAAOG,CAAAA,KAAK,CAAC,wBAAD,CAAZ,CACH,CACD,GAAIC,CAAAA,IAAI,CAAG,CACPN,QAAQ,CAARA,QADO,CAEPE,SAAS,CAATA,SAFO,CAAX,CAIAR,KAAK,CAACa,IAAN,CAAW,oBAAX,CAAiC,CAAEC,KAAK,CAAEF,IAAT,CAAjC,EACKG,IADL,CACU,SAAAC,GAAG,CAAI,CACTA,GAAG,CAACJ,IAAJ,CAASK,OAAT,EAAoBN,KAAK,CAAC,SAAD,CAAzB,CACH,CAHL,EAIKO,KAJL,CAIW,SAAAC,GAAG,CAAI,CACVC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CANL,EAOH,CAfD,CAiBApB,SAAS,CAAC,UAAM,CAEZC,KAAK,CAACsB,GAAN,CAAU,oBAAV,EACKP,IADL,CACU,SAAAC,GAAG,CAAI,CACT;AACA,GAAMF,CAAAA,KAAN,CAAgBE,GAAG,CAACJ,IAAJ,CAASW,QAAzB,CAAMT,KAAN,CACAP,WAAW,CAACO,KAAD,SAACA,KAAD,iBAACA,KAAK,CAAER,QAAR,CAAX,CACAG,YAAY,CAACK,KAAD,SAACA,KAAD,iBAACA,KAAK,CAAEN,SAAR,CAAZ,CACH,CANL,EAOKU,KAPL,CAOW,SAAAC,GAAG,CAAI,CACVC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CATL,EAUH,CAZQ,CAYN,EAZM,CAAT,CAcA,mBACI,2BAAK,SAAS,CAAC,cAAf,eACI,oBAAC,IAAD,EAAM,KAAK,CAAC,+BAAZ,eACI,2BAAK,SAAS,CAAC,eAAf,eACI,8CACI,8CACI,2CACI,wCADJ,cAEI,2CAAI,oBAAC,MAAD,EAAQ,OAAO,CAAEb,QAAjB,CAA2B,QAAQ,CAAE,kBAACkB,CAAD,QAAOjB,CAAAA,WAAW,CAACiB,CAAD,CAAlB,EAArC,EAAJ,CAFJ,CADJ,cAKI,2CACI,2CADJ,cAEI,2CAAI,oBAAC,KAAD,EAAO,QAAQ,KAAf,CAAgB,KAAK,CAAEhB,SAAvB,CAAkC,QAAQ,CAAE,kBAACgB,CAAD,QAAOf,CAAAA,YAAY,CAACe,CAAC,CAACC,MAAF,CAASC,KAAV,CAAnB,EAA5C,CAAiF,WAAW,CAAC,kBAA7F,EAAJ,CAFJ,CALJ,CADJ,CADJ,cAcI,4CACI,oBAAC,MAAD,EAAQ,OAAO,CAAE,yBAAMhB,CAAAA,YAAY,EAAlB,EAAjB,CAAuC,SAAS,CAAC,MAAjD,CAAwD,IAAI,CAAC,SAA7D,SADJ,CAdJ,CADJ,CADJ,CADJ,CAwBH,CAED,cAAeL,CAAAA,QAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport { Card, Input, Button, Switch } from 'antd'\nimport './settings.scss'\n\n\nfunction LiveChat() {\n    const [isEnable, setIsEnable] = useState(\"\")\n    const [websiteId, setWebsiteId] = useState(\"\")\n\n    const saveLiveChat = () => {\n        if (!websiteId) {\n            return alert(\"Website ID is required\")\n        }\n        let data = {\n            isEnable,\n            websiteId,\n        }\n        axios.post('/settings/livechat', { crisp: data })\n            .then(res => {\n                res.data.success && alert(\"updated\")\n            })\n            .catch(err => {\n                console.log(err);\n            })\n    }\n\n    useEffect(() => {\n        \n        axios.get('/settings/livechat')\n            .then(res => {\n                //console.log(res.data.otp);\n                let { crisp } = res.data.liveChat\n                setIsEnable(crisp?.isEnable)\n                setWebsiteId(crisp?.websiteId)\n            })\n            .catch(err => {\n                console.log(err);\n            })\n    }, [])\n\n    return (\n        <div className='otp_settings'>\n            <Card title='Crisp(crisp.chat) Credentials'>\n                <div className=\"otp_container\">\n                    <table>\n                        <tbody>\n                            <tr>\n                                <td>Enable:</td>\n                                <td><Switch checked={isEnable} onChange={(e) => setIsEnable(e)} /></td>\n                            </tr>\n                            <tr>\n                                <td>Website ID</td>\n                                <td><Input disabled value={websiteId} onChange={(e) => setWebsiteId(e.target.value)} placeholder=\"Crisp website ID\" /></td>\n                            </tr>\n                            \n                        </tbody>\n                    </table>\n                    <div>\n                        <Button onClick={() => saveLiveChat()} className='save' type=\"primary\">Save</Button>\n                    </div>\n                </div>\n            </Card>\n        </div>\n    )\n}\n\nexport default LiveChat\n"]},"metadata":{},"sourceType":"module"}