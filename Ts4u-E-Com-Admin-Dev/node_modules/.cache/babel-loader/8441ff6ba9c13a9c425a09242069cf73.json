{"ast":null,"code":"import _slicedToArray from\"/home/e2e/e2e-microservice/20231007-e2e-microservice/Ts4u-E-Com-Admin-Dev/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import axios from'axios';import Cookies from'js-cookie';import{Form,Input,Button,Checkbox,Alert}from'antd';import'./auth.scss';var layout={labelCol:{span:6},wrapperCol:{span:18}};function Register(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var onFinish=function onFinish(values){setLoading(true);axios.post('/admin/signup',values).then(function(res){setLoading(false);if(res.status===201){alert(res.data.message);//console.log(res.data);\n//   Cookies.set(\"ecom\", res.data.token);\nsetTimeout(function(){window.location.pathname='/login';},300);}}).catch(function(err){setLoading(false);setError(err&&err.response&&err.response.data);//console.log(err && err.response && err.response.data);\n});};var onFinishFailed=function onFinishFailed(errorInfo){console.log('Failed:',errorInfo);};var onCloseAlert=function onCloseAlert(){setError(null);};return/*#__PURE__*/React.createElement(\"div\",{className:\"auth_container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"auth\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3\"},error&&error.message&&/*#__PURE__*/React.createElement(Alert,{message:error.message,type:\"error\",closable:true,onClose:onCloseAlert})),/*#__PURE__*/React.createElement(Form,Object.assign({},layout,{name:\"basic\",initialValues:{remember:true},onFinish:onFinish,onFinishFailed:onFinishFailed}),/*#__PURE__*/React.createElement(Form.Item,{label:\"Name\",name:\"name\",className:\"label\",validateStatus:error&&error.name?\"error\":\"succcess\",help:error&&error.name?error.name:null},/*#__PURE__*/React.createElement(Input,{placeholder:\"Enter your name\"})),/*#__PURE__*/React.createElement(Form.Item,{label:\"Email\",name:\"email\",className:\"label mb-3\",validateStatus:error&&error.email?\"error\":\"succcess\",help:error&&error.email?error.email:null},/*#__PURE__*/React.createElement(Input,{placeholder:\"Enter your email\"})),/*#__PURE__*/React.createElement(Form.Item,{label:\"Password\",name:\"password\",className:\"label\",validateStatus:error&&error.password?\"error\":\"succcess\",help:error&&error.password?error.password:null},/*#__PURE__*/React.createElement(Input.Password,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(Button,{loading:loading,className:\"primary_btn my-3\",type:\"primary\",htmlType:\"submit\"},\"Register\")))));}export default Register;","map":{"version":3,"sources":["/home/e2e/e2e-microservice/20231007-e2e-microservice/Ts4u-E-Com-Admin-Dev/src/pages/auth/Register.js"],"names":["React","useState","axios","Cookies","Form","Input","Button","Checkbox","Alert","layout","labelCol","span","wrapperCol","Register","error","setError","loading","setLoading","onFinish","values","post","then","res","status","alert","data","message","setTimeout","window","location","pathname","catch","err","response","onFinishFailed","errorInfo","console","log","onCloseAlert","remember","name","email","password"],"mappings":"gMAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,OAASC,IAAT,CAAeC,KAAf,CAAsBC,MAAtB,CAA8BC,QAA9B,CAAwCC,KAAxC,KAAqD,MAArD,CACA,MAAO,aAAP,CACA,GAAMC,CAAAA,MAAM,CAAG,CACXC,QAAQ,CAAE,CACNC,IAAI,CAAE,CADA,CADC,CAIXC,UAAU,CAAE,CACRD,IAAI,CAAE,EADE,CAJD,CAAf,CASA,QAASE,CAAAA,QAAT,EAAoB,CAChB,cAA0BZ,QAAQ,CAAC,IAAD,CAAlC,wCAAOa,KAAP,eAAcC,QAAd,eACA,eAA8Bd,QAAQ,CAAC,KAAD,CAAtC,yCAAOe,OAAP,eAAgBC,UAAhB,eACA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,MAAD,CAAY,CACzBF,UAAU,CAAC,IAAD,CAAV,CACAf,KAAK,CAACkB,IAAN,CAAW,eAAX,CAA4BD,MAA5B,EACKE,IADL,CACU,SAAAC,GAAG,CAAI,CACTL,UAAU,CAAC,KAAD,CAAV,CACA,GAAIK,GAAG,CAACC,MAAJ,GAAe,GAAnB,CAAwB,CACpBC,KAAK,CAACF,GAAG,CAACG,IAAJ,CAASC,OAAV,CAAL,CACA;AACA;AACAC,UAAU,CAAC,UAAM,CACbC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,CAA2B,QAA3B,CACH,CAFS,CAEP,GAFO,CAAV,CAKH,CACJ,CAbL,EAcKC,KAdL,CAcW,SAAAC,GAAG,CAAI,CACVf,UAAU,CAAC,KAAD,CAAV,CACAF,QAAQ,CAACiB,GAAG,EAAIA,GAAG,CAACC,QAAX,EAAuBD,GAAG,CAACC,QAAJ,CAAaR,IAArC,CAAR,CACA;AACH,CAlBL,EAoBH,CAtBD,CAwBA,GAAMS,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,SAAD,CAAe,CAClCC,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBF,SAAvB,EACH,CAFD,CAIA,GAAMG,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvBvB,QAAQ,CAAC,IAAD,CAAR,CACH,CAFD,CAMA,mBACI,2BAAK,SAAS,CAAC,gBAAf,eACI,2BAAK,SAAS,CAAC,MAAf,eACI,2BAAK,SAAS,CAAC,MAAf,EAEQD,KAAK,EAAIA,KAAK,CAACY,OAAf,eAA0B,oBAAC,KAAD,EACtB,OAAO,CAAEZ,KAAK,CAACY,OADO,CAEtB,IAAI,CAAC,OAFiB,CAGtB,QAAQ,KAHc,CAItB,OAAO,CAAEY,YAJa,EAFlC,CADJ,cAWI,oBAAC,IAAD,kBACQ7B,MADR,EAEI,IAAI,CAAC,OAFT,CAGI,aAAa,CAAE,CACX8B,QAAQ,CAAE,IADC,CAHnB,CAMI,QAAQ,CAAErB,QANd,CAOI,cAAc,CAAEgB,cAPpB,gBASI,oBAAC,IAAD,CAAM,IAAN,EACI,KAAK,CAAC,MADV,CAEI,IAAI,CAAC,MAFT,CAGI,SAAS,CAAC,OAHd,CAII,cAAc,CAAEpB,KAAK,EAAIA,KAAK,CAAC0B,IAAf,CAAsB,OAAtB,CAAgC,UAJpD,CAKI,IAAI,CAAE1B,KAAK,EAAIA,KAAK,CAAC0B,IAAf,CAAsB1B,KAAK,CAAC0B,IAA5B,CAAmC,IAL7C,eAOI,oBAAC,KAAD,EAAO,WAAW,CAAC,iBAAnB,EAPJ,CATJ,cAkBI,oBAAC,IAAD,CAAM,IAAN,EACI,KAAK,CAAC,OADV,CAEI,IAAI,CAAC,OAFT,CAGI,SAAS,CAAC,YAHd,CAII,cAAc,CAAE1B,KAAK,EAAIA,KAAK,CAAC2B,KAAf,CAAuB,OAAvB,CAAiC,UAJrD,CAKI,IAAI,CAAE3B,KAAK,EAAIA,KAAK,CAAC2B,KAAf,CAAuB3B,KAAK,CAAC2B,KAA7B,CAAqC,IAL/C,eAQI,oBAAC,KAAD,EAAO,WAAW,CAAC,kBAAnB,EARJ,CAlBJ,cA6BI,oBAAC,IAAD,CAAM,IAAN,EACI,KAAK,CAAC,UADV,CAEI,IAAI,CAAC,UAFT,CAGI,SAAS,CAAC,OAHd,CAII,cAAc,CAAE3B,KAAK,EAAIA,KAAK,CAAC4B,QAAf,CAA0B,OAA1B,CAAoC,UAJxD,CAKI,IAAI,CAAE5B,KAAK,EAAIA,KAAK,CAAC4B,QAAf,CAA0B5B,KAAK,CAAC4B,QAAhC,CAA2C,IALrD,eAOI,oBAAC,KAAD,CAAO,QAAP,MAPJ,CA7BJ,cAyCI,2BAAK,SAAS,CAAC,aAAf,eACI,oBAAC,MAAD,EAAQ,OAAO,CAAE1B,OAAjB,CAA0B,SAAS,CAAC,kBAApC,CAAuD,IAAI,CAAC,SAA5D,CAAsE,QAAQ,CAAC,QAA/E,aADJ,CAzCJ,CAXJ,CADJ,CADJ,CAgEH,CAED,cAAeH,CAAAA,QAAf","sourcesContent":["import React, { useState } from 'react'\nimport axios from 'axios'\nimport Cookies from 'js-cookie'\nimport { Form, Input, Button, Checkbox, Alert } from 'antd';\nimport './auth.scss'\nconst layout = {\n    labelCol: {\n        span: 6,\n    },\n    wrapperCol: {\n        span: 18,\n    },\n};\n\nfunction Register() {\n    const [error, setError] = useState(null)\n    const [loading, setLoading] = useState(false)\n    const onFinish = (values) => {\n        setLoading(true)\n        axios.post('/admin/signup', values)\n            .then(res => {\n                setLoading(false)\n                if (res.status === 201) {\n                    alert(res.data.message)\n                    //console.log(res.data);\n                    //   Cookies.set(\"ecom\", res.data.token);\n                    setTimeout(() => {\n                        window.location.pathname = '/login'\n                    }, 300);\n                    \n\n                }\n            })\n            .catch(err => {\n                setLoading(false)\n                setError(err && err.response && err.response.data);\n                //console.log(err && err.response && err.response.data);\n            })\n\n    };\n\n    const onFinishFailed = (errorInfo) => {\n        console.log('Failed:', errorInfo);\n    };\n\n    const onCloseAlert = () => {\n        setError(null)\n    }\n\n\n\n    return (\n        <div className=\"auth_container\">\n            <div className=\"auth\">\n                <div className='mb-3'>\n                    {\n                        error && error.message && <Alert\n                            message={error.message}\n                            type=\"error\"\n                            closable\n                            onClose={onCloseAlert}\n                        />\n                    }\n                </div>\n                <Form\n                    {...layout}\n                    name=\"basic\"\n                    initialValues={{\n                        remember: true,\n                    }}\n                    onFinish={onFinish}\n                    onFinishFailed={onFinishFailed}\n                >\n                    <Form.Item\n                        label=\"Name\"\n                        name=\"name\"\n                        className=\"label\"\n                        validateStatus={error && error.name ? \"error\" : \"succcess\"}\n                        help={error && error.name ? error.name : null}\n                    >\n                        <Input placeholder=\"Enter your name\" />\n                    </Form.Item>\n                    <Form.Item\n                        label=\"Email\"\n                        name=\"email\"\n                        className=\"label mb-3\"\n                        validateStatus={error && error.email ? \"error\" : \"succcess\"}\n                        help={error && error.email ? error.email : null}\n\n                    >\n                        <Input placeholder=\"Enter your email\" />\n                    </Form.Item>\n\n                    <Form.Item\n                        label=\"Password\"\n                        name=\"password\"\n                        className=\"label\"\n                        validateStatus={error && error.password ? \"error\" : \"succcess\"}\n                        help={error && error.password ? error.password : null}\n                    >\n                        <Input.Password />\n                    </Form.Item>\n\n\n\n                    <div className='text-center'>\n                        <Button loading={loading} className=\"primary_btn my-3\" type=\"primary\" htmlType=\"submit\">\n                            Register\n    </Button>\n                        {/* <span className='register'> Dont't have an account ? <Link href=\"/auth/register\"><a>register now!</a></Link></span> */}\n                    </div>\n                </Form>\n            </div>\n        </div>\n    )\n}\n\nexport default Register\n"]},"metadata":{},"sourceType":"module"}