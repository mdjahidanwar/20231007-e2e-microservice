{"ast":null,"code":"import _objectSpread from\"/home/e2e/e2e-microservice/20231007-e2e-microservice/Ts4u-E-Com-Admin-Dev/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/e2e/e2e-microservice/20231007-e2e-microservice/Ts4u-E-Com-Admin-Dev/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import{Card,Input,Button,Switch}from'antd';import'./settings.scss';function SMTP(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),host=_useState2[0],setHost=_useState2[1];var _useState3=useState(587),_useState4=_slicedToArray(_useState3,2),port=_useState4[0],setPort=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),username=_useState6[0],setUsername=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),secure=_useState10[0],setSecure=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),mail=_useState12[0],setMail=_useState12[1];var _useState13=useState({order:false,payment:false,delivery:false,cancel:false}),_useState14=_slicedToArray(_useState13,2),otpsettings=_useState14[0],setOtpSettings=_useState14[1];var saveSMTP=function saveSMTP(){if(!host||!port||!username||!password||!mail){return alert(\"All fields are required\");}var smtp={host:host,port:port,username:username,password:password,secure:secure,mail:mail};axios.post('/settings/updatesmtp',{smtp:smtp}).then(function(res){if(res.data.success){alert(\"Updated\");}});};var saveSettings=function saveSettings(){axios.post('/settings/updatesmtp',{settings:otpsettings}).then(function(res){if(res.data.success){alert(\"Updated\");}}).catch(function(err){console.log(err);});};useEffect(function(){axios.get('/settings/smtp').then(function(res){//console.log(res.data.otp);\nvar _res$data$smtp=res.data.smtp,settings=_res$data$smtp.settings,clients=_res$data$smtp.clients;setHost(clients===null||clients===void 0?void 0:clients.smtp.host);setPort(clients===null||clients===void 0?void 0:clients.smtp.port);setUsername(clients===null||clients===void 0?void 0:clients.smtp.username);setPassword(clients===null||clients===void 0?void 0:clients.smtp.password);setSecure(clients===null||clients===void 0?void 0:clients.smtp.secure);setMail(clients===null||clients===void 0?void 0:clients.smtp.mail);setOtpSettings(settings);}).catch(function(err){console.log(err);});},[]);return/*#__PURE__*/React.createElement(\"div\",{className:\"otp_settings\"},/*#__PURE__*/React.createElement(Card,{title:\"SMTP Credentials\"},/*#__PURE__*/React.createElement(\"div\",{className:\"otp_container\"},/*#__PURE__*/React.createElement(\"table\",null,/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Mail HOST:\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Input,{value:host,onChange:function onChange(e){return setHost(e.target.value);},placeholder:\"Mail Host\"}))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Mail PORT:\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Input,{value:port,onChange:function onChange(e){return setPort(e.target.value);},placeholder:\"587\"}))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Mail USERNAME:\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Input,{value:username,onChange:function onChange(e){return setUsername(e.target.value);},placeholder:\"Mail Username\"}))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"MAIL PASSWORD:\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Input,{value:password,onChange:function onChange(e){return setPassword(e.target.value);},placeholder:\"Mail Passowrd\"}))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"SECURE:\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Switch,{checked:secure,onChange:function onChange(e){return setSecure(e);}}))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"MAIL FROM ADDRESS:\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Input,{value:mail,onChange:function onChange(e){return setMail(e.target.value);},placeholder:\"Mail From Passowrd\"}))))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return saveSMTP();},className:\"save\",type:\"primary\"},\"Save\")))),/*#__PURE__*/React.createElement(Card,{title:\"Email will be sent for?\",style:{marginTop:\"20px\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"otp_container\"},/*#__PURE__*/React.createElement(\"table\",null,/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Order Placement:\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Switch,{checked:otpsettings.order,onChange:function onChange(e){return setOtpSettings(function(prev){return _objectSpread(_objectSpread({},prev),{},{order:e});});}}))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Payment Status Change\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Switch,{checked:otpsettings.payment,onChange:function onChange(e){return setOtpSettings(function(prev){return _objectSpread(_objectSpread({},prev),{},{payment:e});});}}))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Order Delivery\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Switch,{checked:otpsettings.delivery,onChange:function onChange(e){return setOtpSettings(function(prev){return _objectSpread(_objectSpread({},prev),{},{delivery:e});});}}))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Order Cancel\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Switch,{checked:otpsettings.cancel,onChange:function onChange(e){return setOtpSettings(function(prev){return _objectSpread(_objectSpread({},prev),{},{cancel:e});});}}))))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return saveSettings();},className:\"save\",type:\"primary\"},\"Save\")))));}export default SMTP;","map":{"version":3,"sources":["/home/e2e/e2e-microservice/20231007-e2e-microservice/Ts4u-E-Com-Admin-Dev/src/pages/settings/SMTP.js"],"names":["React","useState","useEffect","axios","Card","Input","Button","Switch","SMTP","host","setHost","port","setPort","username","setUsername","password","setPassword","secure","setSecure","mail","setMail","order","payment","delivery","cancel","otpsettings","setOtpSettings","saveSMTP","alert","smtp","post","then","res","data","success","saveSettings","settings","catch","err","console","log","get","clients","e","target","value","marginTop","prev"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport { Card ,Input,Button,Switch} from 'antd'\nimport './settings.scss'\n\nfunction SMTP() {\n    const [host, setHost] = useState(\"\")\n    const [port, setPort] = useState(587)\n    const [username, setUsername] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n    const [secure, setSecure] = useState(false)\n    const [mail, setMail] = useState('')\n\n    const [otpsettings, setOtpSettings] = useState({order:false,payment:false,delivery:false,cancel:false})\n\n    const saveSMTP = () => {\n        if(!host || !port || !username || !password || !mail){\n           return alert(\"All fields are required\")\n        }\n        let smtp={\n            host,\n            port,\n            username,\n            password,\n            secure,\n            mail\n        }\n        axios.post('/settings/updatesmtp',{smtp})\n        .then(res=>{\n            if(res.data.success){\n                alert(\"Updated\")\n            }\n        })\n    }\n\n    const saveSettings=()=>{\n        axios.post('/settings/updatesmtp',{settings:otpsettings})\n        .then(res=>{\n            if(res.data.success){\n                alert(\"Updated\")\n            }\n        })\n        .catch(err=>{\n            console.log(err);\n        })\n    }\n\n    useEffect(() => {\n       axios.get('/settings/smtp')\n       .then(res=>{\n        //console.log(res.data.otp);\n        let {settings,clients} = res.data.smtp\n        setHost(clients?.smtp.host)\n        setPort(clients?.smtp.port)\n        setUsername(clients?.smtp.username)\n        setPassword(clients?.smtp.password)\n        setSecure(clients?.smtp.secure)\n        setMail(clients?.smtp.mail)\n        setOtpSettings(settings)\n       })\n       .catch(err=>{\n           console.log(err);\n       })\n    }, [])\n    return (\n        <div className='otp_settings'>\n            <Card title=\"SMTP Credentials\" >\n                <div className=\"otp_container\">\n                <table>\n                    <tbody>\n                        <tr>\n                            <td>Mail HOST:</td>\n                            <td><Input value={host} onChange={(e) => setHost(e.target.value)} placeholder=\"Mail Host\" /></td>\n                        </tr>\n                        <tr>\n                            <td>Mail PORT:</td>\n                            <td><Input value={port} onChange={(e) => setPort(e.target.value)} placeholder=\"587\" /></td>\n                        </tr>\n                        <tr>\n                            <td>Mail USERNAME:</td>\n                            <td><Input value={username} onChange={(e) => setUsername(e.target.value)} placeholder=\"Mail Username\" /></td>\n                        </tr>\n                        <tr>\n                            <td>MAIL PASSWORD:</td>\n                            <td><Input value={password} onChange={(e) => setPassword(e.target.value)} placeholder=\"Mail Passowrd\" /></td>\n                        </tr>\n                        <tr>\n                            <td>SECURE:</td>\n                            <td><Switch checked={secure} onChange={(e) => setSecure(e)} /></td>\n                        </tr>\n                        <tr>\n                            <td>MAIL FROM ADDRESS:</td>\n                            <td><Input value={mail} onChange={(e) => setMail(e.target.value)} placeholder=\"Mail From Passowrd\" /></td>\n                        </tr>\n                    </tbody>\n                </table>\n                <div>\n                    <Button onClick={() => saveSMTP()} className='save' type=\"primary\">Save</Button>\n                </div>\n                </div>\n            </Card>\n\n\n\n            <Card title=\"Email will be sent for?\" style={{marginTop:\"20px\"}}>\n                <div className=\"otp_container\">\n                <table>\n                    <tbody>\n                        <tr>\n                            <td>Order Placement:</td>\n                            <td><Switch checked={otpsettings.order} onChange={(e) => setOtpSettings(prev=>({...prev,order:e}))} /></td>\n                        </tr>\n                        <tr>\n                            <td>Payment Status Change</td>\n                            <td><Switch checked={otpsettings.payment} onChange={(e) =>  setOtpSettings(prev=>({...prev,payment:e}))} /></td>\n                        </tr>\n                        <tr>\n                            <td>Order Delivery</td>\n                            <td><Switch checked={otpsettings.delivery} onChange={(e) =>  setOtpSettings(prev=>({...prev,delivery:e}))} /></td>\n                        </tr>\n                        <tr>\n                            <td>Order Cancel</td>\n                            <td><Switch checked={otpsettings.cancel} onChange={(e) =>  setOtpSettings(prev=>({...prev,cancel:e}))} /></td>\n                        </tr>\n                    </tbody>\n                </table>\n                <div>\n                    <Button onClick={() => saveSettings()} className='save' type=\"primary\">Save</Button>\n                </div>\n                </div>\n               \n            </Card>\n        </div>\n    )\n}\n\nexport default SMTP\n"]},"metadata":{},"sourceType":"module"}