{"ast":null,"code":"var _jsxFileName = \"/home/e2e/e2e-microservice/20231007-e2e-microservice/Ts4u-E-Com-Admin-Dev/src/pages/campaigns/Campaigns.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Row, Col, Card, Input, Button, Table, Tag, Space, Image, Switch, Popconfirm, Modal, DatePicker } from 'antd';\nimport { UploadOutlined, EditOutlined, DeleteOutlined, QuestionCircleOutlined } from '@ant-design/icons';\nimport \"./campaigns.scss\";\nimport axios from 'axios';\nimport MediaLibrary from '../../components/MediaLibrary';\nimport { useHistory } from 'react-router-dom';\nimport moment from 'moment';\nconst {\n  RangePicker\n} = DatePicker;\n\nfunction range(start, end) {\n  const result = [];\n\n  for (let i = start; i < end; i++) {\n    result.push(i);\n  }\n\n  return result;\n}\n\nfunction disabledDate(current) {\n  // Can not select days before today and today\n  return current && current < moment().endOf('day');\n}\n\nfunction disabledDateTime() {\n  return {\n    disabledHours: () => range(0, 24).splice(4, 20),\n    disabledMinutes: () => range(30, 60),\n    disabledSeconds: () => [55, 56]\n  };\n}\n\nfunction disabledRangeTime(_, type) {\n  if (type === 'start') {\n    return {\n      disabledHours: () => range(0, 60).splice(4, 20),\n      disabledMinutes: () => range(30, 60),\n      disabledSeconds: () => [55, 56]\n    };\n  }\n}\n\nfunction Campaigns() {\n  const history = useHistory();\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const [display, setDisplay] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [campaigns, setCampaigns] = useState([]);\n  const [campaignName, setCampaignName] = useState('');\n  const [image, setImage] = useState('');\n  const [startAt, setStartAt] = useState('');\n  const [endAt, setEndAt] = useState('');\n  const [status, setStatus] = useState(true);\n  const [editCamp, setEditCamp] = useState(null);\n\n  const clearFields = () => {\n    setCampaignName(\"\");\n    setImage('');\n    setStartAt('');\n    setEndAt(\"\");\n    setStatus(true);\n    setEditCamp(null);\n    setIsModalVisible(false);\n  };\n\n  const createCamp = () => {\n    setIsLoading(true);\n    let data = {\n      name: campaignName,\n      image,\n      startAt,\n      endAt,\n      isActive: status\n    };\n    axios.post('/campaign/create', data).then(res => {\n      setCampaigns(prev => [res.data.campaign, ...prev]);\n      setIsLoading(false);\n      clearFields();\n    }).catch(err => {\n      setIsLoading(false);\n      err && err.response && console.log(err.response.data);\n    });\n  };\n\n  const getCamp = () => {\n    axios.get('/campaign/getall').then(res => {\n      setCampaigns(res.data.campaigns);\n      console.log(res.data.campaigns);\n    }).catch(err => {\n      err && err.response && console.log(err.response.data);\n    });\n  };\n\n  const deleteCamp = id => {\n    axios.delete(`/campaign/delete/${id}`).then(res => {\n      if (res.data.success) {\n        let filter = campaigns.filter(b => b._id !== id);\n        setCampaigns(filter);\n      }\n    }).catch(err => {\n      err && err.response && console.log(err.response.data);\n    });\n  };\n\n  const handleEditCamp = camp => {\n    setCampaignName(camp.name);\n    setImage(camp.image);\n    setStatus(camp.isActive);\n    setStartAt(camp.startAt);\n    setEndAt(camp.endAt);\n    setEditCamp(camp._id);\n    setIsModalVisible(true);\n  };\n\n  const updateCamp = () => {\n    setIsLoading(true);\n    let data = {\n      name: campaignName,\n      image,\n      startAt,\n      endAt,\n      isActive: status\n    };\n    axios.patch(`/campaign/update/${editCamp}`, data).then(res => {\n      if (res.data.success) {\n        setIsLoading(false);\n        let campArray = [...campaigns];\n        let index = campArray.findIndex(c => c._id === res.data.campaign._id);\n        campArray[index] = res.data.campaign;\n        setCampaigns(campArray);\n        clearFields();\n      }\n    }).catch(err => {\n      setIsLoading(false);\n      err && err.response && console.log(err.response.data);\n    });\n  };\n\n  useEffect(() => {\n    getCamp();\n  }, []);\n\n  const handleImageselect = item => {\n    setImage(item.thumbnailUrl);\n    setDisplay(false);\n  };\n\n  const columns = [{\n    title: 'Name',\n    dataIndex: 'name',\n    key: 'name'\n  }, {\n    title: 'Banner',\n    key: 'image',\n    dataIndex: 'image',\n    render: image => /*#__PURE__*/React.createElement(Image, {\n      width: 100,\n      src: image,\n      fallback: \"data:image/png;base64,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\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 30\n      }\n    })\n  }, {\n    title: 'Status',\n    key: 'isActive',\n    dataIndex: 'isActive',\n    render: isActive => /*#__PURE__*/React.createElement(React.Fragment, null, isActive == true ? /*#__PURE__*/React.createElement(Tag, {\n      color: \"green\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 44\n      }\n    }, \"Active\") : /*#__PURE__*/React.createElement(Tag, {\n      color: \"red\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 78\n      }\n    }, \"Inactive\"))\n  }, {\n    title: 'Start Date',\n    key: 'startAt',\n    dataIndex: 'startAt',\n    render: startAt => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 21\n      }\n    }, moment(startAt).format(\"D MMM YYYY HH:mm:ss\")))\n  }, {\n    title: 'End Date',\n    key: 'endAt',\n    dataIndex: 'endAt',\n    render: endAt => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 21\n      }\n    }, moment(endAt).format(\"D MMM YYYY HH:mm:ss\")))\n  }, {\n    title: 'Action',\n    key: 'action',\n    render: (text, record) => /*#__PURE__*/React.createElement(Space, {\n      size: \"middle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => handleEditCamp(record),\n      className: \"d-center\",\n      type: \"primary\",\n      icon: /*#__PURE__*/React.createElement(EditOutlined, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 110\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Popconfirm, {\n      onConfirm: () => deleteCamp(record._id),\n      title: \"Are you sure\\uFF1F\",\n      icon: /*#__PURE__*/React.createElement(QuestionCircleOutlined, {\n        style: {\n          color: 'red'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 102\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"d-center\",\n      icon: /*#__PURE__*/React.createElement(DeleteOutlined, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 60\n        }\n      }),\n      danger: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      onClick: () => history.push(`/campaigns/${record._id}`),\n      type: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 21\n      }\n    }, \"Select Products\"))\n  }];\n\n  const showModal = () => {\n    setIsModalVisible(true);\n  };\n\n  const handleOk = () => {\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n    clearFields();\n  };\n\n  const handleCampDate = dates => {\n    setStartAt(moment(dates[0]._d).format());\n    setEndAt(moment(dates[1]._d).format());\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campaigns\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => showModal(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 13\n    }\n  }, \"Create New Campaign\"), /*#__PURE__*/React.createElement(MediaLibrary, {\n    display: display,\n    onHide: () => setDisplay(false),\n    selectCallback: item => handleImageselect(item),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    gutter: 16,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    className: \"gutter-row\",\n    lg: 24,\n    md: 24,\n    sm: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    style: {\n      marginTop: \"15px\"\n    },\n    title: \"Brands\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    columns: columns,\n    dataSource: campaigns,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(Modal, {\n    zIndex: 1111,\n    title: \"Campaigns\",\n    visible: isModalVisible,\n    onOk: handleOk,\n    onCancel: handleCancel,\n    footer: [/*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => clearFields(),\n      className: \"submit_btn\",\n      type: \"primary\",\n      danger: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 25\n      }\n    }, \"Cancel\"), editCamp ? /*#__PURE__*/React.createElement(Button, {\n      onClick: () => updateCamp(),\n      className: \"submit_btn\",\n      type: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 33\n      }\n    }, \"Update\") : /*#__PURE__*/React.createElement(Button, {\n      loading: isLoading,\n      onClick: () => createCamp(),\n      className: \"submit_btn\",\n      type: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 33\n      }\n    }, \"Create\"))],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campaigns_wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 25\n    }\n  }, \"Campaign name \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"required\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 46\n    }\n  }, \"*\")), /*#__PURE__*/React.createElement(Input, {\n    value: campaignName,\n    onChange: e => setCampaignName(e.target.value),\n    type: \"text\",\n    placeholder: \"Enter campaign name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 25\n    }\n  }, \"Campaign image \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"required\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 47\n    }\n  }, \"*\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"d-center\",\n    onClick: () => setDisplay(true),\n    type: \"primary\",\n    shape: \"round\",\n    icon: /*#__PURE__*/React.createElement(UploadOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 126\n      }\n    }),\n    size: \"size\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 29\n    }\n  }, \"Upload image \"), image && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"image_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    onClick: () => setImage(''),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 41\n    }\n  }, \"X\"), /*#__PURE__*/React.createElement(\"img\", {\n    src: image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 41\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 25\n    }\n  }, \"Active \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"required\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 39\n    }\n  }, \"*\")), /*#__PURE__*/React.createElement(Switch, {\n    checked: status,\n    onChange: checked => setStatus(checked),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(RangePicker, {\n    ranges: {\n      Today: [moment(Date.now()), moment()],\n      'This Month': [moment().startOf('month'), moment().endOf('month')]\n    },\n    showTime: true,\n    format: \"YYYY/MM/DD HH:mm:ss\",\n    onChange: handleCampDate,\n    value: startAt && endAt ? [moment(startAt), moment(endAt)] : [moment('00:00:00', 'HH:mm:ss'), moment('11:59:59', 'HH:mm:ss')],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 21\n    }\n  }))));\n}\n\nexport default Campaigns;","map":{"version":3,"sources":["/home/e2e/e2e-microservice/20231007-e2e-microservice/Ts4u-E-Com-Admin-Dev/src/pages/campaigns/Campaigns.js"],"names":["React","useState","useEffect","Row","Col","Card","Input","Button","Table","Tag","Space","Image","Switch","Popconfirm","Modal","DatePicker","UploadOutlined","EditOutlined","DeleteOutlined","QuestionCircleOutlined","axios","MediaLibrary","useHistory","moment","RangePicker","range","start","end","result","i","push","disabledDate","current","endOf","disabledDateTime","disabledHours","splice","disabledMinutes","disabledSeconds","disabledRangeTime","_","type","Campaigns","history","isModalVisible","setIsModalVisible","display","setDisplay","isLoading","setIsLoading","campaigns","setCampaigns","campaignName","setCampaignName","image","setImage","startAt","setStartAt","endAt","setEndAt","status","setStatus","editCamp","setEditCamp","clearFields","createCamp","data","name","isActive","post","then","res","prev","campaign","catch","err","response","console","log","getCamp","get","deleteCamp","id","delete","success","filter","b","_id","handleEditCamp","camp","updateCamp","patch","campArray","index","findIndex","c","handleImageselect","item","thumbnailUrl","columns","title","dataIndex","key","render","format","text","record","color","showModal","handleOk","handleCancel","handleCampDate","dates","_d","marginTop","e","target","value","width","checked","Today","Date","now","startOf"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Row, Col, Card, Input, Button, Table, Tag, Space, Image, Switch, Popconfirm, Modal, DatePicker } from 'antd';\nimport { UploadOutlined, EditOutlined, DeleteOutlined, QuestionCircleOutlined } from '@ant-design/icons'\nimport \"./campaigns.scss\"\nimport axios from 'axios'\nimport MediaLibrary from '../../components/MediaLibrary';\nimport { useHistory } from 'react-router-dom'\nimport moment from 'moment';\nconst { RangePicker } = DatePicker;\n\n\n\nfunction range(start, end) {\n    const result = [];\n    for (let i = start; i < end; i++) {\n        result.push(i);\n    }\n    return result;\n}\n\nfunction disabledDate(current) {\n    // Can not select days before today and today\n    return current && current < moment().endOf('day');\n}\n\nfunction disabledDateTime() {\n    return {\n        disabledHours: () => range(0, 24).splice(4, 20),\n        disabledMinutes: () => range(30, 60),\n        disabledSeconds: () => [55, 56],\n    };\n}\n\nfunction disabledRangeTime(_, type) {\n    if (type === 'start') {\n        return {\n            disabledHours: () => range(0, 60).splice(4, 20),\n            disabledMinutes: () => range(30, 60),\n            disabledSeconds: () => [55, 56],\n        };\n    }\n}\n\n\nfunction Campaigns() {\n    const history = useHistory()\n    const [isModalVisible, setIsModalVisible] = useState(false);\n\n    const [display, setDisplay] = useState(false)\n    const [isLoading, setIsLoading] = useState(false)\n\n    const [campaigns, setCampaigns] = useState([])\n\n    const [campaignName, setCampaignName] = useState('')\n    const [image, setImage] = useState('')\n    const [startAt, setStartAt] = useState('')\n    const [endAt, setEndAt] = useState('')\n    const [status, setStatus] = useState(true)\n\n    const [editCamp, setEditCamp] = useState(null)\n\n\n    const clearFields = () => {\n        setCampaignName(\"\")\n        setImage('')\n        setStartAt('')\n        setEndAt(\"\")\n        setStatus(true)\n        setEditCamp(null)\n        setIsModalVisible(false)\n    }\n\n\n    const createCamp = () => {\n        setIsLoading(true)\n        let data = {\n            name: campaignName,\n            image,\n            startAt,\n            endAt,\n            isActive: status\n        }\n        axios.post('/campaign/create', data)\n            .then(res => {\n                setCampaigns(prev => [res.data.campaign, ...prev])\n                setIsLoading(false)\n                clearFields()\n            })\n            .catch(err => {\n                setIsLoading(false)\n                err && err.response && console.log(err.response.data)\n            })\n    }\n\n    const getCamp = () => {\n        axios.get('/campaign/getall')\n            .then(res => {\n                setCampaigns(res.data.campaigns)\n                console.log(res.data.campaigns);\n            })\n            .catch(err => {\n                err && err.response && console.log(err.response.data)\n            })\n    }\n    const deleteCamp = (id) => {\n        axios.delete(`/campaign/delete/${id}`)\n            .then(res => {\n                if (res.data.success) {\n                    let filter = campaigns.filter(b => b._id !== id)\n                    setCampaigns(filter)\n                }\n            })\n            .catch(err => {\n                err && err.response && console.log(err.response.data)\n            })\n    }\n\n    const handleEditCamp = (camp) => {\n        setCampaignName(camp.name)\n        setImage(camp.image)\n        setStatus(camp.isActive)\n        setStartAt(camp.startAt)\n        setEndAt(camp.endAt)\n        setEditCamp(camp._id)\n        setIsModalVisible(true)\n\n    }\n\n    const updateCamp = () => {\n        setIsLoading(true)\n        let data = {\n            name: campaignName,\n            image,\n            startAt,\n            endAt,\n            isActive: status\n        }\n        axios.patch(`/campaign/update/${editCamp}`, data)\n            .then(res => {\n                if (res.data.success) {\n                    setIsLoading(false)\n                    let campArray = [...campaigns]\n                    let index = campArray.findIndex(c => c._id === res.data.campaign._id)\n                    campArray[index] = res.data.campaign\n                    setCampaigns(campArray)\n                    clearFields()\n                }\n            })\n            .catch(err => {\n                setIsLoading(false)\n                err && err.response && console.log(err.response.data)\n            })\n    }\n\n\n\n    useEffect(() => {\n        getCamp()\n\n    }, [])\n\n\n\n    const handleImageselect = (item) => {\n        setImage(item.thumbnailUrl);\n        setDisplay(false)\n    }\n\n\n\n\n    const columns = [\n\n        {\n            title: 'Name',\n            dataIndex: 'name',\n            key: 'name',\n        },\n\n\n        {\n            title: 'Banner',\n            key: 'image',\n            dataIndex: 'image',\n            render: image => <Image\n                width={100}\n                src={image}\n                fallback=\"data:image/png;base64,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\"\n            />\n        },\n        {\n            title: 'Status',\n            key: 'isActive',\n            dataIndex: 'isActive',\n            render: isActive => (\n                <>\n                    {\n                        isActive == true ? <Tag color=\"green\">Active</Tag> : <Tag color=\"red\">Inactive</Tag>\n                    }\n                </>\n            ),\n        },\n        {\n            title: 'Start Date',\n            key: 'startAt',\n            dataIndex: 'startAt',\n            render: startAt => (\n                <>\n                    <strong>{moment(startAt).format(\"D MMM YYYY HH:mm:ss\")}</strong>\n                </>\n            ),\n        },\n        {\n            title: 'End Date',\n            key: 'endAt',\n            dataIndex: 'endAt',\n            render: endAt => (\n                <>\n                    <strong>{moment(endAt).format(\"D MMM YYYY HH:mm:ss\")}</strong>\n                </>\n            ),\n        },\n        {\n            title: 'Action',\n            key: 'action',\n            render: (text, record) => (\n                <Space size=\"middle\">\n                    <Button onClick={() => handleEditCamp(record)} className='d-center' type='primary' icon={<EditOutlined />}></Button>\n                    <Popconfirm onConfirm={() => deleteCamp(record._id)} title=\"Are you sure？\" icon={<QuestionCircleOutlined style={{ color: 'red' }} />}>\n                        <Button className='d-center' icon={<DeleteOutlined />} danger></Button>\n                    </Popconfirm>\n                    <Button onClick={() => history.push(`/campaigns/${record._id}`)} type='primary'>Select Products</Button>\n\n                </Space>\n            ),\n        },\n    ];\n\n\n\n\n    const showModal = () => {\n        setIsModalVisible(true);\n    };\n\n    const handleOk = () => {\n        setIsModalVisible(false);\n    };\n\n    const handleCancel = () => {\n        setIsModalVisible(false);\n        clearFields()\n    };\n\n\n    const handleCampDate = (dates) => {\n        setStartAt(moment(dates[0]._d).format())\n        setEndAt(moment(dates[1]._d).format())\n    }\n\n\n    return (\n        <div className='campaigns'>\n            <Button onClick={() => showModal()}>Create New Campaign</Button>\n            <MediaLibrary display={display} onHide={() => setDisplay(false)} selectCallback={(item) => handleImageselect(item)} />\n            <Row gutter={16}>\n                <Col className=\"gutter-row\" lg={24} md={24} sm={24}>\n                    <Card style={{ marginTop: \"15px\" }} title=\"Brands\" >\n                        <Table columns={columns} dataSource={campaigns} />\n                    </Card>\n                </Col>\n            </Row>\n\n\n            <Modal\n                zIndex={1111}\n                title=\"Campaigns\"\n                visible={isModalVisible}\n                onOk={handleOk}\n                onCancel={handleCancel}\n                footer={[\n                    <>\n                        <Button onClick={() => clearFields()} className='submit_btn' type=\"primary\" danger>Cancel</Button>\n                        {\n                            editCamp ?\n                                <Button onClick={() => updateCamp()} className='submit_btn' type=\"primary\">Update</Button> :\n                                <Button loading={isLoading} onClick={() => createCamp()} className='submit_btn' type=\"primary\">Create</Button>\n                        }\n\n                    </>\n                ]}\n            >\n\n                <div className='campaigns_wrapper'>\n                    <div className='input_item'>\n                        <label>Campaign name <span className='required'>*</span></label>\n                        <Input\n                            value={campaignName}\n                            onChange={(e) => setCampaignName(e.target.value)}\n                            type=\"text\"\n                            placeholder='Enter campaign name'>\n                        </Input>\n\n                    </div>\n\n                    <div className='input_item'>\n                        <label>Campaign image <span className='required'>*</span></label>\n                        <div style={{ width: \"100%\" }}>\n                            <Button className='d-center' onClick={() => setDisplay(true)} type=\"primary\" shape=\"round\" icon={<UploadOutlined />} size={\"size\"} >Upload image </Button>\n\n                            {\n                                image && <>\n                                    <div className='image_container'>\n                                        <span onClick={() => setImage('')}>X</span>\n                                        <img src={image}></img>\n                                    </div>\n                                </>\n                            }\n                        </div>\n\n                    </div>\n\n                    <div className='input_item'>\n                        <label>Active <span className='required'>*</span></label>\n                        <Switch checked={status} onChange={(checked) => setStatus(checked)} />\n\n                    </div>\n\n                    {/* <RangePicker\n                        style={{ margin: \"10px 0\" }}\n                        disabledDate={disabledDate}\n                        disabledTime={disabledRangeTime}\n                        showTime={{\n                            hideDisabledOptions: true,\n                            defaultValue: [moment('00:00:00', 'HH:mm:ss'), moment('11:59:59', 'HH:mm:ss')],\n                        }}\n                        format=\"D MMM YYYY HH:mm:ss\"\n                        onChange={(e) => handleCampDate(e)}\n                        allowEmpty={false}\n                        value={startAt && endAt ? [moment(startAt), moment(endAt)]: [moment('00:00:00', 'HH:mm:ss'), moment('11:59:59', 'HH:mm:ss')]}\n                        \n                \n                    /> */}\n\n\n\n\n\n\n                    <RangePicker\n                        ranges={{\n                            Today: [moment(Date.now()), moment()],\n                            'This Month': [moment().startOf('month'), moment().endOf('month')],\n                        }}\n                        showTime\n                        format=\"YYYY/MM/DD HH:mm:ss\"\n                        onChange={handleCampDate}\n                        value={startAt && endAt ? [moment(startAt), moment(endAt)]: [moment('00:00:00', 'HH:mm:ss'), moment('11:59:59', 'HH:mm:ss')]}\n                    />\n\n\n                </div>\n\n            </Modal>\n        </div>\n    )\n}\n\nexport default Campaigns\n\n"]},"metadata":{},"sourceType":"module"}