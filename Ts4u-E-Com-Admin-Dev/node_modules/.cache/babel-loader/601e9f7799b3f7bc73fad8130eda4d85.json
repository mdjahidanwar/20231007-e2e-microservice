{"ast":null,"code":"import React, { useState } from \"react\";\nimport Col from \"react-bootstrap/Col\";\nimport FileLibraryCard from \"./FileLibraryCard\";\nimport Row from \"react-bootstrap/Row\";\nimport Button from \"react-bootstrap/Button\";\nimport FileLibraryPager from \"./FileLibraryPager\";\n\nconst FileLibrary = props => {\n  const [selectedItem, setSelectedItem] = useState(undefined);\n  const [page, setPage] = useState(1);\n  const itemsPerPage = 12;\n\n  function sortArray(a, b) {\n    try {\n      const property = props.sortProperty;\n      let valA = property !== undefined ? a[property] : 0;\n      let valB = property !== undefined ? b[property] : 0; // If string, ignore upper and lowercase\n\n      if (typeof valA === \"string\") valA = valA.toUpperCase();\n      if (typeof valB === \"string\") valB = valB.toUpperCase();\n\n      if (props.sortAscending) {\n        return valA < valB ? -1 : 1;\n      } else {\n        return valA > valB ? -1 : 1;\n      }\n    } catch (_a) {\n      return 0;\n    }\n  }\n\n  function renderList() {\n    if (!props.fileLibraryList) return [];\n    const arrayStart = (page - 1) * itemsPerPage;\n    let arrayEnd = arrayStart + itemsPerPage;\n\n    if (arrayEnd > props.fileLibraryList.length) {\n      // If calculated end extends past length of actual array\n      // Set calculated end as length of array\n      arrayEnd = props.fileLibraryList.length;\n    }\n\n    return [...props.fileLibraryList].sort(sortArray).slice(arrayStart, arrayEnd).map((element, index) => {\n      return React.createElement(Col, {\n        key: index,\n        xs: 12,\n        sm: 6,\n        md: 4,\n        lg: 3,\n        className: \"mb-3\",\n        onClick: () => setSelectedItem(element)\n      }, React.createElement(props.libraryCardComponent, Object.assign({\n        selectedItem\n      }, element)));\n    });\n  }\n\n  const submitRow = selectedItem && React.createElement(Row, null, React.createElement(Col, {\n    className: \"text-right\"\n  }, props.fileDeleteCallback !== undefined && React.createElement(Button, {\n    variant: \"danger\",\n    onClick: () => {\n      if (props.fileDeleteCallback) props.fileDeleteCallback(selectedItem);\n    },\n    className: \"mr-3\"\n  }, \"Delete\"), React.createElement(Button, {\n    variant: \"primary\",\n    onClick: () => props.fileSelectCallback(selectedItem)\n  }, \"Select File\")));\n  const pagerRow = props.fileLibraryList.length > itemsPerPage && React.createElement(Row, null, React.createElement(Col, {\n    className: \"d-flex justify-content-center\"\n  }, React.createElement(FileLibraryPager, {\n    count: props.fileLibraryList.length,\n    page: page,\n    pagerCallback: number => setPage(number),\n    itemsPerPage: itemsPerPage\n  })));\n  return React.createElement(React.Fragment, null, React.createElement(Row, {\n    className: \"py-3\"\n  }, renderList()), pagerRow, submitRow);\n};\n\nFileLibrary.defaultProps = {\n  sortProperty: \"createdAt\",\n  sortAscending: false,\n  libraryCardComponent: FileLibraryCard\n};\nexport default FileLibrary;","map":{"version":3,"sources":["../../src/components/FileLibrary.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import React, { useState } from \"react\";\nimport Col from \"react-bootstrap/Col\";\nimport FileLibraryCard from \"./FileLibraryCard\";\nimport Row from \"react-bootstrap/Row\";\nimport Button from \"react-bootstrap/Button\";\nimport FileLibraryPager from \"./FileLibraryPager\";\nconst FileLibrary = (props) => {\n    const [selectedItem, setSelectedItem] = useState(undefined);\n    const [page, setPage] = useState(1);\n    const itemsPerPage = 12;\n    function sortArray(a, b) {\n        try {\n            const property = props.sortProperty;\n            let valA = property !== undefined ? a[property] : 0;\n            let valB = property !== undefined ? b[property] : 0;\n            // If string, ignore upper and lowercase\n            if (typeof valA === \"string\")\n                valA = valA.toUpperCase();\n            if (typeof valB === \"string\")\n                valB = valB.toUpperCase();\n            if (props.sortAscending) {\n                return (valA < valB) ? -1 : 1;\n            }\n            else {\n                return (valA > valB) ? -1 : 1;\n            }\n        }\n        catch (_a) {\n            return 0;\n        }\n    }\n    function renderList() {\n        if (!props.fileLibraryList)\n            return [];\n        const arrayStart = (page - 1) * itemsPerPage;\n        let arrayEnd = arrayStart + itemsPerPage;\n        if (arrayEnd > props.fileLibraryList.length) {\n            // If calculated end extends past length of actual array\n            // Set calculated end as length of array\n            arrayEnd = props.fileLibraryList.length;\n        }\n        return [...props.fileLibraryList]\n            .sort(sortArray)\n            .slice(arrayStart, arrayEnd)\n            .map((element, index) => {\n            return (React.createElement(Col, { key: index, xs: 12, sm: 6, md: 4, lg: 3, className: \"mb-3\", onClick: () => setSelectedItem(element) }, React.createElement(props.libraryCardComponent, Object.assign({ selectedItem }, element))));\n        });\n    }\n    const submitRow = (selectedItem && (React.createElement(Row, null,\n        React.createElement(Col, { className: \"text-right\" },\n            (props.fileDeleteCallback !== undefined) && (React.createElement(Button, { variant: \"danger\", onClick: () => {\n                    if (props.fileDeleteCallback)\n                        props.fileDeleteCallback(selectedItem);\n                }, className: \"mr-3\" }, \"Delete\")),\n            React.createElement(Button, { variant: \"primary\", onClick: () => props.fileSelectCallback(selectedItem) }, \"Select File\")))));\n    const pagerRow = ((props.fileLibraryList.length > itemsPerPage) && (React.createElement(Row, null,\n        React.createElement(Col, { className: \"d-flex justify-content-center\" },\n            React.createElement(FileLibraryPager, { count: props.fileLibraryList.length, page: page, pagerCallback: (number) => setPage(number), itemsPerPage: itemsPerPage })))));\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Row, { className: \"py-3\" }, renderList()),\n        pagerRow,\n        submitRow));\n};\nFileLibrary.defaultProps = {\n    sortProperty: \"createdAt\",\n    sortAscending: false,\n    libraryCardComponent: FileLibraryCard,\n};\nexport default FileLibrary;\n//# sourceMappingURL=FileLibrary.js.map"]},"metadata":{},"sourceType":"module"}