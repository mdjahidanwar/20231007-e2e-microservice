{"ast":null,"code":"import _slicedToArray from\"/home/e2e/e2e-microservice/20231007-e2e-microservice/Ts4u-E-Com-Admin-Dev/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Card,Button,Modal,Input,Alert}from'antd';import'./settings.scss';import axios from'axios';function ImportDemo(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isModalVisible=_useState2[0],setIsModalVisible=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var showModal=function showModal(){setIsModalVisible(true);};var handleOk=function handleOk(){if(!password){return alert(\"pasword is required\");}setLoading(true);axios.post('/seeder/create',{password:password}).then(function(res){if(res.data.success){alert(\"imported successfully\");setLoading(false);handleCancel();}}).catch(function(err){setLoading(false);err&&err.response&&setError(err.response.data);});};var handleCancel=function handleCancel(){setIsModalVisible(false);setError(null);setPassword(\"\");};return/*#__PURE__*/React.createElement(\"div\",{className:\"demo\"},/*#__PURE__*/React.createElement(Card,{title:\"Import demo\"},/*#__PURE__*/React.createElement(\"div\",{className:\"demo_info\"},/*#__PURE__*/React.createElement(\"strong\",null,\"Rules:\"),/*#__PURE__*/React.createElement(\"li\",null,\"1. Demo data will remove your existing Products,Brands,Attributes,Categories.\")),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:\"10px\"}},/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return showModal();},size:\"large\",type:\"primary\"},\"Import Now\"))),/*#__PURE__*/React.createElement(Modal,{zIndex:1111,title:\"Confirm password\",visible:isModalVisible,onCancel:handleCancel,footer:[/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return handleCancel();}},\"Cancel\"),/*#__PURE__*/React.createElement(Button,{loading:loading,onClick:function onClick(){return handleOk();},type:\"primary\"},\"Import\")]},error&&/*#__PURE__*/React.createElement(Alert,{style:{marginBottom:\"10px\"},message:error.error,type:\"error\"}),/*#__PURE__*/React.createElement(Input,{value:password,onChange:function onChange(e){return setPassword(e.target.value);},placeholder:\"Enter your password\"})));}export default ImportDemo;","map":{"version":3,"sources":["/home/e2e/e2e-microservice/20231007-e2e-microservice/Ts4u-E-Com-Admin-Dev/src/pages/settings/ImportDemo.js"],"names":["React","useState","Card","Button","Modal","Input","Alert","axios","ImportDemo","isModalVisible","setIsModalVisible","password","setPassword","error","setError","loading","setLoading","showModal","handleOk","alert","post","then","res","data","success","handleCancel","catch","err","response","marginTop","marginBottom","e","target","value"],"mappings":"gMAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,CAAeC,MAAf,CAAuBC,KAAvB,CAA8BC,KAA9B,CAAoCC,KAApC,KAAiD,MAAjD,CACA,MAAO,iBAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,QAASC,CAAAA,UAAT,EAAsB,CAClB,cAA4CP,QAAQ,CAAC,KAAD,CAApD,wCAAOQ,cAAP,eAAuBC,iBAAvB,eACA,eAAgCT,QAAQ,CAAC,EAAD,CAAxC,yCAAOU,QAAP,eAAiBC,WAAjB,eACA,eAA0BX,QAAQ,CAAC,IAAD,CAAlC,yCAAOY,KAAP,eAAcC,QAAd,eACA,eAA6Bb,QAAQ,CAAC,KAAD,CAArC,yCAAOc,OAAP,eAAeC,UAAf,eAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACpBP,iBAAiB,CAAC,IAAD,CAAjB,CACH,CAFD,CAIA,GAAMQ,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACnB,GAAG,CAACP,QAAJ,CAAa,CACT,MAAOQ,CAAAA,KAAK,CAAC,qBAAD,CAAZ,CACH,CACDH,UAAU,CAAC,IAAD,CAAV,CACAT,KAAK,CAACa,IAAN,CAAW,gBAAX,CAA4B,CAACT,QAAQ,CAARA,QAAD,CAA5B,EACCU,IADD,CACM,SAAAC,GAAG,CAAE,CACP,GAAGA,GAAG,CAACC,IAAJ,CAASC,OAAZ,CAAoB,CAChBL,KAAK,CAAC,uBAAD,CAAL,CACAH,UAAU,CAAC,KAAD,CAAV,CACAS,YAAY,GACf,CACJ,CAPD,EAQCC,KARD,CAQO,SAAAC,GAAG,CAAE,CACRX,UAAU,CAAC,KAAD,CAAV,CACAW,GAAG,EAAIA,GAAG,CAACC,QAAX,EAAuBd,QAAQ,CAACa,GAAG,CAACC,QAAJ,CAAaL,IAAd,CAA/B,CACH,CAXD,EAaH,CAlBD,CAoBA,GAAME,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvBf,iBAAiB,CAAC,KAAD,CAAjB,CACAI,QAAQ,CAAC,IAAD,CAAR,CACAF,WAAW,CAAC,EAAD,CAAX,CACH,CAJD,CAKA,mBACI,2BAAK,SAAS,CAAC,MAAf,eACI,oBAAC,IAAD,EAAM,KAAK,CAAC,aAAZ,eACI,2BAAK,SAAS,CAAC,WAAf,eACI,2CADJ,cAEI,8GAFJ,CADJ,cAKI,2BAAK,KAAK,CAAE,CAAEiB,SAAS,CAAE,MAAb,CAAZ,eACI,oBAAC,MAAD,EAAQ,OAAO,CAAE,yBAAIZ,CAAAA,SAAS,EAAb,EAAjB,CAAkC,IAAI,CAAC,OAAvC,CAA+C,IAAI,CAAC,SAApD,eADJ,CALJ,CADJ,cAaI,oBAAC,KAAD,EACA,MAAM,CAAE,IADR,CAEA,KAAK,CAAC,kBAFN,CAGA,OAAO,CAAER,cAHT,CAIA,QAAQ,CAAEgB,YAJV,CAKA,MAAM,CAAE,cACJ,oBAAC,MAAD,EAAQ,OAAO,CAAE,yBAAIA,CAAAA,YAAY,EAAhB,EAAjB,WADI,cAEJ,oBAAC,MAAD,EAAQ,OAAO,CAAEV,OAAjB,CAA0B,OAAO,CAAE,yBAAIG,CAAAA,QAAQ,EAAZ,EAAnC,CAAmD,IAAI,CAAC,SAAxD,WAFI,CALR,EAWQL,KAAK,eAAI,oBAAC,KAAD,EAAO,KAAK,CAAE,CAACiB,YAAY,CAAC,MAAd,CAAd,CAAqC,OAAO,CAAEjB,KAAK,CAACA,KAApD,CAA2D,IAAI,CAAC,OAAhE,EAXjB,cAaI,oBAAC,KAAD,EAAQ,KAAK,CAAEF,QAAf,CAAyB,QAAQ,CAAE,kBAAAoB,CAAC,QAAEnB,CAAAA,WAAW,CAACmB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,EAApC,CAAmE,WAAW,CAAC,qBAA/E,EAbJ,CAbJ,CADJ,CA+BH,CAED,cAAezB,CAAAA,UAAf","sourcesContent":["import React, { useState } from 'react'\nimport { Card, Button, Modal, Input,Alert } from 'antd'\nimport './settings.scss'\nimport axios from 'axios'\n\nfunction ImportDemo() {\n    const [isModalVisible, setIsModalVisible] = useState(false);\n    const [password, setPassword] = useState('')\n    const [error, setError] = useState(null)\n    const [loading,setLoading] = useState(false)\n\n    const showModal = () => {\n        setIsModalVisible(true);\n    };\n\n    const handleOk = () => {\n        if(!password){\n            return alert(\"pasword is required\")\n        }\n        setLoading(true)\n        axios.post('/seeder/create',{password})\n        .then(res=>{\n            if(res.data.success){\n                alert(\"imported successfully\")\n                setLoading(false)\n                handleCancel()\n            }\n        })\n        .catch(err=>{\n            setLoading(false)\n            err && err.response && setError(err.response.data)\n        })\n\n    };\n\n    const handleCancel = () => {\n        setIsModalVisible(false);\n        setError(null)\n        setPassword(\"\")\n    };\n    return (\n        <div className='demo'>\n            <Card title=\"Import demo\">\n                <div className=\"demo_info\">\n                    <strong>Rules:</strong>\n                    <li>1. Demo data will remove your existing Products,Brands,Attributes,Categories.</li>\n                </div>\n                <div style={{ marginTop: \"10px\" }}>\n                    <Button onClick={()=>showModal()} size='large' type='primary'>Import Now</Button>\n                </div>\n            </Card>\n\n\n\n            <Modal \n            zIndex={1111}\n            title=\"Confirm password\" \n            visible={isModalVisible} \n            onCancel={handleCancel}\n            footer={[\n                <Button onClick={()=>handleCancel()} >Cancel</Button>,\n                <Button loading={loading} onClick={()=>handleOk()} type='primary'>Import</Button>\n            ]}\n            >\n                {\n                    error && <Alert style={{marginBottom:\"10px\"}} message={error.error} type=\"error\" />\n                }\n                <Input  value={password} onChange={e=>setPassword(e.target.value)} placeholder='Enter your password'></Input>\n            </Modal>\n        </div>\n    )\n}\n\nexport default ImportDemo\n"]},"metadata":{},"sourceType":"module"}