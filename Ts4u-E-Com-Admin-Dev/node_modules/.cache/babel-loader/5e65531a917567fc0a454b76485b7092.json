{"ast":null,"code":"import _slicedToArray from\"/home/e2e/e2e-microservice/20231007-e2e-microservice/Ts4u-E-Com-Admin-Dev/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Row,Col,Card,Switch,Input,Button,Select}from'antd';import\"./analytics.scss\";import axios from'axios';function Analytics(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isAnalyticsActive=_useState2[0],setIsAnalyticsActive=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isPixelActive=_useState4[0],setIsPixelActive=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),pixelId=_useState6[0],setPixelId=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),analyticsId=_useState8[0],setAnalyticsId=_useState8[1];var savePixel=function savePixel(){if(!pixelId){return alert(\"pixel id is requiredd\");}var pixel={isActive:isPixelActive,id:pixelId};axios.post(\"/settings/analytics\",{pixel:pixel}).then(function(res){alert(\"updated\");}).catch(function(err){alert(\"error\");console.log(err);});};var saveAnalytics=function saveAnalytics(){if(!analyticsId){return alert(\"Analytics id is requiredd\");}var ga={isActive:isAnalyticsActive,id:analyticsId};axios.post(\"/settings/analytics\",{ga:ga}).then(function(res){alert(\"updated\");}).catch(function(err){alert(\"error\");console.log(err);});};useEffect(function(){axios.get(\"/settings/analytics\").then(function(res){var _res$data$analytics=res.data.analytics,ga=_res$data$analytics.ga,pixel=_res$data$analytics.pixel;setIsPixelActive(pixel===null||pixel===void 0?void 0:pixel.isActive);setPixelId(pixel===null||pixel===void 0?void 0:pixel.id);setIsAnalyticsActive(ga===null||ga===void 0?void 0:ga.isActive);setAnalyticsId(ga===null||ga===void 0?void 0:ga.id);}).catch(function(err){alert(\"error\");console.log(err);});},[]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"analytics\"},/*#__PURE__*/React.createElement(Row,{gutter:16},/*#__PURE__*/React.createElement(Col,{span:12},/*#__PURE__*/React.createElement(Card,{title:\"Facebook Pixel Setting\"},/*#__PURE__*/React.createElement(\"table\",{style:{width:\"100%\"}},/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Enable:\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Switch,{checked:isPixelActive,onChange:function onChange(e){return setIsPixelActive(e);}}))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Facebook Pixel ID:\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Input,{value:pixelId,onChange:function onChange(e){return setPixelId(e.target.value);},placeholder:\"Facebook Pixel ID\"}))))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return savePixel();},className:\"save\",type:\"primary\"},\"Save\")))),/*#__PURE__*/React.createElement(Col,{span:12},/*#__PURE__*/React.createElement(Card,{title:\"Google Analytics Setting\"},/*#__PURE__*/React.createElement(\"table\",null,/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Enable:\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Switch,{checked:isAnalyticsActive,onChange:function onChange(e){return setIsAnalyticsActive(e);}}))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Tracking ID:\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Input,{value:analyticsId,onChange:function onChange(e){return setAnalyticsId(e.target.value);},placeholder:\"Tracking ID\"}))))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return saveAnalytics();},className:\"save\",type:\"primary\"},\"Save\")))))));}export default Analytics;","map":{"version":3,"sources":["/home/e2e/e2e-microservice/20231007-e2e-microservice/Ts4u-E-Com-Admin-Dev/src/pages/website/Analytics.js"],"names":["React","useEffect","useState","Row","Col","Card","Switch","Input","Button","Select","axios","Analytics","isAnalyticsActive","setIsAnalyticsActive","isPixelActive","setIsPixelActive","pixelId","setPixelId","analyticsId","setAnalyticsId","savePixel","alert","pixel","isActive","id","post","then","res","catch","err","console","log","saveAnalytics","ga","get","data","analytics","width","e","target","value"],"mappings":"gMAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,GAAT,CAAcC,GAAd,CAAmBC,IAAnB,CAAyBC,MAAzB,CAAiCC,KAAjC,CAAwCC,MAAxC,CAAgDC,MAAhD,KAA8D,MAA9D,CACA,MAAO,kBAAP,CAEA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAIA,QAASC,CAAAA,SAAT,EAAqB,CACjB,cAAkDT,QAAQ,CAAC,KAAD,CAA1D,wCAAOU,iBAAP,eAA0BC,oBAA1B,eACA,eAA0CX,QAAQ,CAAC,KAAD,CAAlD,yCAAOY,aAAP,eAAsBC,gBAAtB,eAEA,eAA8Bb,QAAQ,CAAC,EAAD,CAAtC,yCAAOc,OAAP,eAAgBC,UAAhB,eACA,eAAsCf,QAAQ,CAAC,EAAD,CAA9C,yCAAOgB,WAAP,eAAoBC,cAApB,eAEA,GAAMC,CAAAA,SAAS,CAAC,QAAVA,CAAAA,SAAU,EAAI,CAChB,GAAG,CAACJ,OAAJ,CAAY,CACR,MAAOK,CAAAA,KAAK,CAAC,uBAAD,CAAZ,CACH,CACD,GAAIC,CAAAA,KAAK,CAAC,CACNC,QAAQ,CAACT,aADH,CAENU,EAAE,CAACR,OAFG,CAAV,CAIAN,KAAK,CAACe,IAAN,CAAW,qBAAX,CAAiC,CAACH,KAAK,CAALA,KAAD,CAAjC,EACCI,IADD,CACM,SAAAC,GAAG,CAAE,CACPN,KAAK,CAAC,SAAD,CAAL,CACH,CAHD,EAICO,KAJD,CAIO,SAAAC,GAAG,CAAE,CACRR,KAAK,CAAC,OAAD,CAAL,CACAS,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CAPD,EAQH,CAhBD,CAiBA,GAAMG,CAAAA,aAAa,CAAC,QAAdA,CAAAA,aAAc,EAAI,CACpB,GAAG,CAACd,WAAJ,CAAgB,CACZ,MAAOG,CAAAA,KAAK,CAAC,2BAAD,CAAZ,CACH,CACD,GAAIY,CAAAA,EAAE,CAAC,CACHV,QAAQ,CAACX,iBADN,CAEHY,EAAE,CAACN,WAFA,CAAP,CAIAR,KAAK,CAACe,IAAN,CAAW,qBAAX,CAAiC,CAACQ,EAAE,CAAFA,EAAD,CAAjC,EACCP,IADD,CACM,SAAAC,GAAG,CAAE,CACPN,KAAK,CAAC,SAAD,CAAL,CACH,CAHD,EAICO,KAJD,CAIO,SAAAC,GAAG,CAAE,CACRR,KAAK,CAAC,OAAD,CAAL,CACAS,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CAPD,EAQH,CAhBD,CAkBA5B,SAAS,CAAC,UAAM,CACZS,KAAK,CAACwB,GAAN,CAAU,qBAAV,EACCR,IADD,CACM,SAAAC,GAAG,CAAE,CACP,wBAAoBA,GAAG,CAACQ,IAAJ,CAASC,SAA7B,CAAOH,EAAP,qBAAOA,EAAP,CAAWX,KAAX,qBAAWA,KAAX,CACAP,gBAAgB,CAACO,KAAD,SAACA,KAAD,iBAACA,KAAK,CAAEC,QAAR,CAAhB,CACAN,UAAU,CAACK,KAAD,SAACA,KAAD,iBAACA,KAAK,CAAEE,EAAR,CAAV,CAEAX,oBAAoB,CAACoB,EAAD,SAACA,EAAD,iBAACA,EAAE,CAAEV,QAAL,CAApB,CACAJ,cAAc,CAACc,EAAD,SAACA,EAAD,iBAACA,EAAE,CAAET,EAAL,CAAd,CACH,CARD,EASCI,KATD,CASO,SAAAC,GAAG,CAAE,CACRR,KAAK,CAAC,OAAD,CAAL,CACAS,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CAZD,EAaH,CAdQ,CAcN,EAdM,CAAT,CAgBA,mBACI,4CACI,2BAAK,SAAS,CAAC,WAAf,eACA,oBAAC,GAAD,EAAK,MAAM,CAAE,EAAb,eACI,oBAAC,GAAD,EAAK,IAAI,CAAE,EAAX,eACA,oBAAC,IAAD,EAAM,KAAK,CAAC,wBAAZ,eACQ,6BAAO,KAAK,CAAE,CAACQ,KAAK,CAAC,MAAP,CAAd,eACI,8CACI,2CACI,wCADJ,cAEI,2CAAI,oBAAC,MAAD,EAAQ,OAAO,CAAEvB,aAAjB,CAAgC,QAAQ,CAAE,kBAACwB,CAAD,QAAOvB,CAAAA,gBAAgB,CAACuB,CAAD,CAAvB,EAA1C,EAAJ,CAFJ,CADJ,cAKI,2CACI,mDADJ,cAEI,2CAAI,oBAAC,KAAD,EAAO,KAAK,CAAEtB,OAAd,CAAuB,QAAQ,CAAE,kBAACsB,CAAD,QAAOrB,CAAAA,UAAU,CAACqB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAjB,EAAjC,CAAoE,WAAW,CAAC,mBAAhF,EAAJ,CAFJ,CALJ,CADJ,CADR,cAcQ,4CACI,oBAAC,MAAD,EAAQ,OAAO,CAAE,yBAAMpB,CAAAA,SAAS,EAAf,EAAjB,CAAoC,SAAS,CAAC,MAA9C,CAAqD,IAAI,CAAC,SAA1D,SADJ,CAdR,CADA,CADJ,cAuBI,oBAAC,GAAD,EAAK,IAAI,CAAE,EAAX,eACI,oBAAC,IAAD,EAAM,KAAK,CAAC,0BAAZ,eACI,8CACI,8CACI,2CACI,wCADJ,cAEI,2CAAI,oBAAC,MAAD,EAAQ,OAAO,CAAER,iBAAjB,CAAoC,QAAQ,CAAE,kBAAC0B,CAAD,QAAOzB,CAAAA,oBAAoB,CAACyB,CAAD,CAA3B,EAA9C,EAAJ,CAFJ,CADJ,cAKI,2CACI,6CADJ,cAEI,2CAAI,oBAAC,KAAD,EAAO,KAAK,CAAEpB,WAAd,CAA2B,QAAQ,CAAE,kBAACoB,CAAD,QAAOnB,CAAAA,cAAc,CAACmB,CAAC,CAACC,MAAF,CAASC,KAAV,CAArB,EAArC,CAA4E,WAAW,CAAC,aAAxF,EAAJ,CAFJ,CALJ,CADJ,CADJ,cAcI,4CACI,oBAAC,MAAD,EAAQ,OAAO,CAAE,yBAAMR,CAAAA,aAAa,EAAnB,EAAjB,CAAwC,SAAS,CAAC,MAAlD,CAAyD,IAAI,CAAC,SAA9D,SADJ,CAdJ,CADJ,CAvBJ,CADA,CADJ,CADJ,CAmDH,CAED,cAAerB,CAAAA,SAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { Row, Col, Card, Switch, Input, Button, Select } from 'antd';\nimport \"./analytics.scss\"\n\nimport axios from 'axios'\n\n\n\nfunction Analytics() {\n    const [isAnalyticsActive, setIsAnalyticsActive] = useState(false)\n    const [isPixelActive, setIsPixelActive] = useState(false)\n\n    const [pixelId, setPixelId] = useState(\"\")\n    const [analyticsId, setAnalyticsId] = useState(\"\")\n\n    const savePixel=()=>{\n        if(!pixelId){\n            return alert(\"pixel id is requiredd\")\n        }\n        let pixel={\n            isActive:isPixelActive,\n            id:pixelId\n        }\n        axios.post(\"/settings/analytics\",{pixel})\n        .then(res=>{\n            alert(\"updated\")\n        })\n        .catch(err=>{\n            alert(\"error\")\n            console.log(err);\n        })\n    }\n    const saveAnalytics=()=>{\n        if(!analyticsId){\n            return alert(\"Analytics id is requiredd\")\n        }\n        let ga={\n            isActive:isAnalyticsActive,\n            id:analyticsId\n        }\n        axios.post(\"/settings/analytics\",{ga})\n        .then(res=>{\n            alert(\"updated\")\n        })\n        .catch(err=>{\n            alert(\"error\")\n            console.log(err);\n        })\n    }\n\n    useEffect(() => {\n        axios.get(\"/settings/analytics\")\n        .then(res=>{\n            const {ga, pixel} = res.data.analytics\n            setIsPixelActive(pixel?.isActive)\n            setPixelId(pixel?.id)\n            \n            setIsAnalyticsActive(ga?.isActive)\n            setAnalyticsId(ga?.id)\n        })\n        .catch(err=>{\n            alert(\"error\")\n            console.log(err);\n        })\n    }, [])\n\n    return (\n        <div>\n            <div className='analytics'>\n            <Row gutter={16}>\n                <Col span={12}>\n                <Card title=\"Facebook Pixel Setting\">\n                        <table style={{width:\"100%\"}}>\n                            <tbody>\n                                <tr>\n                                    <td>Enable:</td>\n                                    <td><Switch checked={isPixelActive} onChange={(e) => setIsPixelActive(e)} /></td>\n                                </tr>\n                                <tr>\n                                    <td>Facebook Pixel ID:</td>\n                                    <td><Input value={pixelId} onChange={(e) => setPixelId(e.target.value)} placeholder=\"Facebook Pixel ID\" /></td>\n                                </tr>\n\n                            </tbody>\n                        </table>\n                        <div>\n                            <Button onClick={() => savePixel()} className='save' type=\"primary\">Save</Button>\n                        </div>\n                    </Card>\n\n                </Col>\n               \n                <Col span={12}>\n                    <Card title=\"Google Analytics Setting\">\n                        <table>\n                            <tbody>\n                                <tr>\n                                    <td>Enable:</td>\n                                    <td><Switch checked={isAnalyticsActive} onChange={(e) => setIsAnalyticsActive(e)} /></td>\n                                </tr>\n                                <tr>\n                                    <td>Tracking ID:</td>\n                                    <td><Input value={analyticsId} onChange={(e) => setAnalyticsId(e.target.value)} placeholder=\"Tracking ID\" /></td>\n                                </tr>\n\n                            </tbody>\n                        </table>\n                        <div>\n                            <Button onClick={() => saveAnalytics()} className='save' type=\"primary\">Save</Button>\n                        </div>\n                    </Card>\n\n                </Col>\n            </Row>\n        </div>\n        </div>\n    )\n}\n\nexport default Analytics\n"]},"metadata":{},"sourceType":"module"}