{"ast":null,"code":"var _jsxFileName = \"/home/e2e/e2e-microservice/20231007-e2e-microservice/Ts4u-E-Com-Admin-Dev/src/pages/brand/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Row, Col, Card, Input, Button, Table, Tag, Space, Image, Switch, Popconfirm } from 'antd';\nimport { UploadOutlined, EditOutlined, DeleteOutlined, QuestionCircleOutlined } from '@ant-design/icons';\nimport \"./brand.scss\";\nimport axios from 'axios';\nimport MediaLibrary from '../../components/MediaLibrary';\nimport { CSVLink } from \"react-csv\";\nimport { useSelector, useDispatch } from 'react-redux';\nconst headers = [{\n  label: \"name *\",\n  key: \"name\"\n}, {\n  label: \"image\",\n  key: \"image\"\n}];\n\nfunction Brand() {\n  const {\n    brands,\n    isBrandLoading\n  } = useSelector(state => state.data);\n  const dispatch = useDispatch();\n  const [isLoading, setIsLoading] = useState(false);\n  const [isLoadingUpload, setIsLoadingUpload] = useState(false);\n  const [display, setDisplay] = useState(false);\n  const [csv, setCsv] = useState(null);\n  const [brandName, setBrandName] = useState('');\n  const [brandImg, setBrandImg] = useState('');\n  const [status, setStatus] = useState(true);\n  const [editId, setEditId] = useState(null);\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\n  const [selectedRows, setSelectedRows] = useState([]); //console.log(brands);\n\n  const clearFields = () => {\n    setBrandName('');\n    setBrandImg('');\n    setStatus(true);\n    setEditId(null);\n  };\n\n  const createBrand = () => {\n    let data = {\n      name: brandName,\n      image: brandImg,\n      status\n    };\n    axios.post('/brand/create', data).then(res => {\n      dispatch({\n        type: \"ADD_NEW_BRAND\",\n        payload: res.data.brand\n      });\n      clearFields();\n    }).catch(err => {\n      err && err.response && console.log(err.response.data);\n    });\n  }; // const getBrands = () => {\n  //     setIsLoading(true)\n  //     axios.get('/brand/get')\n  //         .then(res => {\n  //             setIsLoading(false)\n  //             setBrands(res.data.brands)\n  //         })\n  //         .catch(err => {\n  //             setIsLoading(false)\n  //             err && err.response && console.log(err.response.data)\n  //         })\n  // }\n\n\n  const deleteBrand = id => {\n    axios.delete(`/brand/delete/${id}`).then(res => {\n      if (res.data.success) {\n        dispatch({\n          type: \"DELETE_BRAND\",\n          payload: id\n        });\n      }\n    }).catch(err => {\n      err && err.response && console.log(err.response.data);\n    });\n  };\n\n  const setEditBrand = brand => {\n    setEditId(brand._id);\n    setBrandName(brand.name);\n    setBrandImg(brand.image);\n    setStatus(brand.status);\n  };\n\n  const updateBrand = () => {\n    let data = {\n      name: brandName,\n      image: brandImg,\n      status\n    };\n    axios.patch(`/brand/update/${editId}`, data).then(res => {\n      if (res.data.success) {\n        dispatch({\n          type: \"UPDATE_BRAND\",\n          payload: res.data.brand\n        });\n        clearFields();\n      }\n    }).catch(err => {\n      err && err.response && console.log(err.response.data);\n    });\n  }; //console.log(brands);\n\n\n  let join = async updated => {\n    let array = [...brands];\n    updated.map(u => {\n      let index = array.findIndex(arr => arr._id === u._id);\n      array[index] = u;\n    });\n    return array;\n  };\n\n  const bulkEdit = value => {\n    setIsLoading(true);\n    let data = {\n      ids: selectedRowKeys,\n      status: value\n    };\n    axios.patch(\"/brand/bulkedit\", data).then(async res => {\n      let updated = res.data.brands;\n      let newBrands = await join(updated);\n      dispatch({\n        type: \"SET_BRANDS\",\n        payload: newBrands\n      });\n      setSelectedRowKeys([]);\n      setSelectedRows([]);\n      setIsLoading(false);\n    }).catch(err => {\n      setIsLoading(false);\n      console.log(err);\n    });\n  };\n\n  let Filter = async ids => {\n    let array = [...brands];\n    ids.map(id => {\n      array = array.filter(arr => arr._id !== id);\n    });\n    return array;\n  };\n\n  const bulkDelete = () => {\n    setIsLoading(true);\n    let data = {\n      ids: selectedRowKeys\n    };\n    axios.patch(\"/brand/bulkdelete\", data).then(async res => {\n      let filtered = await Filter(selectedRowKeys);\n      dispatch({\n        type: \"SET_BRANDS\",\n        payload: filtered\n      });\n      setSelectedRowKeys([]);\n      setSelectedRows([]);\n      setIsLoading(false);\n    }).catch(err => {\n      setIsLoading(false);\n      console.log(err);\n    });\n  };\n\n  const handleImageselect = item => {\n    setBrandImg(item.thumbnailUrl);\n    setDisplay(false);\n  };\n\n  const columns = [{\n    title: 'Name',\n    dataIndex: 'name',\n    key: 'name'\n  }, {\n    title: 'Status',\n    key: 'status',\n    dataIndex: 'status',\n    render: status => /*#__PURE__*/React.createElement(React.Fragment, null, status == true ? /*#__PURE__*/React.createElement(Tag, {\n      color: \"green\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 42\n      }\n    }, \"Active\") : /*#__PURE__*/React.createElement(Tag, {\n      color: \"red\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 76\n      }\n    }, \"Inactive\"))\n  }, {\n    title: 'Image',\n    key: 'image',\n    dataIndex: 'image',\n    render: image => /*#__PURE__*/React.createElement(Image, {\n      width: 100,\n      src: image,\n      fallback: \"data:image/png;base64,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\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 30\n      }\n    })\n  }, {\n    title: 'Action',\n    key: 'action',\n    render: (text, record) => /*#__PURE__*/React.createElement(Space, {\n      size: \"middle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => setEditBrand(record),\n      className: \"d-center\",\n      type: \"primary\",\n      icon: /*#__PURE__*/React.createElement(EditOutlined, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 108\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Popconfirm, {\n      onConfirm: () => deleteBrand(record._id),\n      title: \"Are you sure\\uFF1F\",\n      icon: /*#__PURE__*/React.createElement(QuestionCircleOutlined, {\n        style: {\n          color: 'red'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 103\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"d-center\",\n      icon: /*#__PURE__*/React.createElement(DeleteOutlined, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 60\n        }\n      }),\n      danger: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 25\n      }\n    })))\n  }];\n  const rowSelection = {\n    selectedRowKeys,\n    onChange: (selectedRowKeys, selectedRows) => {\n      setSelectedRowKeys(selectedRowKeys);\n      setSelectedRows(selectedRows);\n    }\n  };\n\n  const handleSaveCsv = () => {\n    setIsLoadingUpload(true);\n    let formData = new FormData();\n    formData.append('file', csv);\n    axios.post('/brand/bulkupload', formData).then(res => {\n      alert(`${res.data.brands.length} brands added`);\n      setCsv(null);\n      dispatch({\n        type: \"SET_BRANDS\",\n        payload: [...brands, ...res.data.brands]\n      });\n      setIsLoadingUpload(false);\n    }).catch(err => {\n      setIsLoadingUpload(false);\n      err && err.response && alert(err.response.data.error);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"brand\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MediaLibrary, {\n    display: display,\n    onHide: () => setDisplay(false),\n    selectCallback: item => handleImageselect(item),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    gutter: 16,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    className: \"gutter-row\",\n    lg: 14,\n    md: 24,\n    sm: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    style: {\n      marginTop: \"15px\"\n    },\n    title: \"Brands\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    style: {\n      marginRight: \"10px\"\n    },\n    onClick: () => bulkEdit(true),\n    disabled: selectedRows.length === 0,\n    type: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 25\n    }\n  }, \"Make Active\"), /*#__PURE__*/React.createElement(Button, {\n    style: {\n      marginRight: \"10px\"\n    },\n    onClick: () => bulkEdit(false),\n    disabled: selectedRows.length === 0,\n    type: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 25\n    }\n  }, \"Make Inactive\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => bulkDelete(),\n    disabled: selectedRows.length === 0,\n    type: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 25\n    }\n  }, \"Deletes\"), selectedRows.length > 0 && /*#__PURE__*/React.createElement(\"strong\", {\n    style: {\n      marginLeft: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 53\n    }\n  }, selectedRows.length, \" Brands seleted\"), /*#__PURE__*/React.createElement(Table, {\n    rowKey: \"_id\",\n    rowSelection: rowSelection,\n    loading: isLoading || isBrandLoading,\n    columns: columns,\n    dataSource: brands,\n    pagination: {\n      defaultPageSize: 10,\n      showSizeChanger: true,\n      pageSizeOptions: ['10', '20', '30'],\n      showQuickJumper: true\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    className: \"gutter-row\",\n    lg: 10,\n    md: 24,\n    sm: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    style: {\n      marginTop: \"15px\"\n    },\n    title: editId ? \"Update Brand\" : \"Create Brand\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"brand_wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 33\n    }\n  }, \"Brand name \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"required\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 51\n    }\n  }, \"*\")), /*#__PURE__*/React.createElement(Input, {\n    value: brandName,\n    onChange: e => setBrandName(e.target.value),\n    type: \"text\",\n    placeholder: \"Enter brand name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 33\n    }\n  }, \"Brand image \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"required\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 52\n    }\n  }, \"*\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"d-center\",\n    onClick: () => setDisplay(true),\n    type: \"primary\",\n    shape: \"round\",\n    icon: /*#__PURE__*/React.createElement(UploadOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 134\n      }\n    }),\n    size: \"size\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 37\n    }\n  }, \"Upload image \"), brandImg && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"image_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    onClick: () => setBrandImg(''),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 49\n    }\n  }, \"X\"), /*#__PURE__*/React.createElement(\"img\", {\n    src: brandImg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 49\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input_item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 33\n    }\n  }, \"Active \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"required\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 47\n    }\n  }, \"*\")), /*#__PURE__*/React.createElement(Switch, {\n    checked: status,\n    onChange: checked => setStatus(checked),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 33\n    }\n  })), editId ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => updateBrand(),\n    className: \"submit_btn\",\n    type: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 37\n    }\n  }, \"Update\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => clearFields(),\n    className: \"submit_btn\",\n    type: \"primary\",\n    danger: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 37\n    }\n  }, \"Cancel\")) : /*#__PURE__*/React.createElement(Button, {\n    onClick: () => createBrand(),\n    className: \"submit_btn\",\n    type: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 37\n    }\n  }, \"Create\"))), /*#__PURE__*/React.createElement(Card, {\n    style: {\n      marginTop: \"15px\"\n    },\n    title: \"Bulk export\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bulk_info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 29\n    }\n  }, \"1. Click the button to download all brands\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"15px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(CSVLink, {\n    data: brands,\n    headers: headers,\n    asyncOnClick: true,\n    onClick: (event, done) => {\n      brands.length > 0 ? done() : done(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    disabled: brands.length === 0,\n    type: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 33\n    }\n  }, \"Download brands CSV\")))), /*#__PURE__*/React.createElement(Card, {\n    title: \"Upload file\",\n    style: {\n      marginTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bulk_info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 29\n    }\n  }, \"Step 1:\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 29\n    }\n  }, \"1. Download the skeleton file and fill it with proper data.\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 29\n    }\n  }, \"2. You can download the example file to understand how the data must be filled.\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 29\n    }\n  }, \"3. Once you have downloaded and filled the skeleton file, upload it in the form below and submit.\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"15px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(CSVLink, {\n    data: [],\n    headers: headers,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 33\n    }\n  }, \"Download skeleton CSV\"))), /*#__PURE__*/React.createElement(\"label\", {\n    class: \"file\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => setCsv(e.target.files[0]),\n    type: \"file\",\n    id: \"file\",\n    \"aria-label\": \"Browse csv file\",\n    accept: \".csv\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    class: \"file-custom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 29\n    }\n  }, csv && csv.name)), /*#__PURE__*/React.createElement(Button, {\n    disabled: !csv,\n    loading: isLoadingUpload,\n    onClick: () => handleSaveCsv(),\n    className: \"d-center\",\n    type: \"primary\",\n    icon: /*#__PURE__*/React.createElement(UploadOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 149\n      }\n    }),\n    size: \"size\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 25\n    }\n  }, \"Upload File \")))));\n}\n\nexport default Brand;","map":{"version":3,"sources":["/home/e2e/e2e-microservice/20231007-e2e-microservice/Ts4u-E-Com-Admin-Dev/src/pages/brand/index.js"],"names":["React","useState","useEffect","Row","Col","Card","Input","Button","Table","Tag","Space","Image","Switch","Popconfirm","UploadOutlined","EditOutlined","DeleteOutlined","QuestionCircleOutlined","axios","MediaLibrary","CSVLink","useSelector","useDispatch","headers","label","key","Brand","brands","isBrandLoading","state","data","dispatch","isLoading","setIsLoading","isLoadingUpload","setIsLoadingUpload","display","setDisplay","csv","setCsv","brandName","setBrandName","brandImg","setBrandImg","status","setStatus","editId","setEditId","selectedRowKeys","setSelectedRowKeys","selectedRows","setSelectedRows","clearFields","createBrand","name","image","post","then","res","type","payload","brand","catch","err","response","console","log","deleteBrand","id","delete","success","setEditBrand","_id","updateBrand","patch","join","updated","array","map","u","index","findIndex","arr","bulkEdit","value","ids","newBrands","Filter","filter","bulkDelete","filtered","handleImageselect","item","thumbnailUrl","columns","title","dataIndex","render","text","record","color","rowSelection","onChange","handleSaveCsv","formData","FormData","append","alert","length","error","marginTop","marginRight","marginLeft","defaultPageSize","showSizeChanger","pageSizeOptions","showQuickJumper","e","target","width","checked","event","done","files"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyBC,KAAzB,EAAgCC,MAAhC,EAAwCC,KAAxC,EAA+CC,GAA/C,EAAoDC,KAApD,EAA2DC,KAA3D,EAAkEC,MAAlE,EAA0EC,UAA1E,QAA4F,MAA5F;AACA,SAASC,cAAT,EAAyBC,YAAzB,EAAuCC,cAAvC,EAAuDC,sBAAvD,QAAqF,mBAArF;AACA,OAAO,cAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,+BAAzB;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,SAAQC,WAAR,EAAoBC,WAApB,QAAsC,aAAtC;AAGA,MAAMC,OAAO,GAAG,CACZ;AAAEC,EAAAA,KAAK,EAAE,QAAT;AAAmBC,EAAAA,GAAG,EAAE;AAAxB,CADY,EAEZ;AAAED,EAAAA,KAAK,EAAE,OAAT;AAAkBC,EAAAA,GAAG,EAAE;AAAvB,CAFY,CAAhB;;AAQA,SAASC,KAAT,GAAiB;AACb,QAAM;AAACC,IAAAA,MAAD;AAAQC,IAAAA;AAAR,MAA0BP,WAAW,CAACQ,KAAK,IAAIA,KAAK,CAACC,IAAhB,CAA3C;AACA,QAAMC,QAAQ,GAAGT,WAAW,EAA5B;AAEA,QAAM,CAACU,SAAD,EAAYC,YAAZ,IAA4BhC,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACiC,eAAD,EAAkBC,kBAAlB,IAAwClC,QAAQ,CAAC,KAAD,CAAtD;AACA,QAAM,CAACmC,OAAD,EAAUC,UAAV,IAAwBpC,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACqC,GAAD,EAAMC,MAAN,IAAgBtC,QAAQ,CAAC,IAAD,CAA9B;AAEA,QAAM,CAACuC,SAAD,EAAYC,YAAZ,IAA4BxC,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACyC,QAAD,EAAWC,WAAX,IAA0B1C,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAAC2C,MAAD,EAASC,SAAT,IAAsB5C,QAAQ,CAAC,IAAD,CAApC;AAEA,QAAM,CAAC6C,MAAD,EAASC,SAAT,IAAsB9C,QAAQ,CAAC,IAAD,CAApC;AAGA,QAAM,CAAC+C,eAAD,EAAkBC,kBAAlB,IAAwChD,QAAQ,CAAC,EAAD,CAAtD;AACA,QAAM,CAACiD,YAAD,EAAeC,eAAf,IAAkClD,QAAQ,CAAC,EAAD,CAAhD,CAjBa,CAmBb;;AAGA,QAAMmD,WAAW,GAAG,MAAM;AACtBX,IAAAA,YAAY,CAAC,EAAD,CAAZ;AACAE,IAAAA,WAAW,CAAC,EAAD,CAAX;AACAE,IAAAA,SAAS,CAAC,IAAD,CAAT;AACAE,IAAAA,SAAS,CAAC,IAAD,CAAT;AACH,GALD;;AAQA,QAAMM,WAAW,GAAG,MAAM;AACtB,QAAIvB,IAAI,GAAG;AACPwB,MAAAA,IAAI,EAAEd,SADC;AAEPe,MAAAA,KAAK,EAAEb,QAFA;AAGPE,MAAAA;AAHO,KAAX;AAKA1B,IAAAA,KAAK,CAACsC,IAAN,CAAW,eAAX,EAA4B1B,IAA5B,EACK2B,IADL,CACUC,GAAG,IAAI;AACT3B,MAAAA,QAAQ,CAAC;AACL4B,QAAAA,IAAI,EAAC,eADA;AAELC,QAAAA,OAAO,EAACF,GAAG,CAAC5B,IAAJ,CAAS+B;AAFZ,OAAD,CAAR;AAIAT,MAAAA,WAAW;AACd,KAPL,EAQKU,KARL,CAQWC,GAAG,IAAI;AACVA,MAAAA,GAAG,IAAIA,GAAG,CAACC,QAAX,IAAuBC,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACC,QAAJ,CAAalC,IAAzB,CAAvB;AACH,KAVL;AAWH,GAjBD,CA9Ba,CAiDb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,QAAMqC,WAAW,GAAIC,EAAD,IAAQ;AACxBlD,IAAAA,KAAK,CAACmD,MAAN,CAAc,iBAAgBD,EAAG,EAAjC,EACKX,IADL,CACUC,GAAG,IAAI;AACT,UAAIA,GAAG,CAAC5B,IAAJ,CAASwC,OAAb,EAAsB;AAClBvC,QAAAA,QAAQ,CAAC;AACL4B,UAAAA,IAAI,EAAC,cADA;AAELC,UAAAA,OAAO,EAACQ;AAFH,SAAD,CAAR;AAIH;AACJ,KARL,EASKN,KATL,CASWC,GAAG,IAAI;AACVA,MAAAA,GAAG,IAAIA,GAAG,CAACC,QAAX,IAAuBC,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACC,QAAJ,CAAalC,IAAzB,CAAvB;AACH,KAXL;AAYH,GAbD;;AAeA,QAAMyC,YAAY,GAAIV,KAAD,IAAW;AAE5Bd,IAAAA,SAAS,CAACc,KAAK,CAACW,GAAP,CAAT;AACA/B,IAAAA,YAAY,CAACoB,KAAK,CAACP,IAAP,CAAZ;AACAX,IAAAA,WAAW,CAACkB,KAAK,CAACN,KAAP,CAAX;AACAV,IAAAA,SAAS,CAACgB,KAAK,CAACjB,MAAP,CAAT;AACH,GAND;;AAQA,QAAM6B,WAAW,GAAG,MAAM;AACtB,QAAI3C,IAAI,GAAG;AACPwB,MAAAA,IAAI,EAAEd,SADC;AAEPe,MAAAA,KAAK,EAAEb,QAFA;AAGPE,MAAAA;AAHO,KAAX;AAKA1B,IAAAA,KAAK,CAACwD,KAAN,CAAa,iBAAgB5B,MAAO,EAApC,EAAuChB,IAAvC,EACK2B,IADL,CACUC,GAAG,IAAI;AACT,UAAIA,GAAG,CAAC5B,IAAJ,CAASwC,OAAb,EAAsB;AAClBvC,QAAAA,QAAQ,CAAC;AACL4B,UAAAA,IAAI,EAAC,cADA;AAELC,UAAAA,OAAO,EAACF,GAAG,CAAC5B,IAAJ,CAAS+B;AAFZ,SAAD,CAAR;AAIAT,QAAAA,WAAW;AACd;AACJ,KATL,EAUKU,KAVL,CAUWC,GAAG,IAAI;AACVA,MAAAA,GAAG,IAAIA,GAAG,CAACC,QAAX,IAAuBC,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACC,QAAJ,CAAalC,IAAzB,CAAvB;AACH,KAZL;AAaH,GAnBD,CApFa,CAwGb;;;AAGA,MAAI6C,IAAI,GAAG,MAAOC,OAAP,IAAmB;AAC1B,QAAIC,KAAK,GAAG,CAAC,GAAGlD,MAAJ,CAAZ;AACAiD,IAAAA,OAAO,CAACE,GAAR,CAAYC,CAAC,IAAI;AACb,UAAIC,KAAK,GAAGH,KAAK,CAACI,SAAN,CAAgBC,GAAG,IAAIA,GAAG,CAACV,GAAJ,KAAYO,CAAC,CAACP,GAArC,CAAZ;AACAK,MAAAA,KAAK,CAACG,KAAD,CAAL,GAAeD,CAAf;AACH,KAHD;AAIA,WAAOF,KAAP;AACH,GAPD;;AAUA,QAAMM,QAAQ,GAAIC,KAAD,IAAW;AACxBnD,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACA,QAAIH,IAAI,GAAG;AACPuD,MAAAA,GAAG,EAAErC,eADE;AAEPJ,MAAAA,MAAM,EAAEwC;AAFD,KAAX;AAIAlE,IAAAA,KAAK,CAACwD,KAAN,CAAY,iBAAZ,EAA+B5C,IAA/B,EACK2B,IADL,CACU,MAAOC,GAAP,IAAe;AAEjB,UAAIkB,OAAO,GAAGlB,GAAG,CAAC5B,IAAJ,CAASH,MAAvB;AACA,UAAI2D,SAAS,GAAG,MAAMX,IAAI,CAACC,OAAD,CAA1B;AACA7C,MAAAA,QAAQ,CAAC;AACL4B,QAAAA,IAAI,EAAC,YADA;AAELC,QAAAA,OAAO,EAAC0B;AAFH,OAAD,CAAR;AAIArC,MAAAA,kBAAkB,CAAC,EAAD,CAAlB;AACAE,MAAAA,eAAe,CAAC,EAAD,CAAf;AACAlB,MAAAA,YAAY,CAAC,KAAD,CAAZ;AAEH,KAbL,EAaO6B,KAbP,CAaaC,GAAG,IAAI;AACZ9B,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACAgC,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACH,KAhBL;AAiBH,GAvBD;;AAyBA,MAAIwB,MAAM,GAAG,MAAOF,GAAP,IAAe;AACxB,QAAIR,KAAK,GAAG,CAAC,GAAGlD,MAAJ,CAAZ;AACA0D,IAAAA,GAAG,CAACP,GAAJ,CAAQV,EAAE,IAAI;AACVS,MAAAA,KAAK,GAAGA,KAAK,CAACW,MAAN,CAAaN,GAAG,IAAIA,GAAG,CAACV,GAAJ,KAAYJ,EAAhC,CAAR;AACH,KAFD;AAGA,WAAOS,KAAP;AACH,GAND;;AAQA,QAAMY,UAAU,GAAG,MAAM;AACrBxD,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACA,QAAIH,IAAI,GAAG;AACPuD,MAAAA,GAAG,EAAErC;AADE,KAAX;AAIA9B,IAAAA,KAAK,CAACwD,KAAN,CAAY,mBAAZ,EAAiC5C,IAAjC,EACK2B,IADL,CACU,MAAOC,GAAP,IAAe;AAEjB,UAAIgC,QAAQ,GAAG,MAAMH,MAAM,CAACvC,eAAD,CAA3B;AACAjB,MAAAA,QAAQ,CAAC;AACL4B,QAAAA,IAAI,EAAC,YADA;AAELC,QAAAA,OAAO,EAAC8B;AAFH,OAAD,CAAR;AAIAzC,MAAAA,kBAAkB,CAAC,EAAD,CAAlB;AACAE,MAAAA,eAAe,CAAC,EAAD,CAAf;AACAlB,MAAAA,YAAY,CAAC,KAAD,CAAZ;AAEH,KAZL,EAYO6B,KAZP,CAYaC,GAAG,IAAI;AACZ9B,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACAgC,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACH,KAfL;AAgBH,GAtBD;;AA0BA,QAAM4B,iBAAiB,GAAIC,IAAD,IAAU;AAChCjD,IAAAA,WAAW,CAACiD,IAAI,CAACC,YAAN,CAAX;AACAxD,IAAAA,UAAU,CAAC,KAAD,CAAV;AACH,GAHD;;AAQA,QAAMyD,OAAO,GAAG,CAEZ;AACIC,IAAAA,KAAK,EAAE,MADX;AAEIC,IAAAA,SAAS,EAAE,MAFf;AAGIvE,IAAAA,GAAG,EAAE;AAHT,GAFY,EAQZ;AACIsE,IAAAA,KAAK,EAAE,QADX;AAEItE,IAAAA,GAAG,EAAE,QAFT;AAGIuE,IAAAA,SAAS,EAAE,QAHf;AAIIC,IAAAA,MAAM,EAAErD,MAAM,iBACV,0CAEQA,MAAM,IAAI,IAAV,gBAAiB,oBAAC,GAAD;AAAK,MAAA,KAAK,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAjB,gBAAmD,oBAAC,GAAD;AAAK,MAAA,KAAK,EAAC,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAF3D;AALR,GARY,EAoBZ;AACImD,IAAAA,KAAK,EAAE,OADX;AAEItE,IAAAA,GAAG,EAAE,OAFT;AAGIuE,IAAAA,SAAS,EAAE,OAHf;AAIIC,IAAAA,MAAM,EAAE1C,KAAK,iBAAI,oBAAC,KAAD;AACb,MAAA,KAAK,EAAE,GADM;AAGb,MAAA,GAAG,EAAEA,KAHQ;AAIb,MAAA,QAAQ,EAAC,gqGAJI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJrB,GApBY,EA+BZ;AACIwC,IAAAA,KAAK,EAAE,QADX;AAEItE,IAAAA,GAAG,EAAE,QAFT;AAGIwE,IAAAA,MAAM,EAAE,CAACC,IAAD,EAAOC,MAAP,kBACJ,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,MAAM5B,YAAY,CAAC4B,MAAD,CAAnC;AAA6C,MAAA,SAAS,EAAC,UAAvD;AAAkE,MAAA,IAAI,EAAC,SAAvE;AAAiF,MAAA,IAAI,eAAE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAvF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI,oBAAC,UAAD;AAAY,MAAA,SAAS,EAAE,MAAMhC,WAAW,CAACgC,MAAM,CAAC3B,GAAR,CAAxC;AAAsD,MAAA,KAAK,EAAC,oBAA5D;AAA4E,MAAA,IAAI,eAAE,oBAAC,sBAAD;AAAwB,QAAA,KAAK,EAAE;AAAE4B,UAAAA,KAAK,EAAE;AAAT,SAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,UAAlB;AAA6B,MAAA,IAAI,eAAE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAnC;AAAuD,MAAA,MAAM,MAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAFJ;AAJR,GA/BY,CAAhB;AAiDA,QAAMC,YAAY,GAAG;AACjBrD,IAAAA,eADiB;AAEjBsD,IAAAA,QAAQ,EAAE,CAACtD,eAAD,EAAkBE,YAAlB,KAAmC;AAEzCD,MAAAA,kBAAkB,CAACD,eAAD,CAAlB;AACAG,MAAAA,eAAe,CAACD,YAAD,CAAf;AACH;AANgB,GAArB;;AAYA,QAAMqD,aAAa,GAAG,MAAM;AACxBpE,IAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACA,QAAIqE,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBpE,GAAxB;AACApB,IAAAA,KAAK,CAACsC,IAAN,CAAW,mBAAX,EAAgCgD,QAAhC,EACK/C,IADL,CACUC,GAAG,IAAI;AACTiD,MAAAA,KAAK,CAAE,GAAEjD,GAAG,CAAC5B,IAAJ,CAASH,MAAT,CAAgBiF,MAAO,eAA3B,CAAL;AACArE,MAAAA,MAAM,CAAC,IAAD,CAAN;AACAR,MAAAA,QAAQ,CAAC;AACL4B,QAAAA,IAAI,EAAC,YADA;AAELC,QAAAA,OAAO,EAAC,CAAC,GAAGjC,MAAJ,EAAW,GAAG+B,GAAG,CAAC5B,IAAJ,CAASH,MAAvB;AAFH,OAAD,CAAR;AAIAQ,MAAAA,kBAAkB,CAAC,KAAD,CAAlB;AACH,KATL,EAUK2B,KAVL,CAUWC,GAAG,IAAI;AACV5B,MAAAA,kBAAkB,CAAC,KAAD,CAAlB;AACA4B,MAAAA,GAAG,IAAIA,GAAG,CAACC,QAAX,IAAuB2C,KAAK,CAAC5C,GAAG,CAACC,QAAJ,CAAalC,IAAb,CAAkB+E,KAAnB,CAA5B;AACH,KAbL;AAcH,GAlBD;;AAqBA,sBACI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI,oBAAC,YAAD;AAAc,IAAA,OAAO,EAAEzE,OAAvB;AAAgC,IAAA,MAAM,EAAE,MAAMC,UAAU,CAAC,KAAD,CAAxD;AAAiE,IAAA,cAAc,EAAGuD,IAAD,IAAUD,iBAAiB,CAACC,IAAD,CAA5G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAGI,oBAAC,GAAD;AAAK,IAAA,MAAM,EAAE,EAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,GAAD;AAAK,IAAA,SAAS,EAAC,YAAf;AAA4B,IAAA,EAAE,EAAE,EAAhC;AAAoC,IAAA,EAAE,EAAE,EAAxC;AAA4C,IAAA,EAAE,EAAE,EAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAEkB,MAAAA,SAAS,EAAE;AAAb,KAAb;AAAoC,IAAA,KAAK,EAAC,QAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAE;AAAEC,MAAAA,WAAW,EAAE;AAAf,KAAf;AAAwC,IAAA,OAAO,EAAE,MAAM5B,QAAQ,CAAC,IAAD,CAA/D;AAAuE,IAAA,QAAQ,EAAEjC,YAAY,CAAC0D,MAAb,KAAwB,CAAzG;AAA4G,IAAA,IAAI,EAAC,SAAjH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFJ,eAGI,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAE;AAAEG,MAAAA,WAAW,EAAE;AAAf,KAAf;AAAwC,IAAA,OAAO,EAAE,MAAM5B,QAAQ,CAAC,KAAD,CAA/D;AAAwE,IAAA,QAAQ,EAAEjC,YAAY,CAAC0D,MAAb,KAAwB,CAA1G;AAA6G,IAAA,IAAI,EAAC,SAAlH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAHJ,eAII,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAE,MAAMnB,UAAU,EAAjC;AAAqC,IAAA,QAAQ,EAAEvC,YAAY,CAAC0D,MAAb,KAAwB,CAAvE;AAA0E,IAAA,IAAI,EAAC,QAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAJJ,EAKK1D,YAAY,CAAC0D,MAAb,GAAsB,CAAtB,iBAA2B;AAAQ,IAAA,KAAK,EAAE;AAAEI,MAAAA,UAAU,EAAE;AAAd,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwC9D,YAAY,CAAC0D,MAArD,oBALhC,eAMI,oBAAC,KAAD;AACI,IAAA,MAAM,EAAC,KADX;AAEI,IAAA,YAAY,EAAEP,YAFlB;AAGI,IAAA,OAAO,EAAErE,SAAS,IAAIJ,cAH1B;AAII,IAAA,OAAO,EAAEkE,OAJb;AAKI,IAAA,UAAU,EAAEnE,MALhB;AAMI,IAAA,UAAU,EAAE;AAAEsF,MAAAA,eAAe,EAAE,EAAnB;AAAuBC,MAAAA,eAAe,EAAE,IAAxC;AAA8CC,MAAAA,eAAe,EAAE,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,CAA/D;AAAmFC,MAAAA,eAAe,EAAE;AAApG,KANhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANJ,CADJ,CADJ,eAkBI,oBAAC,GAAD;AAAK,IAAA,SAAS,EAAC,YAAf;AAA4B,IAAA,EAAE,EAAE,EAAhC;AAAoC,IAAA,EAAE,EAAE,EAAxC;AAA4C,IAAA,EAAE,EAAE,EAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAEN,MAAAA,SAAS,EAAE;AAAb,KAAb;AAAoC,IAAA,KAAK,EAAEhE,MAAM,GAAG,cAAH,GAAoB,cAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAAkB;AAAM,IAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAlB,CADJ,eAEI,oBAAC,KAAD;AACI,IAAA,KAAK,EAAEN,SADX;AAEI,IAAA,QAAQ,EAAG6E,CAAD,IAAO5E,YAAY,CAAC4E,CAAC,CAACC,MAAF,CAASlC,KAAV,CAFjC;AAGI,IAAA,IAAI,EAAC,MAHT;AAII,IAAA,WAAW,EAAC,kBAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ,eAYI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAAmB;AAAM,IAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAnB,CADJ,eAEI;AAAK,IAAA,KAAK,EAAE;AAAEmC,MAAAA,KAAK,EAAE;AAAT,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAC,UAAlB;AAA6B,IAAA,OAAO,EAAE,MAAMlF,UAAU,CAAC,IAAD,CAAtD;AAA8D,IAAA,IAAI,EAAC,SAAnE;AAA6E,IAAA,KAAK,EAAC,OAAnF;AAA2F,IAAA,IAAI,eAAE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAjG;AAAqH,IAAA,IAAI,EAAE,MAA3H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,EAKQK,QAAQ,iBAAI,uDACR;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAM,IAAA,OAAO,EAAE,MAAMC,WAAW,CAAC,EAAD,CAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADJ,eAEI;AAAK,IAAA,GAAG,EAAED,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADQ,CALpB,CAFJ,CAZJ,eAgCI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAc;AAAM,IAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAd,CADJ,eAEI,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAEE,MAAjB;AAAyB,IAAA,QAAQ,EAAG4E,OAAD,IAAa3E,SAAS,CAAC2E,OAAD,CAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CAhCJ,EAsCQ1E,MAAM,gBAAG,uDACL,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAE,MAAM2B,WAAW,EAAlC;AAAsC,IAAA,SAAS,EAAC,YAAhD;AAA6D,IAAA,IAAI,EAAC,SAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADK,eAEL,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAE,MAAMrB,WAAW,EAAlC;AAAsC,IAAA,SAAS,EAAC,YAAhD;AAA6D,IAAA,IAAI,EAAC,SAAlE;AAA4E,IAAA,MAAM,MAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFK,CAAH,gBAIF,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAE,MAAMC,WAAW,EAAlC;AAAsC,IAAA,SAAS,EAAC,YAAhD;AAA6D,IAAA,IAAI,EAAC,SAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cA1CZ,CADJ,CAFJ,eAsDI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAEyD,MAAAA,SAAS,EAAE;AAAb,KAAb;AAAoC,IAAA,KAAK,EAAC,aAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kDADJ,CADJ,eAII;AAAK,IAAA,KAAK,EAAE;AAAEA,MAAAA,SAAS,EAAE;AAAb,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,OAAD;AACI,IAAA,IAAI,EAAEnF,MADV;AAEI,IAAA,OAAO,EAAEJ,OAFb;AAGI,IAAA,YAAY,EAAE,IAHlB;AAII,IAAA,OAAO,EAAE,CAACkG,KAAD,EAAQC,IAAR,KAAiB;AACtB/F,MAAAA,MAAM,CAACiF,MAAP,GAAgB,CAAhB,GAAoBc,IAAI,EAAxB,GACMA,IAAI,CAAC,KAAD,CADV;AAEH,KAPL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBASI,oBAAC,MAAD;AAAQ,IAAA,QAAQ,EAAE/F,MAAM,CAACiF,MAAP,KAAkB,CAApC;AAAuC,IAAA,IAAI,EAAC,SAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BATJ,CADJ,CAJJ,CAtDJ,eA4EI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAC,aAAZ;AAA0B,IAAA,KAAK,EAAE;AAAEE,MAAAA,SAAS,EAAE;AAAb,KAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mEAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uFAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yGAJJ,CADJ,eAOI;AAAK,IAAA,KAAK,EAAE;AAAEA,MAAAA,SAAS,EAAE;AAAb,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,OAAD;AACI,IAAA,IAAI,EAAE,EADV;AAEI,IAAA,OAAO,EAAEvF,OAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAII,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAJJ,CADJ,CAPJ,eAeI;AAAO,IAAA,KAAK,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,QAAQ,EAAG8F,CAAD,IAAO9E,MAAM,CAAC8E,CAAC,CAACC,MAAF,CAASK,KAAT,CAAe,CAAf,CAAD,CAA9B;AAAmD,IAAA,IAAI,EAAC,MAAxD;AAA+D,IAAA,EAAE,EAAC,MAAlE;AAAyE,kBAAW,iBAApF;AAAsG,IAAA,MAAM,EAAC,MAA7G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAM,IAAA,KAAK,EAAC,aAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA2BrF,GAAG,IAAIA,GAAG,CAACgB,IAAtC,CAFJ,CAfJ,eAmBI,oBAAC,MAAD;AAAQ,IAAA,QAAQ,EAAE,CAAChB,GAAnB;AAAwB,IAAA,OAAO,EAAEJ,eAAjC;AAAkD,IAAA,OAAO,EAAE,MAAMqE,aAAa,EAA9E;AAAkF,IAAA,SAAS,EAAC,UAA5F;AAAuG,IAAA,IAAI,EAAC,SAA5G;AAAsH,IAAA,IAAI,eAAE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA5H;AAAgJ,IAAA,IAAI,EAAE,MAAtJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAnBJ,CA5EJ,CAlBJ,CAHJ,CADJ;AA4HH;;AAED,eAAe7E,KAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Row, Col, Card, Input, Button, Table, Tag, Space, Image, Switch, Popconfirm } from 'antd';\nimport { UploadOutlined, EditOutlined, DeleteOutlined, QuestionCircleOutlined } from '@ant-design/icons'\nimport \"./brand.scss\"\nimport axios from 'axios'\nimport MediaLibrary from '../../components/MediaLibrary';\nimport { CSVLink } from \"react-csv\";\nimport {useSelector,useDispatch} from 'react-redux'\n\n\nconst headers = [\n    { label: \"name *\", key: \"name\" },\n    { label: \"image\", key: \"image\" },\n\n];\n\n\n\nfunction Brand() {\n    const {brands,isBrandLoading} = useSelector(state => state.data)\n    const dispatch = useDispatch()\n\n    const [isLoading, setIsLoading] = useState(false)\n    const [isLoadingUpload, setIsLoadingUpload] = useState(false)\n    const [display, setDisplay] = useState(false)\n    const [csv, setCsv] = useState(null)\n\n    const [brandName, setBrandName] = useState('')\n    const [brandImg, setBrandImg] = useState('')\n    const [status, setStatus] = useState(true)\n\n    const [editId, setEditId] = useState(null)\n\n\n    const [selectedRowKeys, setSelectedRowKeys] = useState([])\n    const [selectedRows, setSelectedRows] = useState([])\n\n    //console.log(brands);\n\n\n    const clearFields = () => {\n        setBrandName('')\n        setBrandImg('')\n        setStatus(true)\n        setEditId(null)\n    }\n\n\n    const createBrand = () => {\n        let data = {\n            name: brandName,\n            image: brandImg,\n            status\n        }\n        axios.post('/brand/create', data)\n            .then(res => {\n                dispatch({\n                    type:\"ADD_NEW_BRAND\",\n                    payload:res.data.brand\n                })\n                clearFields()\n            })\n            .catch(err => {\n                err && err.response && console.log(err.response.data)\n            })\n    }\n\n    // const getBrands = () => {\n    //     setIsLoading(true)\n    //     axios.get('/brand/get')\n    //         .then(res => {\n    //             setIsLoading(false)\n    //             setBrands(res.data.brands)\n    //         })\n    //         .catch(err => {\n    //             setIsLoading(false)\n    //             err && err.response && console.log(err.response.data)\n    //         })\n    // }\n    const deleteBrand = (id) => {\n        axios.delete(`/brand/delete/${id}`)\n            .then(res => {\n                if (res.data.success) {\n                    dispatch({\n                        type:\"DELETE_BRAND\",\n                        payload:id\n                    })\n                }\n            })\n            .catch(err => {\n                err && err.response && console.log(err.response.data)\n            })\n    }\n\n    const setEditBrand = (brand) => {\n\n        setEditId(brand._id)\n        setBrandName(brand.name)\n        setBrandImg(brand.image)\n        setStatus(brand.status)\n    }\n\n    const updateBrand = () => {\n        let data = {\n            name: brandName,\n            image: brandImg,\n            status\n        }\n        axios.patch(`/brand/update/${editId}`, data)\n            .then(res => {\n                if (res.data.success) {\n                    dispatch({\n                        type:\"UPDATE_BRAND\",\n                        payload:res.data.brand\n                    })\n                    clearFields()\n                }\n            })\n            .catch(err => {\n                err && err.response && console.log(err.response.data)\n            })\n    }\n    //console.log(brands);\n\n\n    let join = async (updated) => {\n        let array = [...brands]\n        updated.map(u => {\n            let index = array.findIndex(arr => arr._id === u._id)\n            array[index] = u\n        })\n        return array\n    }\n\n\n    const bulkEdit = (value) => {\n        setIsLoading(true)\n        let data = {\n            ids: selectedRowKeys,\n            status: value\n        }\n        axios.patch(\"/brand/bulkedit\", data)\n            .then(async (res) => {\n\n                let updated = res.data.brands\n                let newBrands = await join(updated)\n                dispatch({\n                    type:\"SET_BRANDS\",\n                    payload:newBrands\n                })\n                setSelectedRowKeys([])\n                setSelectedRows([])\n                setIsLoading(false)\n\n            }).catch(err => {\n                setIsLoading(false)\n                console.log(err);\n            })\n    }\n\n    let Filter = async (ids) => {\n        let array = [...brands]\n        ids.map(id => {\n            array = array.filter(arr => arr._id !== id)\n        })\n        return array\n    }\n\n    const bulkDelete = () => {\n        setIsLoading(true)\n        let data = {\n            ids: selectedRowKeys\n        }\n\n        axios.patch(\"/brand/bulkdelete\", data)\n            .then(async (res) => {\n\n                let filtered = await Filter(selectedRowKeys)\n                dispatch({\n                    type:\"SET_BRANDS\",\n                    payload:filtered\n                })\n                setSelectedRowKeys([])\n                setSelectedRows([])\n                setIsLoading(false)\n\n            }).catch(err => {\n                setIsLoading(false)\n                console.log(err);\n            })\n    }\n\n\n\n    const handleImageselect = (item) => {\n        setBrandImg(item.thumbnailUrl);\n        setDisplay(false)\n    }\n\n\n\n\n    const columns = [\n\n        {\n            title: 'Name',\n            dataIndex: 'name',\n            key: 'name',\n        },\n\n        {\n            title: 'Status',\n            key: 'status',\n            dataIndex: 'status',\n            render: status => (\n                <>\n                    {\n                        status == true ? <Tag color=\"green\">Active</Tag> : <Tag color=\"red\">Inactive</Tag>\n                    }\n                </>\n            ),\n        },\n        {\n            title: 'Image',\n            key: 'image',\n            dataIndex: 'image',\n            render: image => <Image\n                width={100}\n\n                src={image}\n                fallback=\"data:image/png;base64,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\"\n            />\n        },\n        {\n            title: 'Action',\n            key: 'action',\n            render: (text, record) => (\n                <Space size=\"middle\">\n                    <Button onClick={() => setEditBrand(record)} className='d-center' type='primary' icon={<EditOutlined />}></Button>\n                    <Popconfirm onConfirm={() => deleteBrand(record._id)} title=\"Are you sure？\" icon={<QuestionCircleOutlined style={{ color: 'red' }} />}>\n                        <Button className='d-center' icon={<DeleteOutlined />} danger></Button>\n                    </Popconfirm>\n\n                </Space>\n            ),\n        },\n    ];\n\n\n\n\n    const rowSelection = {\n        selectedRowKeys,\n        onChange: (selectedRowKeys, selectedRows) => {\n\n            setSelectedRowKeys(selectedRowKeys);\n            setSelectedRows(selectedRows)\n        },\n    };\n\n\n\n\n    const handleSaveCsv = () => {\n        setIsLoadingUpload(true)\n        let formData = new FormData()\n        formData.append('file', csv)\n        axios.post('/brand/bulkupload', formData)\n            .then(res => {\n                alert(`${res.data.brands.length} brands added`)\n                setCsv(null)\n                dispatch({\n                    type:\"SET_BRANDS\",\n                    payload:[...brands,...res.data.brands]\n                })\n                setIsLoadingUpload(false)\n            })\n            .catch(err => {\n                setIsLoadingUpload(false)\n                err && err.response && alert(err.response.data.error)\n            })\n    }\n\n\n    return (\n        <div className='brand'>\n\n            <MediaLibrary display={display} onHide={() => setDisplay(false)} selectCallback={(item) => handleImageselect(item)} />\n            <Row gutter={16}>\n                <Col className=\"gutter-row\" lg={14} md={24} sm={24}>\n                    <Card style={{ marginTop: \"15px\" }} title=\"Brands\" >\n\n                        <Button style={{ marginRight: \"10px\" }} onClick={() => bulkEdit(true)} disabled={selectedRows.length === 0} type='primary'>Make Active</Button>\n                        <Button style={{ marginRight: \"10px\" }} onClick={() => bulkEdit(false)} disabled={selectedRows.length === 0} type='primary'>Make Inactive</Button>\n                        <Button onClick={() => bulkDelete()} disabled={selectedRows.length === 0} type='danger'>Deletes</Button>\n                        {selectedRows.length > 0 && <strong style={{ marginLeft: \"10px\" }}>{selectedRows.length} Brands seleted</strong>}\n                        <Table\n                            rowKey=\"_id\"\n                            rowSelection={rowSelection}\n                            loading={isLoading || isBrandLoading}\n                            columns={columns}\n                            dataSource={brands}\n                            pagination={{ defaultPageSize: 10, showSizeChanger: true, pageSizeOptions: ['10', '20', '30'], showQuickJumper: true }}\n                        />\n                    </Card>\n                </Col>\n                <Col className=\"gutter-row\" lg={10} md={24} sm={24}>\n\n                    <Card style={{ marginTop: \"15px\" }} title={editId ? \"Update Brand\" : \"Create Brand\"} >\n                        <div className='brand_wrapper'>\n                            <div className='input_item'>\n                                <label>Brand name <span className='required'>*</span></label>\n                                <Input\n                                    value={brandName}\n                                    onChange={(e) => setBrandName(e.target.value)}\n                                    type=\"text\"\n                                    placeholder='Enter brand name'>\n                                </Input>\n\n                            </div>\n\n                            <div className='input_item'>\n                                <label>Brand image <span className='required'>*</span></label>\n                                <div style={{ width: \"100%\" }}>\n                                    <Button className='d-center' onClick={() => setDisplay(true)} type=\"primary\" shape=\"round\" icon={<UploadOutlined />} size={\"size\"} >Upload image </Button>\n\n\n                                    {\n                                        brandImg && <>\n                                            <div className='image_container'>\n                                                <span onClick={() => setBrandImg('')}>X</span>\n                                                <img src={brandImg}></img>\n                                            </div>\n                                        </>\n                                    }\n\n\n                                </div>\n\n                            </div>\n\n                            <div className='input_item'>\n                                <label>Active <span className='required'>*</span></label>\n                                <Switch checked={status} onChange={(checked) => setStatus(checked)} />\n\n                            </div>\n                            {\n                                editId ? <>\n                                    <Button onClick={() => updateBrand()} className='submit_btn' type=\"primary\">Update</Button>\n                                    <Button onClick={() => clearFields()} className='submit_btn' type=\"primary\" danger>Cancel</Button>\n                                </> :\n                                    <Button onClick={() => createBrand()} className='submit_btn' type=\"primary\">Create</Button>\n                            }\n\n                        </div>\n                    </Card>\n\n\n\n\n                    <Card style={{ marginTop: \"15px\" }} title='Bulk export' >\n                        <div className=\"bulk_info\">\n                            <li>1. Click the button to download all brands</li>\n                        </div>\n                        <div style={{ marginTop: \"15px\" }}>\n                            <CSVLink\n                                data={brands}\n                                headers={headers}\n                                asyncOnClick={true}\n                                onClick={(event, done) => {\n                                    brands.length > 0 ? done()\n                                        : done(false)\n                                }}\n                            >\n                                <Button disabled={brands.length === 0} type=\"primary\">Download brands CSV</Button>\n                            </CSVLink>\n                        </div>\n                    </Card>\n\n\n\n\n                    <Card title=\"Upload file\" style={{ marginTop: \"20px\" }}>\n                        <div className=\"bulk_info\">\n                            <strong>Step 1:</strong>\n                            <li>1. Download the skeleton file and fill it with proper data.</li>\n                            <li>2. You can download the example file to understand how the data must be filled.</li>\n                            <li>3. Once you have downloaded and filled the skeleton file, upload it in the form below and submit.</li>\n                        </div>\n                        <div style={{ marginTop: \"15px\" }}>\n                            <CSVLink\n                                data={[]}\n                                headers={headers}\n                            >\n                                <Button type=\"primary\">Download skeleton CSV</Button>\n                            </CSVLink>\n                        </div>\n                        <label class=\"file\" >\n                            <input onChange={(e) => setCsv(e.target.files[0])} type=\"file\" id=\"file\" aria-label=\"Browse csv file\" accept='.csv' />\n                            <span class=\"file-custom\">{csv && csv.name}</span>\n                        </label>\n                        <Button disabled={!csv} loading={isLoadingUpload} onClick={() => handleSaveCsv()} className='d-center' type=\"primary\" icon={<UploadOutlined />} size={\"size\"} >Upload File </Button>\n                    </Card>\n\n                </Col>\n            </Row>\n        </div>\n    )\n}\n\nexport default Brand\n"]},"metadata":{},"sourceType":"module"}