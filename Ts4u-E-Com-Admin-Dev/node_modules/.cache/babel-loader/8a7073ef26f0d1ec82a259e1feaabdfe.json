{"ast":null,"code":"import _defineProperty from\"/home/e2e/e2e-microservice/20231007-e2e-microservice/Ts4u-E-Com-Admin-Dev/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/e2e/e2e-microservice/20231007-e2e-microservice/Ts4u-E-Com-Admin-Dev/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/home/e2e/e2e-microservice/20231007-e2e-microservice/Ts4u-E-Com-Admin-Dev/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/e2e/e2e-microservice/20231007-e2e-microservice/Ts4u-E-Com-Admin-Dev/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Card,Form,Input,TreeSelect,Select,Switch,Button,Alert}from'antd';import{UploadOutlined}from'@ant-design/icons';import\"./product.scss\";import'react-quill/dist/quill.snow.css';import ReactQuill from'react-quill';import axios from'axios';import{useSelector}from'react-redux';import MediaLibrary from'../../components/MediaLibrary';var TreeNode=TreeSelect.TreeNode;var Option=Select.Option;function CreateProduct(){var _useSelector=useSelector(function(state){return state.data;}),categories=_useSelector.categories,brands=_useSelector.brands;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),display=_useState2[0],setDisplay=_useState2[1];var _useState3=useState(\"thumbnail\"),_useState4=_slicedToArray(_useState3,2),imageFor=_useState4[0],setImageFor=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),errors=_useState6[0],setErrors=_useState6[1];//-----product information---------\nvar _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),name=_useState8[0],setName=_useState8[1];//const [brands, setBrands] = useState([])\nvar _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),brand=_useState10[0],setBrand=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),unit=_useState12[0],setUnit=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),tags=_useState14[0],setTags=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),tagInput=_useState16[0],setTagInput=_useState16[1];var _useState17=useState('simple'),_useState18=_slicedToArray(_useState17,2),productType=_useState18[0],setProductType=_useState18[1];//categories\n//const [categories, setCategories] = useState([])\nvar _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),subCategories=_useState20[0],setSubCategories=_useState20[1];var _useState21=useState(''),_useState22=_slicedToArray(_useState21,2),category=_useState22[0],setCategory=_useState22[1];var _useState23=useState(''),_useState24=_slicedToArray(_useState23,2),subCategory=_useState24[0],setSubCategory=_useState24[1];var _useState25=useState(''),_useState26=_slicedToArray(_useState25,2),subSubCategory=_useState26[0],setSubSubCategory=_useState26[1];//images\nvar _useState27=useState(''),_useState28=_slicedToArray(_useState27,2),thumbnail=_useState28[0],setThumbnail=_useState28[1];var _useState29=useState([]),_useState30=_slicedToArray(_useState29,2),gallery=_useState30[0],setGallery=_useState30[1];//attributes\nvar _useState31=useState([]),_useState32=_slicedToArray(_useState31,2),attributes=_useState32[0],setAttributes=_useState32[1];var _useState33=useState([]),_useState34=_slicedToArray(_useState33,2),selectedAttr=_useState34[0],setSelectedAttr=_useState34[1];var _useState35=useState([]),_useState36=_slicedToArray(_useState35,2),selectedAttrVal=_useState36[0],setSelectedAttrVal=_useState36[1];//price\nvar _useState37=useState(),_useState38=_slicedToArray(_useState37,2),price=_useState38[0],setPrice=_useState38[1];var _useState39=useState(0),_useState40=_slicedToArray(_useState39,2),discount=_useState40[0],setDiscount=_useState40[1];var _useState41=useState('flat'),_useState42=_slicedToArray(_useState41,2),discountType=_useState42[0],setDiscountType=_useState42[1];var _useState43=useState(0),_useState44=_slicedToArray(_useState43,2),tax=_useState44[0],setTax=_useState44[1];var _useState45=useState('flat'),_useState46=_slicedToArray(_useState45,2),taxType=_useState46[0],setTaxType=_useState46[1];//stock\nvar _useState47=useState('50'),_useState48=_slicedToArray(_useState47,2),stock=_useState48[0],setStock=_useState48[1];var _useState49=useState(''),_useState50=_slicedToArray(_useState49,2),sku=_useState50[0],setSku=_useState50[1];//variations\nvar _useState51=useState([]),_useState52=_slicedToArray(_useState51,2),variations=_useState52[0],setVariations=_useState52[1];//description\nvar _useState53=useState(''),_useState54=_slicedToArray(_useState53,2),description=_useState54[0],setDescription=_useState54[1];//shipping\nvar _useState55=useState(true),_useState56=_slicedToArray(_useState55,2),freeShipping=_useState56[0],setFreeShipping=_useState56[1];var _useState57=useState(0),_useState58=_slicedToArray(_useState57,2),cost=_useState58[0],setCost=_useState58[1];//meta\nvar _useState59=useState(''),_useState60=_slicedToArray(_useState59,2),metaTitle=_useState60[0],setMetaTitle=_useState60[1];var _useState61=useState(''),_useState62=_slicedToArray(_useState61,2),metaDescription=_useState62[0],setMetaDescription=_useState62[1];var _useState63=useState(''),_useState64=_slicedToArray(_useState63,2),metaImage=_useState64[0],setMetaImage=_useState64[1];//fetch data\nvar fetchAttributes=function fetchAttributes(){axios.get('attribute/get').then(function(res){setAttributes(res.data.attributes);}).catch(function(err){console.log(err);});};useEffect(function(){fetchAttributes();},[]);//product type\nvar handleChangeProductType=function handleChangeProductType(value){if(value==='simple'){setSelectedAttr([]);setSelectedAttrVal([]);setVariations([]);}setProductType(value);};//category actions\nuseEffect(function(){if(category){var _filterd$;var filterd=categories.filter(function(cat){return cat._id===category;});setSubCategories((_filterd$=filterd[0])===null||_filterd$===void 0?void 0:_filterd$.children);setSubCategory('');setSubSubCategory('');}else{setSubCategories([]);setSubCategory('');setSubSubCategory('');}},[category]);var handleSetSub=function handleSetSub(value){//console.log(value);\nvar values=value.split(\"@@@\");if(values.length===1){//console.log(values[0]);\nsetSubCategory(values[0]);}else if(values.length===2){setSubCategory(values[0]);setSubSubCategory(values[1]);}};//tags action\nvar handleKeyPressTag=function handleKeyPressTag(e){if(e.charCode===13||e.charCode===44){setTags(function(prev){return[].concat(_toConsumableArray(prev),[tagInput.replace(',',\"\")]);});//console.log(tagInput);\nsetTagInput('');}};var handleRemoveTag=function handleRemoveTag(tname){var filtered=tags.filter(function(t){return t!==tname;});setTags(filtered);};//----------------attributes--------------------\nvar handleChangeAttr=function handleChangeAttr(value){var filtered=attributes.filter(function(a){return a._id===value;})[0];setSelectedAttr(function(prev){return[].concat(_toConsumableArray(prev),[filtered]);});};var handleRemoveAttr=function handleRemoveAttr(value){var filtered=selectedAttr.filter(function(a){return a._id!==value;});var selected=selectedAttr.filter(function(a){return a._id===value;})[0];setSelectedAttr(filtered);//console.log(selected.name);\nvar attrval=_toConsumableArray(selectedAttrVal);var index=attrval.findIndex(function(v){return v.name===selected.name;});attrval.splice(index,1);setSelectedAttrVal(attrval);};//----------------variation-------------------------\nvar handleChangeAttrValue=function handleChangeAttrValue(value){var newArry=_toConsumableArray(selectedAttrVal);var index=newArry.findIndex(function(val){return val.name===value.split(\"@@@\")[1];});if(index===-1){setSelectedAttrVal([].concat(_toConsumableArray(selectedAttrVal),[{name:value.split(\"@@@\")[1],values:[value.split(\"@@@\")[0]]}]));}else{var newVal=[].concat(_toConsumableArray(newArry[index].values),[value.split(\"@@@\")[0]]);newArry[index]={name:value.split(\"@@@\")[1],values:newVal};setSelectedAttrVal(newArry);}};var handleRemoveAttrValue=function handleRemoveAttrValue(value){var newArry=_toConsumableArray(selectedAttrVal);var index=newArry.findIndex(function(val){return val.name===value.split(\"@@@\")[1];});if(index===-1)return;var selected=newArry[index];var newVal=selected.values.filter(function(v){return v!==value.split(\"@@@\")[0];});if(newVal.length===0){newArry.splice(index,1);setSelectedAttrVal(newArry);}else{newArry[index]={name:value.split(\"@@@\")[1],values:newVal};setSelectedAttrVal(newArry);}};useEffect(function(){if(selectedAttrVal.length<1){setVariations([]);return;}var allArraysObj={};selectedAttrVal.map(function(a){allArraysObj=_objectSpread(_objectSpread({},allArraysObj),{},_defineProperty({},a.name,a.values));});var getProducts=function getProducts(arrays){if(arrays.length===0){return[[]];}var results=[];getProducts(arrays.slice(1)).forEach(function(product){arrays[0].forEach(function(value){results.push([value].concat(product));});});return results;};var getAllCombinations=function getAllCombinations(attributes){var attributeNames=Object.keys(attributes);var attributeValues=attributeNames.map(function(name){return attributes[name];});return getProducts(attributeValues).map(function(product,index){var val=[];var obj={stock:0,image:\"\",price:0,discount:0,discountType:\"flat\",isDefault:false};attributeNames.forEach(function(name,i){obj[name]=product[i];val.push(product[i]);});if(index===0){obj['isDefault']=true;}obj[\"varname\"]=val.join(\"--\");return obj;});};//console.log(getAllCombinations(allArraysObj));\nsetVariations(getAllCombinations(allArraysObj));},[selectedAttrVal,selectedAttr]);useEffect(function(){if(!variations)return;var sum=variations.reduce(function(a,b){return parseInt(a)+parseInt(b.stock);},0);setStock(sum);},[variations]);var handleVariantInput=function handleVariantInput(varname,type,value,isDefault){if(isDefault){if(type==='price'){setPrice(value);}else if(type==='discount'){setDiscount(value);}else if(type==='discountType'){setDiscountType(value);}}var filtered=variations.findIndex(function(v){return v.varname===varname;});var arr=_toConsumableArray(variations);arr[filtered]=_objectSpread(_objectSpread({},arr[filtered]),{},_defineProperty({},type,value));setVariations(arr);};var handleVariandDefault=function handleVariandDefault(variant,value){if(value){setPrice(variant.price);setDiscount(variant.discount);setDiscountType(variant.discountType);var arr=[];variations&&variations.map(function(variation,i){if(variation.varname===variant.varname){arr.push(_objectSpread(_objectSpread({},variation),{},{isDefault:true,image:thumbnail}));}else{arr.push(_objectSpread(_objectSpread({},variation),{},{isDefault:false}));}});setVariations(arr);}else{alert('Select another');}};useEffect(function(){if(freeShipping){setCost(0);}},[freeShipping]);var saveProduct=function saveProduct(){var data={name:name,categories:[],brand:brand,unit:unit,tags:tags,thumbnail:thumbnail,gallery:gallery,attributes:selectedAttrVal,variations:variations||[],productType:productType,price:price,discount:{discountType:discountType,value:discount},tax:{taxType:taxType,value:discount},sku:sku,stock:stock,description:description,shipping:{isFree:freeShipping,cost:cost},meta:{title:metaTitle,description:metaDescription,image:metaImage}};if(category){data.categories.push({level:1,category:category});}if(subCategory){data.categories.push({level:2,category:subCategory});}if(subSubCategory){data.categories.push({level:3,category:subSubCategory});}if(!category){setErrors({category:\"Please select a category\"});}//console.log(data);\naxios.post('/product/create',data).then(function(res){alert(\"product created successfully\");setErrors([]);}).catch(function(err){window.scrollTo({top:100,behavior:'smooth'});err&&err.response&&setErrors(err.response.data);});};var handleImageselect=function handleImageselect(item){if(imageFor==='thumbnail'){setThumbnail(item.thumbnailUrl);}if(imageFor==='gallery'){setGallery(function(prev){return[].concat(_toConsumableArray(prev),[item.thumbnailUrl]);});}if(imageFor==='meta'){setMetaImage(item.thumbnailUrl);}if(imageFor.startsWith('variant@@@')){var varname=imageFor.replace(\"variant@@@\",\"\");handleVariantInput(varname,'image',item.thumbnailUrl,false);}setDisplay(false);};return/*#__PURE__*/React.createElement(\"div\",{className:\"product_create\"},/*#__PURE__*/React.createElement(MediaLibrary,{display:display,onHide:function onHide(){return setDisplay(false);},selectCallback:function selectCallback(item){return handleImageselect(item);}}),/*#__PURE__*/React.createElement(Card,{title:\"Product Information\"},/*#__PURE__*/React.createElement(\"div\",{className:\"product_information\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input_item\"},/*#__PURE__*/React.createElement(\"label\",null,\"Product Name \",/*#__PURE__*/React.createElement(\"span\",{className:\"required\"},\"*\")),/*#__PURE__*/React.createElement(\"div\",{className:\"width_100\"},/*#__PURE__*/React.createElement(Input,{className:errors&&errors.name&&'error',value:name,onChange:function onChange(e){return setName(e.target.value);},placeholder:\"Product name\"}),errors&&errors.name&&/*#__PURE__*/React.createElement(\"span\",{className:\"error_text\"},errors.name))),/*#__PURE__*/React.createElement(\"div\",{className:\"input_item\"},/*#__PURE__*/React.createElement(\"label\",null,\"Category \",/*#__PURE__*/React.createElement(\"span\",{className:\"required\"},\"*\")),/*#__PURE__*/React.createElement(\"div\",{className:\"width_100\"},/*#__PURE__*/React.createElement(Select,{showSearch:true,style:{width:\"100%\"},dropdownStyle:{maxHeight:400,overflow:'auto'},placeholder:\"Please select a category\",optionFilterProp:\"children\",onChange:function onChange(value){return setCategory(value);},value:category,filterOption:function filterOption(input,option){return option.children.toLowerCase().indexOf(input.toLowerCase())>=0;}},categories.length>0&&categories.map(function(cat,index){return/*#__PURE__*/React.createElement(Option,{key:index,value:cat._id},cat.name);})),errors&&errors.category&&/*#__PURE__*/React.createElement(\"span\",{className:\"error_text\"},errors.category))),subCategories.length>0&&/*#__PURE__*/React.createElement(\"div\",{className:\"input_item\"},/*#__PURE__*/React.createElement(\"label\",null,\"Sub Category \",/*#__PURE__*/React.createElement(\"span\",{className:\"required\"},\"*\")),/*#__PURE__*/React.createElement(\"div\",{className:\"width_100\"},/*#__PURE__*/React.createElement(TreeSelect,{style:{width:'100%'},value:subSubCategory?subCategory+\"@@@\"+subSubCategory:subCategory,dropdownStyle:{maxHeight:400,overflow:'auto'},placeholder:\"Please select a category\",allowClear:true,treeDefaultExpandAll:true,onChange:function onChange(value){return handleSetSub(value);}},subCategories.length>0&&subCategories.map(function(cat,index){return/*#__PURE__*/React.createElement(TreeNode,{key:cat._id,value:cat._id,title:cat.name},cat.children.length>0&&cat.children.map(function(sub,index2){return/*#__PURE__*/React.createElement(TreeNode,{key:cat._id+\"@@@\"+sub._id,value:cat._id+\"@@@\"+sub._id,title:sub.name});}));})),errors&&errors.category&&/*#__PURE__*/React.createElement(\"span\",{className:\"error_text\"},errors.category))),/*#__PURE__*/React.createElement(\"div\",{className:\"input_item\"},/*#__PURE__*/React.createElement(\"label\",null,\"Brand \"),/*#__PURE__*/React.createElement(Select,{showSearch:true,style:{width:\"100%\"},placeholder:\"Select a Brand\",optionFilterProp:\"children\",onChange:function onChange(value){return setBrand(value);},filterOption:function filterOption(input,option){return option.children.toLowerCase().indexOf(input.toLowerCase())>=0;}},brands.length>0&&brands.map(function(b,index){return/*#__PURE__*/React.createElement(Option,{key:index,value:b._id},b.name);})),\",\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input_item\"},/*#__PURE__*/React.createElement(\"label\",null,\"Unit \",/*#__PURE__*/React.createElement(\"span\",{className:\"required\"},\"*\")),/*#__PURE__*/React.createElement(\"div\",{className:\"width_100\"},/*#__PURE__*/React.createElement(Input,{className:errors&&errors.name&&'error',value:unit,onChange:function onChange(e){return setUnit(e.target.value);},placeholder:\"Unit (e.g. KG,Pc etc)\"}),errors&&errors.unit&&/*#__PURE__*/React.createElement(\"span\",{className:\"error_text\"},errors.unit))),/*#__PURE__*/React.createElement(\"div\",{className:\"input_item\"},/*#__PURE__*/React.createElement(\"label\",null,\"Tags \"),/*#__PURE__*/React.createElement(\"div\",{className:\"tag_fieled\"},tags===null||tags===void 0?void 0:tags.map(function(tname,index){return/*#__PURE__*/React.createElement(\"span\",{className:\"tag_item\",key:index},tname,\" \",/*#__PURE__*/React.createElement(\"span\",{onClick:function onClick(){return handleRemoveTag(tname);},className:\"remove\"},\"X\"));}),/*#__PURE__*/React.createElement(Input,{onChange:function onChange(e){return setTagInput(e.target.value);},onKeyPress:handleKeyPressTag,type:\"text\",value:tagInput,placeholder:\"Enter tag name and press enter\"}))))),/*#__PURE__*/React.createElement(Card,{style:{marginTop:\"15px\"},title:\"Product Images\"},/*#__PURE__*/React.createElement(\"div\",{className:\"product_information\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input_item\"},/*#__PURE__*/React.createElement(\"label\",null,\"Thumbnail image \",/*#__PURE__*/React.createElement(\"span\",{className:\"required\"},\"*\")),/*#__PURE__*/React.createElement(\"div\",{style:{width:\"100%\"}},/*#__PURE__*/React.createElement(Button,{className:\"d_center\",onClick:function onClick(){setImageFor(\"thumbnail\");setDisplay(true);},type:\"primary\",shape:\"round\",icon:/*#__PURE__*/React.createElement(UploadOutlined,null),size:\"size\"},\"Upload thumbnail\"),/*#__PURE__*/React.createElement(\"div\",null,thumbnail&&/*#__PURE__*/React.createElement(\"div\",{className:\"image_container\"},/*#__PURE__*/React.createElement(\"img\",{src:thumbnail}))),errors&&errors.thumbnail&&/*#__PURE__*/React.createElement(\"span\",{className:\"error_text\"},errors.thumbnail))),/*#__PURE__*/React.createElement(\"div\",{className:\"input_item\"},/*#__PURE__*/React.createElement(\"label\",null,\"Gallery images \"),/*#__PURE__*/React.createElement(\"div\",{style:{width:\"100%\"}},/*#__PURE__*/React.createElement(Button,{className:\"d_center\",onClick:function onClick(){setImageFor(\"gallery\");setDisplay(true);},type:\"primary\",shape:\"round\",icon:/*#__PURE__*/React.createElement(UploadOutlined,null),size:\"size\"},\"Upload Galary\"),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\"}},gallery.map(function(g,index){return/*#__PURE__*/React.createElement(\"div\",{key:index,className:\"image_container\"},/*#__PURE__*/React.createElement(\"span\",{onClick:function onClick(){var array=_toConsumableArray(gallery);array.splice(index,1);setGallery(array);}},\"X\"),/*#__PURE__*/React.createElement(\"img\",{src:g}));})))))),/*#__PURE__*/React.createElement(Card,{style:{marginTop:\"15px\"},title:\"Product Variation\"},/*#__PURE__*/React.createElement(\"div\",{className:\"product_information\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input_item\"},/*#__PURE__*/React.createElement(\"label\",null,\"Product Type \"),/*#__PURE__*/React.createElement(Select,{style:{width:\"100%\"},onChange:function onChange(value){return handleChangeProductType(value);},value:productType},/*#__PURE__*/React.createElement(Option,{value:\"simple\"},\"Simple Product\"),/*#__PURE__*/React.createElement(Option,{value:\"variant\"},\"Variant Product\"))),productType==='variant'&&/*#__PURE__*/React.createElement(\"div\",{className:\"input_item\"},/*#__PURE__*/React.createElement(\"label\",null,\"Attributes \"),/*#__PURE__*/React.createElement(Select,{mode:\"multiple\",size:\"default\",placeholder:\"Please select\",onSelect:function onSelect(value){return handleChangeAttr(value);},style:{width:'100%'},onDeselect:function onDeselect(value){return handleRemoveAttr(value);}},attributes.map(function(attr,index){return/*#__PURE__*/React.createElement(Option,{value:attr._id,key:index},attr.name);}))),selectedAttr.map(function(attr,index){return/*#__PURE__*/React.createElement(\"div\",{key:index,className:\"input_item\"},/*#__PURE__*/React.createElement(\"label\",null,attr.name,\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"required\"},\"*\")),/*#__PURE__*/React.createElement(Select,{mode:\"multiple\",size:\"default\",placeholder:\"Please select\",onSelect:function onSelect(value){return handleChangeAttrValue(value);},onDeselect:function onDeselect(value){return handleRemoveAttrValue(value);},style:{width:'100%'}},attr.values.map(function(val,index2){return/*#__PURE__*/React.createElement(Option,{value:val+\"@@@\"+attr.name,key:index2},val);})));}))),/*#__PURE__*/React.createElement(Card,{style:{marginTop:\"15px\"},title:\"Product price + stock\"},/*#__PURE__*/React.createElement(\"div\",{className:\"product_information\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input_item\"},/*#__PURE__*/React.createElement(\"label\",null,\"Unit Price \",/*#__PURE__*/React.createElement(\"span\",{className:\"required\"},\"*\")),/*#__PURE__*/React.createElement(\"div\",{className:\"width_100\"},/*#__PURE__*/React.createElement(Input,{disabled:productType==='variant',className:errors&&errors.price&&'error',value:price,onChange:function onChange(e){return setPrice(e.target.value);},placeholder:\"Product price\",type:\"number\"}),errors&&errors.price&&/*#__PURE__*/React.createElement(\"span\",{className:\"error_text\"},errors.price))),/*#__PURE__*/React.createElement(\"div\",{className:\"input_item\"},/*#__PURE__*/React.createElement(\"label\",null,\"Discount \"),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",width:\"100%\"}},/*#__PURE__*/React.createElement(Input,{disabled:productType==='variant',value:discount,onChange:function onChange(e){return setDiscount(e.target.value);},style:{width:\"60%\"},placeholder:\"Discount price\",type:\"number\"}),/*#__PURE__*/React.createElement(Select,{style:{width:\"35%\"},placeholder:\"Select discount type\",optionFilterProp:\"children\",onChange:function onChange(value){return setDiscountType(value);},value:discountType,disabled:productType==='variant'},/*#__PURE__*/React.createElement(Option,{value:\"flat\"},\"Flat\"),/*#__PURE__*/React.createElement(Option,{value:\"percent\"},\"Percent\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"input_item\"},/*#__PURE__*/React.createElement(\"label\",null,\"Tax \"),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",width:\"100%\"}},/*#__PURE__*/React.createElement(Input,{onChange:function onChange(e){return setTax(e.target.value);},value:tax,style:{width:\"60%\"},placeholder:\"Tax value\",type:\"number\"}),/*#__PURE__*/React.createElement(Select,{style:{width:\"35%\"},placeholder:\"Select value type\",optionFilterProp:\"children\",onChange:function onChange(value){return setTaxType(value);},value:taxType},/*#__PURE__*/React.createElement(Option,{value:\"flat\"},\"Flat\"),/*#__PURE__*/React.createElement(Option,{value:\"percent\"},\"Percent\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"input_item\"},/*#__PURE__*/React.createElement(\"label\",null,\"SKU \"),/*#__PURE__*/React.createElement(Input,{value:sku,onChange:function onChange(e){return setSku(e.target.value);},placeholder:\"Product SKU\",type:\"text\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"input_item\"},/*#__PURE__*/React.createElement(\"label\",null,\"Stock \",/*#__PURE__*/React.createElement(\"span\",{className:\"required\"},\"*\")),/*#__PURE__*/React.createElement(Input,{disabled:productType==='variant',value:stock,onChange:function onChange(e){return setStock(e.target.value);},placeholder:\"Product stock\",type:\"number\"})),variations&&variations.length>0&&/*#__PURE__*/React.createElement(\"table\",{className:\"variation_table\"},/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Variant\"),/*#__PURE__*/React.createElement(\"th\",null,\"Variant Price\"),/*#__PURE__*/React.createElement(\"th\",null,\"Discount\"),/*#__PURE__*/React.createElement(\"th\",null,\"Discount Type\"),/*#__PURE__*/React.createElement(\"th\",null,\"Stock\"),/*#__PURE__*/React.createElement(\"th\",null,\"Set Default\"),/*#__PURE__*/React.createElement(\"th\",null,\"Photo\")),variations&&variations.map(function(variant,index){return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(React.Fragment,null,Object.keys(variant).map(function(keyName,i){return keyName==='varname'||keyName==='image'||keyName==='price'||keyName==='stock'||keyName==='discount'||keyName==='discountType'||keyName===\"isDefault\"?\"\":/*#__PURE__*/React.createElement(\"span\",{key:i},/*#__PURE__*/React.createElement(\"span\",null,keyName,\" :\"),/*#__PURE__*/React.createElement(\"strong\",{style:{margin:\"0 5px\",color:\"#494A4A\"}},variant[keyName]),\",\");}))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Input,{value:variant.price,onChange:function onChange(e){return handleVariantInput(variant.varname,'price',e.target.value,variant.isDefault);},placeholder:\"Variant Price\",type:\"number\"})),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Input,{value:variant.discount,onChange:function onChange(e){return handleVariantInput(variant.varname,'discount',e.target.value,variant.isDefault);},placeholder:\"Discount\",type:\"number\"})),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Select,{style:{width:\"90%\"},placeholder:\"Select discount type\",optionFilterProp:\"children\",onChange:function onChange(value){return handleVariantInput(variant.varname,'discountType',value,variant.isDefault);},value:variant.discountType},/*#__PURE__*/React.createElement(Option,{value:\"flat\"},\"Flat\"),/*#__PURE__*/React.createElement(Option,{value:\"percent\"},\"Percent\"))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Input,{onBlur:function onBlur(e){e.target.value===''&&handleVariantInput(variant.varname,'stock',0);},value:variant.stock,onChange:function onChange(e){return handleVariantInput(variant.varname,'stock',e.target.value);},placeholder:\"Variant Stock\",type:\"number\"})),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Switch,{style:{width:\"10px\"},checked:variant.isDefault,onChange:function onChange(c){return handleVariandDefault(variant,c);}})),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Button,{className:\"d_center\",onClick:function onClick(){setImageFor(\"variant@@@\"+variant.varname);setDisplay(true);},type:\"primary\",shape:\"round\",icon:/*#__PURE__*/React.createElement(UploadOutlined,null),size:\"size\"},\"Upload Image\"),variant.image&&/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\"}},/*#__PURE__*/React.createElement(\"div\",{key:index,className:\"image_container\"},/*#__PURE__*/React.createElement(\"span\",{onClick:function onClick(){return handleVariantInput(variant.varname,'image',\"\");}},\"X\"),/*#__PURE__*/React.createElement(\"img\",{src:variant.image})))));}))))),/*#__PURE__*/React.createElement(Card,{style:{marginTop:\"15px\"},title:\"Product Description\"},/*#__PURE__*/React.createElement(\"div\",{className:\"product_information\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input_item\"},/*#__PURE__*/React.createElement(\"label\",null,\"Description \"),/*#__PURE__*/React.createElement(ReactQuill,{value:description,onChange:function onChange(value){return setDescription(value);},style:{width:\"100%\",marginBottom:\"20px\"}})))),/*#__PURE__*/React.createElement(Card,{style:{marginTop:\"15px\"},title:\"Product shipping cost\"},/*#__PURE__*/React.createElement(\"div\",{className:\"product_information\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input_item\"},/*#__PURE__*/React.createElement(\"label\",null,\"Free shipping \",/*#__PURE__*/React.createElement(\"span\",{className:\"required\"},\"*\")),/*#__PURE__*/React.createElement(Switch,{style:{width:\"10px\"},checked:freeShipping,onChange:function onChange(c){return setFreeShipping(c);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"input_item\"},/*#__PURE__*/React.createElement(\"label\",null,\"Shipping cost \"),/*#__PURE__*/React.createElement(Input,{value:cost,onChange:function onChange(e){return setCost(e.target.value);},disabled:freeShipping,placeholder:\"shipping cost\",type:\"number\",style:{width:\"20%\"}})))),/*#__PURE__*/React.createElement(Card,{style:{marginTop:\"15px\"},title:\"SEO Meta Tags\"},/*#__PURE__*/React.createElement(\"div\",{className:\"product_information\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input_item\"},/*#__PURE__*/React.createElement(\"label\",null,\"Meta title \"),/*#__PURE__*/React.createElement(Input,{value:metaTitle,onChange:function onChange(e){return setMetaTitle(e.target.value);},type:\"text\",placeholder:\"product meta title\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"input_item\"},/*#__PURE__*/React.createElement(\"label\",null,\"Meta description \"),/*#__PURE__*/React.createElement(Input.TextArea,{value:metaDescription,onChange:function onChange(e){return setMetaDescription(e.target.value);},type:\"text\",placeholder:\"product meta description\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"input_item\"},/*#__PURE__*/React.createElement(\"label\",null,\"Meta Image \"),/*#__PURE__*/React.createElement(\"div\",{style:{width:\"100%\"}},/*#__PURE__*/React.createElement(Button,{className:\"d_center\",onClick:function onClick(){setImageFor(\"meta\");setDisplay(true);},type:\"primary\",shape:\"round\",icon:/*#__PURE__*/React.createElement(UploadOutlined,null),size:\"size\"},\"Upload meta image\"),/*#__PURE__*/React.createElement(\"div\",null,metaImage&&/*#__PURE__*/React.createElement(\"div\",{className:\"image_container\"},/*#__PURE__*/React.createElement(\"span\",{onClick:function onClick(){return setMetaImage('');}},\"X\"),/*#__PURE__*/React.createElement(\"img\",{src:metaImage}))))))),/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return saveProduct();},size:\"large\",style:{float:\"right\",margin:\"15px 0\"},type:\"primary\"},\"Save Product\"));}export default CreateProduct;","map":{"version":3,"sources":["/home/e2e/e2e-microservice/20231007-e2e-microservice/Ts4u-E-Com-Admin-Dev/src/pages/product/CreateProduct.js"],"names":["React","useState","useEffect","Card","Form","Input","TreeSelect","Select","Switch","Button","Alert","UploadOutlined","ReactQuill","axios","useSelector","MediaLibrary","TreeNode","Option","CreateProduct","state","data","categories","brands","display","setDisplay","imageFor","setImageFor","errors","setErrors","name","setName","brand","setBrand","unit","setUnit","tags","setTags","tagInput","setTagInput","productType","setProductType","subCategories","setSubCategories","category","setCategory","subCategory","setSubCategory","subSubCategory","setSubSubCategory","thumbnail","setThumbnail","gallery","setGallery","attributes","setAttributes","selectedAttr","setSelectedAttr","selectedAttrVal","setSelectedAttrVal","price","setPrice","discount","setDiscount","discountType","setDiscountType","tax","setTax","taxType","setTaxType","stock","setStock","sku","setSku","variations","setVariations","description","setDescription","freeShipping","setFreeShipping","cost","setCost","metaTitle","setMetaTitle","metaDescription","setMetaDescription","metaImage","setMetaImage","fetchAttributes","get","then","res","catch","err","console","log","handleChangeProductType","value","filterd","filter","cat","_id","children","handleSetSub","values","split","length","handleKeyPressTag","e","charCode","prev","replace","handleRemoveTag","tname","filtered","t","handleChangeAttr","a","handleRemoveAttr","selected","attrval","index","findIndex","v","splice","handleChangeAttrValue","newArry","val","newVal","handleRemoveAttrValue","allArraysObj","map","getProducts","arrays","results","slice","forEach","product","push","concat","getAllCombinations","attributeNames","Object","keys","attributeValues","obj","image","isDefault","i","join","sum","reduce","b","parseInt","handleVariantInput","varname","type","arr","handleVariandDefault","variant","variation","alert","saveProduct","shipping","isFree","meta","title","level","post","window","scrollTo","top","behavior","response","handleImageselect","item","thumbnailUrl","startsWith","target","width","maxHeight","overflow","input","option","toLowerCase","indexOf","sub","index2","marginTop","g","array","attr","justifyContent","keyName","margin","color","c","marginBottom","float"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Card, Form, Input, TreeSelect, Select, Switch, Button, Alert } from 'antd';\nimport { UploadOutlined } from '@ant-design/icons'\nimport \"./product.scss\"\nimport 'react-quill/dist/quill.snow.css';\nimport ReactQuill from 'react-quill'\nimport axios from 'axios'\nimport {useSelector} from 'react-redux'\nimport MediaLibrary from '../../components/MediaLibrary';\n\nconst { TreeNode } = TreeSelect;\nconst { Option } = Select;\n\n\n\n\n\n\n\n\n\n\n\nfunction CreateProduct() {\n    const {categories,brands} = useSelector(state => state.data)\n    const [display, setDisplay] = useState(false)\n    const [imageFor, setImageFor] = useState(\"thumbnail\")\n\n    const [errors, setErrors] = useState([])\n\n    //-----product information---------\n    const [name, setName] = useState('')\n    //const [brands, setBrands] = useState([])\n    const [brand, setBrand] = useState('')\n    const [unit, setUnit] = useState('')\n    const [tags, setTags] = useState([])\n    const [tagInput, setTagInput] = useState('')\n\n    const [productType, setProductType] = useState('simple')\n\n    //categories\n    //const [categories, setCategories] = useState([])\n    const [subCategories, setSubCategories] = useState([])\n    const [category, setCategory] = useState('')\n    const [subCategory, setSubCategory] = useState('')\n    const [subSubCategory, setSubSubCategory] = useState('')\n\n    //images\n    const [thumbnail, setThumbnail] = useState('')\n    const [gallery, setGallery] = useState([])\n\n    //attributes\n    const [attributes, setAttributes] = useState([])\n    const [selectedAttr, setSelectedAttr] = useState([])\n    const [selectedAttrVal, setSelectedAttrVal] = useState([])\n\n\n\n    //price\n    const [price, setPrice] = useState()\n    const [discount, setDiscount] = useState(0)\n    const [discountType, setDiscountType] = useState('flat')\n    const [tax, setTax] = useState(0)\n    const [taxType, setTaxType] = useState('flat')\n\n    //stock\n    const [stock, setStock] = useState('50')\n    const [sku, setSku] = useState('')\n\n\n    //variations\n\n    const [variations, setVariations] = useState([])\n\n\n    //description\n    const [description, setDescription] = useState('')\n\n    //shipping\n    const [freeShipping, setFreeShipping] = useState(true)\n    const [cost, setCost] = useState(0)\n\n    //meta\n    const [metaTitle, setMetaTitle] = useState('')\n    const [metaDescription, setMetaDescription] = useState('')\n    const [metaImage, setMetaImage] = useState('')\n\n\n\n    //fetch data\n \n\n    const fetchAttributes = () => {\n        axios.get('attribute/get')\n            .then(res => {\n                setAttributes(res.data.attributes)\n            })\n            .catch(err => {\n                console.log(err);\n            })\n    }\n\n\n    useEffect(() => {\n        fetchAttributes()\n    }, [])\n\n\n    //product type\n\n    const handleChangeProductType = (value) => {\n        if (value === 'simple') {\n            setSelectedAttr([])\n            setSelectedAttrVal([])\n            setVariations([])\n        }\n        setProductType(value)\n    }\n\n    //category actions\n    useEffect(() => {\n        if (category) {\n            let filterd = categories.filter(cat => cat._id === category)\n            setSubCategories(filterd[0]?.children)\n            setSubCategory('')\n            setSubSubCategory('')\n        } else {\n            setSubCategories([])\n            setSubCategory('')\n            setSubSubCategory('')\n\n        }\n    }, [category])\n\n\n    const handleSetSub = (value) => {\n        //console.log(value);\n        let values = value.split(\"@@@\")\n        if (values.length === 1) {\n            //console.log(values[0]);\n            setSubCategory(values[0])\n        } else if (values.length === 2) {\n            setSubCategory(values[0])\n            setSubSubCategory(values[1])\n        }\n    }\n\n\n\n\n\n    //tags action\n    const handleKeyPressTag = (e) => {\n\n        if (e.charCode === 13 || e.charCode === 44) {\n            setTags(prev => [...prev, tagInput.replace(',', \"\")])\n            //console.log(tagInput);\n            setTagInput('')\n        }\n    }\n\n    const handleRemoveTag = (tname) => {\n        let filtered = tags.filter(t => t !== tname)\n        setTags(filtered)\n    }\n\n\n    //----------------attributes--------------------\n    const handleChangeAttr = (value) => {\n        let filtered = attributes.filter(a => a._id === value)[0]\n        setSelectedAttr(prev => [...prev, filtered])\n    }\n    const handleRemoveAttr = (value) => {\n\n        let filtered = selectedAttr.filter(a => a._id !== value)\n        let selected = selectedAttr.filter(a => a._id === value)[0]\n        setSelectedAttr(filtered)\n        //console.log(selected.name);\n\n        let attrval = [...selectedAttrVal]\n        let index = attrval.findIndex(v => v.name === selected.name)\n        attrval.splice(index, 1)\n        setSelectedAttrVal(attrval)\n\n    }\n\n\n    //----------------variation-------------------------\n    const handleChangeAttrValue = (value) => {\n\n        let newArry = [...selectedAttrVal]\n        let index = newArry.findIndex(val => val.name === value.split(\"@@@\")[1])\n\n\n        if (index === -1) {\n            setSelectedAttrVal([...selectedAttrVal, { name: value.split(\"@@@\")[1], values: [value.split(\"@@@\")[0]] }])\n        } else {\n            let newVal = [...newArry[index].values, value.split(\"@@@\")[0]]\n            newArry[index] = { name: value.split(\"@@@\")[1], values: newVal }\n            setSelectedAttrVal(newArry)\n        }\n    }\n\n    const handleRemoveAttrValue = (value) => {\n\n        let newArry = [...selectedAttrVal]\n        let index = newArry.findIndex(val => val.name === value.split(\"@@@\")[1])\n\n        if (index === -1) return\n        let selected = newArry[index]\n\n        let newVal = selected.values.filter(v => v !== value.split(\"@@@\")[0])\n\n\n        if (newVal.length === 0) {\n\n            newArry.splice(index, 1)\n            setSelectedAttrVal(newArry)\n        } else {\n            newArry[index] = { name: value.split(\"@@@\")[1], values: newVal }\n            setSelectedAttrVal(newArry)\n        }\n\n\n    }\n\n\n\n\n    useEffect(() => {\n        if (selectedAttrVal.length < 1) {\n            setVariations([])\n            return\n        }\n\n        var allArraysObj = {}\n        selectedAttrVal.map(a => {\n            allArraysObj = { ...allArraysObj, [a.name]: a.values }\n        })\n\n\n        let getProducts = (arrays) => {\n            if (arrays.length === 0) {\n                return [[]];\n            }\n\n            let results = [];\n\n            getProducts(arrays.slice(1)).forEach((product) => {\n                arrays[0].forEach((value) => {\n                    results.push([value].concat(product));\n                });\n            });\n\n            return results;\n        };\n\n        let getAllCombinations = (attributes) => {\n\n            let attributeNames = Object.keys(attributes);\n\n            let attributeValues = attributeNames.map((name) => attributes[name]);\n\n            return getProducts(attributeValues).map((product, index) => {\n                let val = []\n                let obj = { stock: 0, image: \"\", price: 0, discount: 0, discountType: \"flat\", isDefault: false };\n                attributeNames.forEach((name, i) => {\n                    obj[name] = product[i];\n                    val.push(product[i]);\n\n\n                });\n                if (index === 0) {\n                    obj['isDefault'] = true\n                }\n                obj[\"varname\"] = (val.join(\"--\"));\n                return obj;\n            });\n        };\n        //console.log(getAllCombinations(allArraysObj));\n        setVariations(getAllCombinations(allArraysObj));\n    }, [selectedAttrVal, selectedAttr])\n\n    useEffect(() => {\n        if (!variations) return\n\n        var sum = variations.reduce(function (a, b) {\n            return parseInt(a) + parseInt(b.stock);\n        }, 0);\n        setStock(sum);\n    }, [variations])\n\n    const handleVariantInput = (varname, type, value, isDefault) => {\n        if (isDefault) {\n            if (type === 'price') {\n                setPrice(value)\n            } else if (type === 'discount') {\n                setDiscount(value)\n            } else if (type === 'discountType') {\n                setDiscountType(value)\n            }\n        }\n        let filtered = variations.findIndex(v => v.varname === varname)\n        let arr = [...variations]\n        arr[filtered] = { ...arr[filtered], [type]: value }\n        setVariations(arr)\n    }\n\n    const handleVariandDefault = (variant, value) => {\n        if (value) {\n            setPrice(variant.price)\n            setDiscount(variant.discount)\n            setDiscountType(variant.discountType)\n            let arr = []\n            variations && variations.map((variation, i) => {\n                if (variation.varname === variant.varname) {\n                    arr.push({ ...variation, isDefault: true, image: thumbnail })\n                } else {\n                    arr.push({ ...variation, isDefault: false })\n                }\n            });\n\n            setVariations(arr)\n        } else {\n            alert('Select another')\n        }\n\n    }\n\n\nuseEffect(() => {\n    if(freeShipping){\n        setCost(0)\n    }\n}, [freeShipping])\n\n\n\n    const saveProduct = () => {\n        let data = {\n            name,\n            categories: [],\n            brand,\n            unit,\n            tags,\n            thumbnail,\n            gallery,\n            attributes: selectedAttrVal,\n            variations: variations || [],\n            productType,\n            price,\n            discount: {\n                discountType,\n                value: discount\n            },\n            tax: {\n                taxType,\n                value: discount\n            },\n            sku,\n            stock,\n            description,\n            shipping: {\n                isFree: freeShipping,\n                cost\n            },\n            meta: {\n                title: metaTitle,\n                description: metaDescription,\n                image: metaImage\n            }\n        }\n\n        if (category) {\n            data.categories.push({ level: 1, category })\n        }\n        if (subCategory) {\n            data.categories.push({ level: 2, category: subCategory })\n        }\n        if (subSubCategory) {\n            data.categories.push({ level: 3, category: subSubCategory })\n        }\n\n        if (!category) {\n            setErrors({ category: \"Please select a category\" })\n        }\n\n        //console.log(data);\n\n        axios.post('/product/create', data)\n            .then(res => {\n                alert(\"product created successfully\");\n                setErrors([])\n            })\n            .catch(err => {\n                window.scrollTo({\n                    top: 100,\n\n                    behavior: 'smooth'\n                });\n                err && err.response && setErrors(err.response.data)\n            })\n    }\n\n    const handleImageselect = (item) => {\n        if (imageFor === 'thumbnail') {\n            setThumbnail(item.thumbnailUrl);\n           \n        }\n        if (imageFor === 'gallery') {\n            setGallery(prev => [...prev, item.thumbnailUrl]);\n        }\n        if (imageFor === 'meta') {\n            setMetaImage(item.thumbnailUrl);\n        }\n        if (imageFor.startsWith('variant@@@')) {\n            let varname = imageFor.replace(\"variant@@@\", \"\")\n            handleVariantInput(varname, 'image', item.thumbnailUrl, false)\n        }\n\n        setDisplay(false)\n    }\n\n\n\n\n\n\n\n    return (\n        <div className=\"product_create\">\n            <MediaLibrary display={display} onHide={() => setDisplay(false)} selectCallback={(item) => handleImageselect(item)} />\n            <Card title=\"Product Information\" >\n                <div className='product_information'>\n                    <div className='input_item'>\n                        <label>Product Name <span className='required'>*</span></label>\n                        <div className='width_100'>\n                            <Input className={errors && errors.name && 'error'} value={name} onChange={(e) => setName(e.target.value)} placeholder='Product name'></Input>\n                            {errors && errors.name && <span className='error_text'>{errors.name}</span>}\n\n\n                        </div>\n\n                    </div>\n\n                    {/* -------------------categories-------------- */}\n                    <div className='input_item'>\n                        <label>Category <span className='required'>*</span></label>\n                        <div className='width_100'>\n                            <Select\n                                showSearch\n                                style={{ width: \"100%\" }}\n                                dropdownStyle={{ maxHeight: 400, overflow: 'auto' }}\n                                placeholder=\"Please select a category\"\n                                optionFilterProp=\"children\"\n                                onChange={(value) => setCategory(value)}\n                                value={category}\n                                filterOption={(input, option) =>\n                                    option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                                }\n                            >\n                                {\n                                    categories.length > 0 && categories.map((cat, index) => {\n                                        return (\n                                            <Option key={index} value={cat._id}>{cat.name}</Option>\n                                        )\n\n                                    })\n                                }\n\n\n                            </Select>\n                            {errors && errors.category && <span className='error_text'>{errors.category}</span>}\n\n\n\n\n                        </div>\n                    </div>\n\n\n                    {/*---------------- sub categories---------- */}\n                    {\n                        subCategories.length > 0 &&\n                        <div className='input_item'>\n                            <label>Sub Category <span className='required'>*</span></label>\n                            <div className='width_100'>\n                                <TreeSelect\n\n                                    style={{ width: '100%' }}\n                                    value={subSubCategory ? subCategory + \"@@@\" + subSubCategory : subCategory}\n                                    dropdownStyle={{ maxHeight: 400, overflow: 'auto' }}\n                                    placeholder=\"Please select a category\"\n                                    allowClear\n                                    treeDefaultExpandAll\n                                    onChange={(value) => handleSetSub(value)}\n                                >\n\n                                    {\n                                        subCategories.length > 0 && subCategories.map((cat, index) => {\n                                            return (\n                                                <TreeNode key={cat._id} value={cat._id} title={cat.name}>\n                                                    {\n                                                        cat.children.length > 0 && cat.children.map((sub, index2) => {\n                                                            return (\n                                                                <TreeNode key={cat._id + \"@@@\" + sub._id} value={cat._id + \"@@@\" + sub._id} title={sub.name}>\n\n                                                                </TreeNode>\n                                                            )\n                                                        })\n                                                    }\n                                                </TreeNode>\n                                            )\n                                        })\n                                    }\n\n                                </TreeSelect>\n                                {errors && errors.category && <span className='error_text'>{errors.category}</span>}\n                            </div>\n                        </div>\n                    }\n\n\n\n\n                    <div className='input_item'>\n                        <label>Brand </label>\n                        <Select\n                            showSearch\n                            style={{ width: \"100%\" }}\n                            placeholder=\"Select a Brand\"\n                            optionFilterProp=\"children\"\n                            onChange={(value) => setBrand(value)}\n\n                            filterOption={(input, option) =>\n                                option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                            }\n                        >\n                            {\n                                brands.length > 0 && brands.map((b, index) => {\n                                    return (\n                                        <Option key={index} value={b._id}>{b.name}</Option>\n                                    )\n\n                                })\n                            }\n\n\n                        </Select>,\n                    </div>\n\n                    <div className='input_item'>\n                        <label>Unit <span className='required'>*</span></label>\n                        <div className='width_100'>\n                            <Input className={errors && errors.name && 'error'} value={unit} onChange={(e) => setUnit(e.target.value)} placeholder='Unit (e.g. KG,Pc etc)'></Input>\n                            {errors && errors.unit && <span className='error_text'>{errors.unit}</span>}\n                        </div>\n\n                    </div>\n                    <div className='input_item'>\n                        <label>Tags </label>\n                        <div className='tag_fieled'>\n                            {\n                                tags?.map((tname, index) => {\n                                    return (\n                                        <span className='tag_item' key={index}>{tname} <span onClick={() => handleRemoveTag(tname)} className='remove'>X</span></span>\n                                    )\n                                })\n                            }\n                            <Input onChange={(e) => setTagInput(e.target.value)} onKeyPress={handleKeyPressTag} type='text' value={tagInput} placeholder='Enter tag name and press enter'></Input>\n                        </div>\n                    </div>\n                </div>\n            </Card>\n\n            {/* --------product images-------------- */}\n            <Card style={{ marginTop: \"15px\" }} title=\"Product Images\" >\n                <div className='product_information'>\n                    <div className='input_item'>\n                        <label>Thumbnail image <span className='required'>*</span></label>\n                        <div style={{ width: \"100%\" }}>\n                            <Button className='d_center'\n                                onClick={() => {\n                                    setImageFor(\"thumbnail\")\n                                    setDisplay(true)\n                                }}\n                                type=\"primary\"\n                                shape=\"round\"\n                                icon={<UploadOutlined />}\n                                size={\"size\"} >\n                                Upload thumbnail\n                            </Button>\n                            <div >\n                                {\n                                    thumbnail && <div className='image_container'>\n\n                                        <img src={thumbnail}></img>\n                                    </div>\n                                }\n\n\n                            </div>\n                            {errors && errors.thumbnail && <span className='error_text'>{errors.thumbnail}</span>}\n                        </div>\n\n\n                    </div>\n\n                    <div className='input_item'>\n                        <label>Gallery images </label>\n                        <div style={{ width: \"100%\" }}>\n                            <Button\n                                className='d_center'\n                                onClick={() => {\n                                    setImageFor(\"gallery\")\n                                    setDisplay(true)\n                                }}\n                                type=\"primary\"\n                                shape=\"round\"\n                                icon={<UploadOutlined />}\n                                size={\"size\"} >\n                                Upload Galary\n                            </Button>\n                            <div style={{ display: \"flex\" }}>\n                                {\n                                    gallery.map((g, index) => {\n                                        return (\n                                            <div key={index} className='image_container'>\n                                                <span onClick={() => {\n                                                    let array = [...gallery]\n                                                    array.splice(index, 1)\n                                                    setGallery(array)\n                                                }}>X</span>\n                                                <img src={g}></img>\n                                            </div>\n                                        )\n                                    })\n                                }\n\n                            </div>\n                        </div>\n\n                    </div>\n                </div>\n\n            </Card>\n\n\n            {/* -------------product attributes----------------------- */}\n            <Card style={{ marginTop: \"15px\" }} title=\"Product Variation\" >\n                <div className='product_information'>\n                    <div className='input_item'>\n                        <label>Product Type </label>\n                        <Select\n                            style={{ width: \"100%\" }}\n                            onChange={(value) => handleChangeProductType(value)}\n                            value={productType}\n                        >\n                            <Option value='simple'>Simple Product</Option>\n                            <Option value='variant'>Variant Product</Option>\n\n                        </Select>\n                    </div>\n\n                    {\n                        productType === 'variant' && <div className='input_item'>\n                            <label>Attributes </label>\n                            <Select\n                                mode=\"multiple\"\n                                size=\"default\"\n                                placeholder=\"Please select\"\n                                onSelect={(value) => handleChangeAttr(value)}\n                                style={{ width: '100%' }}\n                                onDeselect={(value) => handleRemoveAttr(value)}\n                            >\n                                {\n                                    attributes.map((attr, index) => {\n                                        return (\n                                            <Option value={attr._id} key={index}>{attr.name}</Option>\n                                        )\n                                    })\n                                }\n                            </Select>\n                        </div>\n                    }\n\n\n                    {\n                        selectedAttr.map((attr, index) => {\n                            return (\n                                <div key={index} className='input_item'>\n                                    <label>{attr.name} <span className='required'>*</span></label>\n                                    <Select\n                                        mode=\"multiple\"\n                                        size=\"default\"\n                                        placeholder=\"Please select\"\n                                        onSelect={(value) => handleChangeAttrValue(value)}\n                                        onDeselect={(value) => handleRemoveAttrValue(value)}\n                                        style={{ width: '100%' }}\n\n                                    >\n                                        {\n                                            attr.values.map((val, index2) => {\n                                                return (\n                                                    <Option value={val + \"@@@\" + attr.name} key={index2}>{val}</Option>\n                                                )\n                                            })\n                                        }\n                                    </Select>\n                                </div>\n                            )\n                        })\n                    }\n                </div>\n            </Card>\n\n\n            {/* --------product price-------------- */}\n            <Card style={{ marginTop: \"15px\" }} title=\"Product price + stock\" >\n                <div className='product_information'>\n                    <div className='input_item'>\n                        <label>Unit Price <span className='required'>*</span></label>\n                        <div className='width_100'>\n                            <Input disabled={productType === 'variant'} className={errors && errors.price && 'error'} value={price} onChange={(e) => setPrice(e.target.value)} placeholder='Product price' type='number'></Input>\n                            {errors && errors.price && <span className='error_text'>{errors.price}</span>}\n                        </div>\n\n                    </div>\n                    <div className='input_item'>\n                        <label>Discount </label>\n                        <div style={{ display: \"flex\", justifyContent: \"space-between\", width: \"100%\" }}>\n                            <Input disabled={productType === 'variant'} value={discount} onChange={(e) => setDiscount(e.target.value)} style={{ width: \"60%\" }} placeholder='Discount price' type='number'></Input>\n                            <Select\n                                style={{ width: \"35%\" }}\n                                placeholder=\"Select discount type\"\n                                optionFilterProp=\"children\"\n                                onChange={(value) => setDiscountType(value)}\n                                value={discountType}\n                                disabled={productType === 'variant'}\n\n                            >\n                                <Option value=\"flat\">Flat</Option>\n                                <Option value=\"percent\">Percent</Option>\n                            </Select>\n                        </div>\n\n                    </div>\n                    <div className='input_item'>\n                        <label>Tax </label>\n                        <div style={{ display: \"flex\", justifyContent: \"space-between\", width: \"100%\" }}>\n                            <Input onChange={(e) => setTax(e.target.value)} value={tax} style={{ width: \"60%\" }} placeholder='Tax value' type='number'></Input>\n                            <Select\n                                style={{ width: \"35%\" }}\n                                placeholder=\"Select value type\"\n                                optionFilterProp=\"children\"\n                                onChange={(value) => setTaxType(value)}\n                                value={taxType}\n\n\n                            >\n                                <Option value=\"flat\">Flat</Option>\n                                <Option value=\"percent\">Percent</Option>\n                            </Select>\n                        </div>\n\n                    </div>\n                    <div className='input_item'>\n                        <label>SKU </label>\n                        <Input value={sku} onChange={(e) => setSku(e.target.value)} placeholder='Product SKU' type='text'></Input>\n                    </div>\n                    <div className='input_item'>\n                        <label>Stock <span className='required'>*</span></label>\n                        <Input disabled={productType === 'variant'} value={stock} onChange={(e) => setStock(e.target.value)} placeholder='Product stock' type='number'></Input>\n                    </div>\n\n                    {\n                        variations && variations.length > 0 &&\n                        <table className='variation_table'>\n                            <tbody>\n                            <tr>\n                                <th>Variant</th>\n                                <th>Variant Price</th>\n                                <th>Discount</th>\n                                <th>Discount Type</th>\n                                <th>Stock</th>\n                                <th>Set Default</th>\n                                <th>Photo</th>\n                            </tr>\n                            {\n                                variations && variations.map((variant, index) => {\n                                    return (\n                                        <tr key={index}>\n                                            <td>\n                                                <>\n                                                    {\n                                                        Object.keys(variant).map((keyName, i) => (\n                                                            keyName === 'varname' || keyName === 'image' || keyName === 'price' || keyName === 'stock' || keyName === 'discount' || keyName === 'discountType' || keyName === \"isDefault\" ? \"\" :\n                                                                <span key={i} >\n\n                                                                    <span >{keyName} :</span>\n                                                                    <strong style={{ margin: \"0 5px\", color: \"#494A4A\" }}>{variant[keyName]}</strong>,\n\n                                                        </span>\n                                                        ))\n                                                    }\n\n                                                </>\n                                            </td>\n                                            <td>\n                                                <Input value={variant.price} onChange={(e) => handleVariantInput(variant.varname, 'price', e.target.value, variant.isDefault)} placeholder='Variant Price' type='number'></Input>\n                                            </td>\n                                            <td>\n                                                <Input value={variant.discount} onChange={(e) => handleVariantInput(variant.varname, 'discount', e.target.value, variant.isDefault)} placeholder='Discount' type='number'></Input>\n                                            </td>\n                                            <td>\n                                                <Select\n                                                    style={{ width: \"90%\" }}\n                                                    placeholder=\"Select discount type\"\n                                                    optionFilterProp=\"children\"\n                                                    onChange={(value) => handleVariantInput(variant.varname, 'discountType', value, variant.isDefault)}\n                                                    value={variant.discountType}\n\n                                                >\n                                                    <Option value=\"flat\">Flat</Option>\n                                                    <Option value=\"percent\">Percent</Option>\n                                                </Select>\n                                            </td>\n                                            <td>\n                                                <Input onBlur={(e) => { e.target.value === '' && handleVariantInput(variant.varname, 'stock', 0) }} value={variant.stock} onChange={(e) => handleVariantInput(variant.varname, 'stock', e.target.value)} placeholder='Variant Stock' type='number'></Input>\n                                            </td>\n                                            <td>\n                                                <Switch style={{ width: \"10px\" }} checked={variant.isDefault} onChange={(c) => handleVariandDefault(variant, c)} />\n                                            </td>\n                                            <td>\n\n\n                                                <Button\n                                                    className='d_center'\n                                                    onClick={() => {\n                                                        setImageFor(\"variant@@@\" + variant.varname)\n                                                        setDisplay(true)\n                                                    }}\n                                                    type=\"primary\"\n                                                    shape=\"round\"\n                                                    icon={<UploadOutlined />}\n                                                    size={\"size\"} >\n                                                    Upload Image\n                                                </Button>\n                                                {\n                                                    variant.image && <div style={{ display: \"flex\" }}>\n                                                        <div key={index} className='image_container'>\n                                                            <span onClick={() => handleVariantInput(variant.varname, 'image', \"\")}>X</span>\n                                                            <img src={variant.image}></img>\n                                                        </div>\n\n                                                    </div>\n                                                }\n\n\n                                            </td>\n\n\n                                        </tr>\n                                    )\n                                })\n                            }\n                            </tbody>\n                        </table>\n                    }\n\n                </div>\n\n            </Card>\n\n\n\n            {/* --------product Description-------------- */}\n            <Card style={{ marginTop: \"15px\" }} title=\"Product Description\" >\n                <div className='product_information'>\n                    <div className='input_item'>\n                        <label>Description </label>\n                        <ReactQuill\n                            value={description}\n                            onChange={(value) => setDescription(value)}\n                            style={{ width: \"100%\", marginBottom: \"20px\" }}\n                        />\n                    </div>\n\n                </div>\n\n            </Card>\n\n\n            {/* --------product shipping-------------- */}\n            <Card style={{ marginTop: \"15px\" }} title=\"Product shipping cost\" >\n                <div className='product_information'>\n                    <div className='input_item'>\n                        <label>Free shipping <span className='required'>*</span></label>\n                        <Switch style={{ width: \"10px\" }} checked={freeShipping} onChange={(c) => setFreeShipping(c)} />\n                    </div>\n                    <div className='input_item'>\n                        <label>Shipping cost </label>\n                        <Input value={cost} onChange={(e)=>setCost(e.target.value)} disabled={freeShipping} placeholder='shipping cost' type='number' style={{ width: \"20%\" }}></Input>\n                    </div>\n\n                </div>\n\n            </Card>\n\n\n            {/* --------product meta-------------- */}\n            <Card style={{ marginTop: \"15px\" }} title=\"SEO Meta Tags\" >\n                <div className='product_information'>\n                    <div className='input_item'>\n                        <label>Meta title </label>\n                        <Input value={metaTitle} onChange={(e) => setMetaTitle(e.target.value)} type='text' placeholder=\"product meta title\"></Input>\n                    </div>\n                    <div className='input_item'>\n                        <label>Meta description </label>\n                        <Input.TextArea value={metaDescription} onChange={(e) => setMetaDescription(e.target.value)} type='text' placeholder=\"product meta description\"></Input.TextArea>\n                    </div>\n                    <div className='input_item'>\n                        <label>Meta Image </label>\n                        <div style={{ width: \"100%\" }}>\n                            <Button\n                                className='d_center'\n                                onClick={() => {\n                                    setImageFor(\"meta\")\n                                    setDisplay(true)\n                                }}\n                                type=\"primary\"\n                                shape=\"round\"\n                                icon={<UploadOutlined />}\n                                size={\"size\"} >\n                                Upload meta image\n                            </Button>\n                            <div >\n                                {\n                                    metaImage && <div className='image_container'>\n                                        <span onClick={() => setMetaImage('')}>X</span>\n                                        <img src={metaImage}></img>\n                                    </div>\n                                }\n\n\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n\n            </Card>\n\n\n            <Button onClick={() => saveProduct()} size='large' style={{ float: \"right\", margin: \"15px 0\" }} type=\"primary\">Save Product</Button>\n        </div>\n    )\n}\n\nexport default CreateProduct\n"]},"metadata":{},"sourceType":"module"}